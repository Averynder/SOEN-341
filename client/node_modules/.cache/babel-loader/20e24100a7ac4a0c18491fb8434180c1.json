{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\MonPC\\\\Desktop\\\\School\\\\SOEN\\\\SOEN 341 Software Process'\\\\Project\\\\cssd\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\MonPC\\\\Desktop\\\\School\\\\SOEN\\\\SOEN 341 Software Process'\\\\Project\\\\cssd\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\MonPC\\\\Desktop\\\\School\\\\SOEN\\\\SOEN 341 Software Process'\\\\Project\\\\cssd\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\MonPC\\\\Desktop\\\\School\\\\SOEN\\\\SOEN 341 Software Process'\\\\Project\\\\cssd\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\MonPC\\\\Desktop\\\\School\\\\SOEN\\\\SOEN 341 Software Process'\\\\Project\\\\cssd\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\MonPC\\\\Desktop\\\\School\\\\SOEN\\\\SOEN 341 Software Process'\\\\Project\\\\cssd\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\MonPC\\\\Desktop\\\\School\\\\SOEN\\\\SOEN 341 Software Process'\\\\Project\\\\cssd\\\\client\\\\src\\\\CourseSelectionMenu.js\";\nimport React from \"react\";\nimport Button from \"./components/Button\";\nimport { Link } from \"react-router-dom\";\nimport { Modal, Form, FormControl, Table } from \"react-bootstrap\";\nimport * as times from \"./data/calendar.json\";\nimport * as data from \"./data/courses.json\";\nimport * as data1 from \"./data/courses2.json\";\nimport { CirclePicker } from \"react-color\";\nimport reactCSS from \"reactcss\";\nimport LoadingScreen from \"react-loading-screen\";\nimport axios from \"axios\";\nimport AveryAlgorithms from \"./AveryAlgorithms\";\nimport AveryRegEx from \"./AveryRegEx\";\n\nvar CourseSelectionMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CourseSelectionMenu, _React$Component);\n\n  function CourseSelectionMenu(props, context) {\n    var _this;\n\n    _classCallCheck(this, CourseSelectionMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CourseSelectionMenu).call(this, props, context));\n\n    _this.timeToNum = function (time) {\n      // time parameter represents start time or end time of a class\n      // algo for rounding since table is jumps of 15 mins\n      var time1, time2;\n      var time1Minute, time2Minute;\n      var timeHour = time.substring(0, time.indexOf(\":\"));\n      var timeMinute = time.substring(time.indexOf(\":\") + 1);\n      timeMinute = parseInt(timeMinute);\n      time1Minute = timeMinute - 5;\n      time2Minute = timeMinute + 5;\n\n      if (time1Minute == -5) {\n        time2 = timeHour + \":0\" + time2Minute; // @@:05\n\n        timeHour = parseInt(timeHour);\n        timeHour--;\n        time1 = timeHour + \":\" + \"55\";\n      } else if (time2Minute == 60) {\n        time1 = timeHour + \":\" + time1Minute; // @@:50\n\n        timeHour = parseInt(timeHour);\n        timeHour++;\n        time2 = timeHour + \":\" + \"00\";\n      } else if (time1Minute == 0) {\n        time1 = timeHour + \":00\"; // @@:00 instead of @@:0\n\n        time2 = timeHour + \":\" + time2Minute; // @@:10\n      } else {\n        time1 = timeHour + \":\" + time1Minute;\n        time2 = timeHour + \":\" + time2Minute;\n      }\n\n      for (var i = 0; i < 61; i++) {\n        if (time1 === times.time[i].startTime || time === times.time[i].startTime || time2 === times.time[i].startTime) return times.time[i].num;\n      }\n\n      return null;\n    };\n\n    _this.removeAll = function () {\n      for (var j = 0; j < _this.state.weekdays.length; j++) {\n        var dayOfTheWeek = _this.state.weekdays[j] + \"-\";\n\n        for (var i = 0; i < 61; i++) {\n          document.getElementById(dayOfTheWeek + i).style.backgroundColor = \"\";\n          document.getElementById(dayOfTheWeek + i).innerHTML = \"----------------\";\n          document.getElementById(dayOfTheWeek + i).style.color = \"black\";\n        }\n      }\n    };\n\n    _this.display = function (courses) {\n      if (courses == undefined) {\n        return;\n      }\n\n      for (var r = 0; r < courses.length; r++) {\n        var addedClass = courses[r];\n        var lectureIndex = 0;\n        var tutorialIndex = 0;\n        var labIndex = 0;\n        var colorChosen = \"\";\n\n        for (var z = 0; z < _this.state.selectedCourses.length; z++) {\n          if (addedClass.course == _this.state.selectedCourses[z][0].course) {\n            colorChosen = _this.state.selectedCourses[z][4];\n          }\n        }\n\n        for (var j = 0; j < addedClass.lecture[lectureIndex].days.length; j++) {\n          // add lecture\n          var initial = _this.timeToNum(addedClass.lecture[lectureIndex].startTime);\n\n          var final = _this.timeToNum(addedClass.lecture[lectureIndex].endTime) - 1;\n          var middle = parseInt((initial + final) / 2);\n\n          for (var i = 0; i < 61; i++) {\n            if (initial <= i && final >= i) {\n              var dayOfTheWeek = addedClass.lecture[lectureIndex].days[j] + \"-\";\n              document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n              if (i === middle - 2) {\n                document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.course;\n              } else if (i === middle - 1) {\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"Lecture\";\n              } else if (i === middle) {\n                document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lecture[lectureIndex].startTime;\n              } else if (i === middle + 1) {\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\n              } else if (i === middle + 2) {\n                document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lecture[lectureIndex].endTime;\n              } else {\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\n              }\n\n              if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                document.getElementById(dayOfTheWeek + i).style.color = \"beige\";\n              } else {\n                document.getElementById(dayOfTheWeek + i).style.color = \"black\";\n              }\n            }\n          }\n        }\n\n        if (addedClass.lecture[lectureIndex].tutorial.length != 0) {\n          for (var k = 0; k < addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days.length; k++) {\n            // add tutorial\n            var _initial = _this.timeToNum(addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime);\n\n            var _final = _this.timeToNum(addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime) - 1;\n\n            var _middle = parseInt((_initial + _final) / 2);\n\n            if (_final - _initial <= 3) {\n              for (var _i = 0; _i < 61; _i++) {\n                if (_initial <= _i && _final >= _i) {\n                  var _dayOfTheWeek = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days[k] + \"-\";\n\n                  document.getElementById(_dayOfTheWeek + _i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                  if (_i === _middle - 1) {\n                    document.getElementById(_dayOfTheWeek + _i).innerHTML = addedClass.course;\n                  } else if (_i === _middle) {\n                    document.getElementById(_dayOfTheWeek + _i).innerHTML = \"Tutorial\";\n                  } else if (_i === _middle + 1) {\n                    document.getElementById(_dayOfTheWeek + _i).innerHTML = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime + \"-\" + addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime;\n                  } else {\n                    document.getElementById(_dayOfTheWeek + _i).innerHTML = \"<br />\";\n                  }\n\n                  if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                    document.getElementById(_dayOfTheWeek + _i).style.color = \"beige\";\n                  } else {\n                    document.getElementById(_dayOfTheWeek + _i).style.color = \"black\";\n                  }\n                }\n              }\n            } else {\n              for (var _i2 = 0; _i2 < 61; _i2++) {\n                if (_initial <= _i2 && _final >= _i2) {\n                  var _dayOfTheWeek2 = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days[k] + \"-\";\n\n                  document.getElementById(_dayOfTheWeek2 + _i2).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                  if (_i2 === _middle - 2) {\n                    document.getElementById(_dayOfTheWeek2 + _i2).innerHTML = addedClass.course;\n                  } else if (_i2 === _middle - 1) {\n                    document.getElementById(_dayOfTheWeek2 + _i2).innerHTML = \"Tutorial\";\n                  } else if (_i2 === _middle) {\n                    document.getElementById(_dayOfTheWeek2 + _i2).innerHTML = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime;\n                  } else if (_i2 === _middle + 1) {\n                    document.getElementById(_dayOfTheWeek2 + _i2).innerHTML = \"to\";\n                  } else if (_i2 === _middle + 2) {\n                    document.getElementById(_dayOfTheWeek2 + _i2).innerHTML = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime;\n                  } else {\n                    document.getElementById(_dayOfTheWeek2 + _i2).innerHTML = \"<br />\";\n                  }\n\n                  if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                    document.getElementById(_dayOfTheWeek2 + _i2).style.color = \"beige\";\n                  } else {\n                    document.getElementById(_dayOfTheWeek2 + _i2).style.color = \"black\";\n                  }\n                }\n              }\n            }\n          }\n        }\n\n        if (addedClass.lab.length != 0) {\n          for (var l = 0; l < addedClass.lab[labIndex].days.length; l++) {\n            // add lab\n            var _initial2 = _this.timeToNum(addedClass.lab[labIndex].startTime);\n\n            var _final2 = _this.timeToNum(addedClass.lab[labIndex].endTime) - 1;\n\n            var _middle2 = parseInt((_initial2 + _final2) / 2);\n\n            if (_final2 - _initial2 <= 3) {\n              for (var _i3 = 0; _i3 < 61; _i3++) {\n                if (_initial2 <= _i3 && _final2 >= _i3) {\n                  var _dayOfTheWeek3 = addedClass.lab[labIndex].days[l] + \"-\";\n\n                  document.getElementById(_dayOfTheWeek3 + _i3).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                  if (_i3 === _middle2 - 1) {\n                    document.getElementById(_dayOfTheWeek3 + _i3).innerHTML = addedClass.course;\n                  } else if (_i3 === _middle2) {\n                    document.getElementById(_dayOfTheWeek3 + _i3).innerHTML = \"Lab\";\n                  } else if (_i3 === _middle2 + 1) {\n                    document.getElementById(_dayOfTheWeek3 + _i3).innerHTML = addedClass.lab[labIndex].startTime + \"-\" + addedClass.lab[labIndex].endTime;\n                  } else {\n                    document.getElementById(_dayOfTheWeek3 + _i3).innerHTML = \"<br />\";\n                  }\n\n                  if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                    document.getElementById(_dayOfTheWeek3 + _i3).style.color = \"beige\";\n                  } else {\n                    document.getElementById(_dayOfTheWeek3 + _i3).style.color = \"black\";\n                  }\n                }\n              }\n            } else {\n              for (var _i4 = 0; _i4 < 61; _i4++) {\n                if (_initial2 <= _i4 && _final2 >= _i4) {\n                  var _dayOfTheWeek4 = addedClass.lab[labIndex].days[l] + \"-\";\n\n                  document.getElementById(_dayOfTheWeek4 + _i4).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                  if (_i4 === _middle2 - 2) {\n                    document.getElementById(_dayOfTheWeek4 + _i4).innerHTML = addedClass.course;\n                  } else if (_i4 === _middle2 - 1) {\n                    document.getElementById(_dayOfTheWeek4 + _i4).innerHTML = \"Lab\";\n                  } else if (_i4 === _middle2) {\n                    document.getElementById(_dayOfTheWeek4 + _i4).innerHTML = addedClass.lab[labIndex].startTime;\n                  } else if (_i4 === _middle2 + 1) {\n                    document.getElementById(_dayOfTheWeek4 + _i4).innerHTML = \"to\";\n                  } else if (_i4 === _middle2 + 2) {\n                    document.getElementById(_dayOfTheWeek4 + _i4).innerHTML = addedClass.lab[labIndex].endTime;\n                  } else {\n                    document.getElementById(_dayOfTheWeek4 + _i4).innerHTML = \"<br />\";\n                  }\n\n                  if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                    document.getElementById(_dayOfTheWeek4 + _i4).style.color = \"beige\";\n                  } else {\n                    document.getElementById(_dayOfTheWeek4 + _i4).style.color = \"black\";\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    };\n\n    _this.tryAll = function () {\n      var aa = new AveryAlgorithms();\n      var courses = [];\n\n      for (var i = 0; i < _this.state.selectedCourses.length; i++) {\n        courses[i] = _this.state.selectedCourses[i][0];\n      }\n\n      var allOptions = aa.treeCaller(courses);\n      console.log(allOptions);\n      var validOptions = allOptions.filter(function (data) {\n        return !aa.timeConflict(data);\n      });\n      console.log(validOptions);\n      console.log(validOptions[0]);\n\n      _this.removeAll();\n\n      _this.display(validOptions[0]);\n\n      console.log(\"default has been clicked\");\n      console.log(validOptions);\n\n      if (validOptions[0] !== undefined) {\n        for (var _i5 = 0; _i5 < validOptions[0].length; _i5++) {\n          console.log(\"default run \" + (_i5 + 1));\n          var courseToChangeForFinalize = void 0;\n\n          for (var s = 0; s < _this.state.finalizedClassArray.length; s++) {\n            if (_this.state.finalizedClassArray[s].course_number === validOptions[0][_i5].course) {\n              courseToChangeForFinalize = _this.state.finalizedClassArray[s];\n              break;\n            }\n          }\n\n          courseToChangeForFinalize.lecture_section = validOptions[0][_i5].lecture[0].section;\n          courseToChangeForFinalize.lecture_days = validOptions[0][_i5].lecture[0].days;\n          courseToChangeForFinalize.lecture_start = validOptions[0][_i5].lecture[0].startTime;\n          courseToChangeForFinalize.lecture_end = validOptions[0][_i5].lecture[0].endTime;\n          courseToChangeForFinalize.lecture_room = validOptions[0][_i5].lecture[0].room;\n          courseToChangeForFinalize.tutorial_section = validOptions[0][_i5].lecture[0].tutorial.length !== 0 ? validOptions[0][_i5].lecture[0].tutorial[0].section : \"\";\n          courseToChangeForFinalize.tutorial_room = validOptions[0][_i5].lecture[0].tutorial.length !== 0 ? validOptions[0][_i5].lecture[0].tutorial[0].room : \"\";\n          courseToChangeForFinalize.tutorial_days = validOptions[0][_i5].lecture[0].tutorial.length !== 0 ? validOptions[0][_i5].lecture[0].tutorial[0].days : \"\";\n          courseToChangeForFinalize.tutorial_start = validOptions[0][_i5].lecture[0].tutorial.length !== 0 ? validOptions[0][_i5].lecture[0].tutorial[0].startTime : \"\";\n          courseToChangeForFinalize.tutorial_end = validOptions[0][_i5].lecture[0].tutorial.length !== 0 ? validOptions[0][_i5].lecture[0].tutorial[0].endTime : \"\";\n          courseToChangeForFinalize.lab_section = validOptions[0][_i5].lab.length !== 0 ? validOptions[0][_i5].lab[0].section : \"\";\n          courseToChangeForFinalize.lab_room = validOptions[0][_i5].lab.length !== 0 ? validOptions[0][_i5].lab[0].room : \"\";\n          courseToChangeForFinalize.lab_days = validOptions[0][_i5].lab.length !== 0 ? validOptions[0][_i5].lab[0].days : \"\";\n          courseToChangeForFinalize.lab_start = validOptions[0][_i5].lab.length !== 0 ? validOptions[0][_i5].lab[0].startTime : \"\";\n          courseToChangeForFinalize.lab_end = validOptions[0][_i5].lab.length !== 0 ? validOptions[0][_i5].lab[0].endTime : \"\";\n        }\n      }\n\n      _this.setState({\n        showTryAll: \"visible\",\n        validTryAll: validOptions,\n        showConflict: \"hidden\",\n        showConflictForFinalize: false,\n        tryAllIndex: 0\n      });\n\n      _this.handleDisplay();\n    };\n\n    _this.tryAll1 = function () {\n      var number = _this.state.tryAllIndex;\n      var validOptions = _this.state.validTryAll;\n\n      if (number != 0) {\n        number--;\n      }\n\n      _this.removeAll();\n\n      _this.display(validOptions[number]);\n\n      console.log(\"previous has been clicked\");\n\n      for (var i = 0; i < validOptions[number].length; i++) {\n        console.log(\"previous run \" + (i + 1));\n        var courseToChangeForFinalize = void 0;\n\n        for (var s = 0; s < _this.state.finalizedClassArray.length; s++) {\n          if (_this.state.finalizedClassArray[s].course_number === validOptions[number][i].course) {\n            courseToChangeForFinalize = _this.state.finalizedClassArray[s];\n            break;\n          }\n        }\n\n        courseToChangeForFinalize.lecture_section = validOptions[number][i].lecture[0].section;\n        courseToChangeForFinalize.lecture_days = validOptions[number][i].lecture[0].days;\n        courseToChangeForFinalize.lecture_start = validOptions[number][i].lecture[0].startTime;\n        courseToChangeForFinalize.lecture_end = validOptions[number][i].lecture[0].endTime;\n        courseToChangeForFinalize.lecture_room = validOptions[number][i].lecture[0].room;\n        courseToChangeForFinalize.tutorial_section = validOptions[number][i].lecture[0].tutorial.length !== 0 ? validOptions[number][i].lecture[0].tutorial[0].section : \"\";\n        courseToChangeForFinalize.tutorial_room = validOptions[number][i].lecture[0].tutorial.length !== 0 ? validOptions[number][i].lecture[0].tutorial[0].room : \"\";\n        courseToChangeForFinalize.tutorial_days = validOptions[number][i].lecture[0].tutorial.length !== 0 ? validOptions[number][i].lecture[0].tutorial[0].days : \"\";\n        courseToChangeForFinalize.tutorial_start = validOptions[number][i].lecture[0].tutorial.length !== 0 ? validOptions[number][i].lecture[0].tutorial[0].startTime : \"\";\n        courseToChangeForFinalize.tutorial_end = validOptions[number][i].lecture[0].tutorial.length !== 0 ? validOptions[number][i].lecture[0].tutorial[0].endTime : \"\";\n        courseToChangeForFinalize.lab_section = validOptions[number][i].lab.length !== 0 ? validOptions[number][i].lab[0].section : \"\";\n        courseToChangeForFinalize.lab_room = validOptions[number][i].lab.length !== 0 ? validOptions[number][i].lab[0].room : \"\";\n        courseToChangeForFinalize.lab_days = validOptions[number][i].lab.length !== 0 ? validOptions[number][i].lab[0].days : \"\";\n        courseToChangeForFinalize.lab_start = validOptions[number][i].lab.length !== 0 ? validOptions[number][i].lab[0].startTime : \"\";\n        courseToChangeForFinalize.lab_end = validOptions[number][i].lab.length !== 0 ? validOptions[number][i].lab[0].endTime : \"\";\n      }\n\n      _this.setState({\n        tryAllIndex: number\n      });\n    };\n\n    _this.tryAll2 = function () {\n      var number = _this.state.tryAllIndex;\n      var validOptions = _this.state.validTryAll;\n\n      if (number != validOptions.length - 1) {\n        number++;\n      }\n\n      _this.removeAll();\n\n      _this.display(validOptions[number]);\n\n      console.log(\"next has been clicked\");\n\n      for (var i = 0; i < validOptions[number].length; i++) {\n        console.log(\"next run \" + (i + 1));\n        var courseToChangeForFinalize = void 0;\n\n        for (var s = 0; s < _this.state.finalizedClassArray.length; s++) {\n          if (_this.state.finalizedClassArray[s].course_number === validOptions[number][i].course) {\n            courseToChangeForFinalize = _this.state.finalizedClassArray[s];\n            break;\n          }\n        }\n\n        courseToChangeForFinalize.lecture_section = validOptions[number][i].lecture[0].section;\n        courseToChangeForFinalize.lecture_days = validOptions[number][i].lecture[0].days;\n        courseToChangeForFinalize.lecture_start = validOptions[number][i].lecture[0].startTime;\n        courseToChangeForFinalize.lecture_end = validOptions[number][i].lecture[0].endTime;\n        courseToChangeForFinalize.lecture_room = validOptions[number][i].lecture[0].room;\n        courseToChangeForFinalize.tutorial_section = validOptions[number][i].lecture[0].tutorial.length !== 0 ? validOptions[number][i].lecture[0].tutorial[0].section : \"\";\n        courseToChangeForFinalize.tutorial_room = validOptions[number][i].lecture[0].tutorial.length !== 0 ? validOptions[number][i].lecture[0].tutorial[0].room : \"\";\n        courseToChangeForFinalize.tutorial_days = validOptions[number][i].lecture[0].tutorial.length !== 0 ? validOptions[number][i].lecture[0].tutorial[0].days : \"\";\n        courseToChangeForFinalize.tutorial_start = validOptions[number][i].lecture[0].tutorial.length !== 0 ? validOptions[number][i].lecture[0].tutorial[0].startTime : \"\";\n        courseToChangeForFinalize.tutorial_end = validOptions[number][i].lecture[0].tutorial.length !== 0 ? validOptions[number][i].lecture[0].tutorial[0].endTime : \"\";\n        courseToChangeForFinalize.lab_section = validOptions[number][i].lab.length !== 0 ? validOptions[number][i].lab[0].section : \"\";\n        courseToChangeForFinalize.lab_room = validOptions[number][i].lab.length !== 0 ? validOptions[number][i].lab[0].room : \"\";\n        courseToChangeForFinalize.lab_days = validOptions[number][i].lab.length !== 0 ? validOptions[number][i].lab[0].days : \"\";\n        courseToChangeForFinalize.lab_start = validOptions[number][i].lab.length !== 0 ? validOptions[number][i].lab[0].startTime : \"\";\n        courseToChangeForFinalize.lab_end = validOptions[number][i].lab.length !== 0 ? validOptions[number][i].lab[0].endTime : \"\";\n      }\n\n      _this.setState({\n        tryAllIndex: number\n      });\n    };\n\n    _this.handleSemesterChange = function () {\n      _this.removeAll();\n\n      document.getElementById(\"add-class1\").value = \"\";\n\n      _this.setState({\n        year: document.getElementById(\"semester-year\").value,\n        semester: document.getElementById(\"semester\").value,\n        selectedCourses: [],\n        credits: 0,\n        showConflict: \"hidden\",\n        showConflictForFinalize: false,\n        show2: \"hidden\",\n        finalizedClassArray: [],\n        showTryAll: \"hidden\"\n      });\n\n      for (var i = 0; i < _this.state.colors.length; i++) {\n        _this.state.colors[i][1] = 0;\n      }\n\n      _this.state.year = document.getElementById(\"semester-year\").value;\n      _this.state.semester = document.getElementById(\"semester\").value;\n\n      if (_this.state.semester == \"Fall\") {\n        _this.state.courses2 = _this.state.coursesFall;\n      } else if (_this.state.semester == \"Winter\") {\n        _this.state.courses2 = _this.state.coursesWinter;\n      } else if (_this.state.semester == \"Summer\") {\n        _this.state.courses2 = _this.state.coursesSummer;\n      } //console.log(this.state.semester);\n\n    };\n\n    _this.handleDisplay = function () {\n      _this.setState({\n        showSelection: \"none\",\n        showSchedule: \"block\"\n      });\n\n      console.log(\"current credits: \" + _this.state.credits);\n    };\n\n    _this.handleDisplay1 = function () {\n      _this.setState({\n        showSelection: \"block\",\n        showSchedule: \"none\"\n      });\n    };\n\n    _this.handleSelectedFile = function (event) {\n      _this.setState({\n        uploadedFile: event.target.files[0]\n      });\n    };\n\n    _this.handleUpload = function () {\n      var file = _this.state.uploadedFile;\n      var reader = new FileReader();\n\n      try {\n        reader.readAsText(file);\n      } catch (err) {\n        return;\n      }\n\n      reader.onload = function () {\n        //console.log(reader.result);\n        var JSONified = JSON.parse(reader.result);\n        var aa = new AveryAlgorithms();\n        var array = [];\n\n        for (var i = 0; i < _this.state.colors.length; i++) {\n          _this.state.colors[i][1] = 0;\n        }\n\n        _this.setState({\n          credits: 0,\n          finalizedClassArray: [],\n          selectedCourses: []\n        });\n\n        _this.removeAll(); // clear table incase there were already classes there\n\n\n        for (var _i6 = 0; _i6 < JSONified.length; _i6++) {\n          //let array = this.state.selectedCourses; //Keep track of user selected classes\n          var input = JSONified[_i6][0].course;\n          var classList = _this.state.courses2; //Gets the whole list of courses of concordia\n\n          var addedClass = void 0;\n          var classExists = false;\n\n          for (var _i7 = 0; _i7 < classList.length; _i7++) {\n            if (classList[_i7].course === input) {\n              // for (let j = 0; j < this.state.selectedCourses.length; j++) {\n              //   if (this.state.selectedCourses[j][0].course === input) {\n              //     document.getElementById(\"addStatus1\").innerHTML =\n              //       \"This class is already added.\";\n              //     this.setState({ show2: \"visible\" });\n              //     return;\n              //   }\n              // }\n              addedClass = classList[_i7];\n              classExists = true;\n\n              _this.setState({\n                show2: \"hidden\"\n              });\n\n              break;\n            }\n          }\n\n          if (classExists === false) {\n            var bool1 = false;\n\n            for (var _i8 = 0; _i8 < _this.state.coursesTakenSet.length; _i8++) {\n              if (input == _this.state.coursesTakenSet[_i8][0].course) {\n                bool1 = true;\n              }\n            }\n\n            if (bool1) {\n              document.getElementById(\"addStatus1\").innerHTML = \"Class Has Already Been Taken\";\n            } else {\n              document.getElementById(\"addStatus1\").innerHTML = \"Invalid Class/Class Not Found\";\n            }\n\n            _this.setState({\n              show2: \"visible\"\n            });\n\n            return;\n          }\n\n          if (JSONified[_i6][0].semester !== _this.state.semester) {\n            document.getElementById(\"addStatus1\").innerHTML = \"Wrong Semester\";\n\n            _this.setState({\n              show2: \"visible\"\n            });\n\n            return;\n          }\n\n          var colorChosen = void 0;\n\n          for (var j = 0; j < _this.state.colors.length; j++) {\n            if (_this.state.colors[j][1] == 0) {\n              colorChosen = _this.state.colors[j][0];\n              _this.state.colors[j][1] = 1;\n              break;\n            }\n          }\n\n          if (colorChosen === null || colorChosen === undefined) {\n            return;\n          }\n\n          var lectureIndex = JSONified[_i6][1];\n          var tutorialIndex = JSONified[_i6][2];\n          var labIndex = JSONified[_i6][3];\n          var newClassForFinalize = {\n            course_number: addedClass.course,\n            course_name: addedClass.name,\n            course_semester: addedClass.semester,\n            course_year: \"2019\",\n            course_color: colorChosen,\n            lecture_section: addedClass.lecture[lectureIndex].section,\n            lecture_room: addedClass.lecture[lectureIndex].room,\n            lecture_days: addedClass.lecture[lectureIndex].days,\n            lecture_start: addedClass.lecture[lectureIndex].startTime,\n            lecture_end: addedClass.lecture[lectureIndex].endTime,\n            tutorial_section: addedClass.lecture[0].tutorial.length !== 0 ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].section : \"\",\n            tutorial_room: addedClass.lecture[0].tutorial.length !== 0 ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].room : \"\",\n            tutorial_days: addedClass.lecture[0].tutorial.length !== 0 ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days : \"\",\n            tutorial_start: addedClass.lecture[0].tutorial.length !== 0 ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime : \"\",\n            tutorial_end: addedClass.lecture[0].tutorial.length !== 0 ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime : \"\",\n            lab_section: addedClass.lab.length != 0 ? addedClass.lab[labIndex].section : \"\",\n            lab_room: addedClass.lab.length != 0 ? addedClass.lab[labIndex].room : \"\",\n            lab_days: addedClass.lab.length != 0 ? addedClass.lab[labIndex].days : \"\",\n            lab_start: addedClass.lab.length != 0 ? addedClass.lab[labIndex].startTime : \"\",\n            lab_end: addedClass.lab.length != 0 ? addedClass.lab[labIndex].endTime : \"\"\n          };\n\n          for (var _j = 0; _j < addedClass.lecture[lectureIndex].days.length; _j++) {\n            // add lecture\n            var initial = _this.timeToNum(addedClass.lecture[lectureIndex].startTime);\n\n            var final = _this.timeToNum(addedClass.lecture[lectureIndex].endTime) - 1;\n            var middle = parseInt((initial + final) / 2);\n\n            for (var _i9 = 0; _i9 < 61; _i9++) {\n              if (initial <= _i9 && final >= _i9) {\n                var dayOfTheWeek = addedClass.lecture[lectureIndex].days[_j] + \"-\";\n                document.getElementById(dayOfTheWeek + _i9).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                if (_i9 === middle - 1) {\n                  document.getElementById(dayOfTheWeek + _i9).innerHTML = addedClass.course;\n                } else if (_i9 === middle) {\n                  document.getElementById(dayOfTheWeek + _i9).innerHTML = addedClass.lecture[lectureIndex].startTime;\n                } else if (_i9 === middle + 1) {\n                  document.getElementById(dayOfTheWeek + _i9).innerHTML = \"to\";\n                } else if (_i9 === middle + 2) {\n                  document.getElementById(dayOfTheWeek + _i9).innerHTML = addedClass.lecture[lectureIndex].endTime;\n                } else {\n                  document.getElementById(dayOfTheWeek + _i9).innerHTML = \"<br />\";\n                }\n\n                if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                  document.getElementById(dayOfTheWeek + _i9).style.color = \"beige\";\n                } else {\n                  document.getElementById(dayOfTheWeek + _i9).style.color = \"black\";\n                }\n              }\n            }\n          }\n\n          if (addedClass.lecture[lectureIndex].tutorial.length != 0) {\n            for (var k = 0; k < addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days.length; k++) {\n              // add tutorial\n              var _initial3 = _this.timeToNum(addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime);\n\n              var _final3 = _this.timeToNum(addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime) - 1;\n\n              var _middle3 = parseInt((_initial3 + _final3) / 2);\n\n              if (_final3 - _initial3 <= 3) {\n                for (var _i10 = 0; _i10 < 61; _i10++) {\n                  if (_initial3 <= _i10 && _final3 >= _i10) {\n                    var _dayOfTheWeek5 = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days[k] + \"-\";\n\n                    document.getElementById(_dayOfTheWeek5 + _i10).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                    if (_i10 === _middle3 - 1) {\n                      document.getElementById(_dayOfTheWeek5 + _i10).innerHTML = addedClass.course;\n                    } else if (_i10 === _middle3) {\n                      document.getElementById(_dayOfTheWeek5 + _i10).innerHTML = \"Tutorial\";\n                    } else if (_i10 === _middle3 + 1) {\n                      document.getElementById(_dayOfTheWeek5 + _i10).innerHTML = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime + \"-\" + addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime;\n                    } else {\n                      document.getElementById(_dayOfTheWeek5 + _i10).innerHTML = \"<br />\";\n                    }\n\n                    if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                      document.getElementById(_dayOfTheWeek5 + _i10).style.color = \"beige\";\n                    } else {\n                      document.getElementById(_dayOfTheWeek5 + _i10).style.color = \"black\";\n                    }\n                  }\n                }\n              } else {\n                for (var _i11 = 0; _i11 < 61; _i11++) {\n                  if (_initial3 <= _i11 && _final3 >= _i11) {\n                    var _dayOfTheWeek6 = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days[k] + \"-\";\n\n                    document.getElementById(_dayOfTheWeek6 + _i11).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                    if (_i11 === _middle3 - 2) {\n                      document.getElementById(_dayOfTheWeek6 + _i11).innerHTML = addedClass.course;\n                    } else if (_i11 === _middle3 - 1) {\n                      document.getElementById(_dayOfTheWeek6 + _i11).innerHTML = \"Tutorial\";\n                    } else if (_i11 === _middle3) {\n                      document.getElementById(_dayOfTheWeek6 + _i11).innerHTML = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime;\n                    } else if (_i11 === _middle3 + 1) {\n                      document.getElementById(_dayOfTheWeek6 + _i11).innerHTML = \"to\";\n                    } else if (_i11 === _middle3 + 2) {\n                      document.getElementById(_dayOfTheWeek6 + _i11).innerHTML = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime;\n                    } else {\n                      document.getElementById(_dayOfTheWeek6 + _i11).innerHTML = \"<br />\";\n                    }\n\n                    if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                      document.getElementById(_dayOfTheWeek6 + _i11).style.color = \"beige\";\n                    } else {\n                      document.getElementById(_dayOfTheWeek6 + _i11).style.color = \"black\";\n                    }\n                  }\n                }\n              }\n            }\n          }\n\n          if (addedClass.lab.length != 0) {\n            for (var l = 0; l < addedClass.lab[labIndex].days.length; l++) {\n              // add lab\n              var _initial4 = _this.timeToNum(addedClass.lab[labIndex].startTime);\n\n              var _final4 = _this.timeToNum(addedClass.lab[labIndex].endTime) - 1;\n\n              var _middle4 = parseInt((_initial4 + _final4) / 2);\n\n              if (_final4 - _initial4 <= 3) {\n                for (var _i12 = 0; _i12 < 61; _i12++) {\n                  if (_initial4 <= _i12 && _final4 >= _i12) {\n                    var _dayOfTheWeek7 = addedClass.lab[labIndex].days[l] + \"-\";\n\n                    document.getElementById(_dayOfTheWeek7 + _i12).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                    if (_i12 === _middle4 - 1) {\n                      document.getElementById(_dayOfTheWeek7 + _i12).innerHTML = addedClass.course;\n                    } else if (_i12 === _middle4) {\n                      document.getElementById(_dayOfTheWeek7 + _i12).innerHTML = \"Lab\";\n                    } else if (_i12 === _middle4 + 1) {\n                      document.getElementById(_dayOfTheWeek7 + _i12).innerHTML = addedClass.lab[labIndex].startTime + \"-\" + addedClass.lab[labIndex].endTime;\n                    } else {\n                      document.getElementById(_dayOfTheWeek7 + _i12).innerHTML = \"<br />\";\n                    }\n\n                    if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                      document.getElementById(_dayOfTheWeek7 + _i12).style.color = \"beige\";\n                    } else {\n                      document.getElementById(_dayOfTheWeek7 + _i12).style.color = \"black\";\n                    }\n                  }\n                }\n              } else {\n                for (var _i13 = 0; _i13 < 61; _i13++) {\n                  if (_initial4 <= _i13 && _final4 >= _i13) {\n                    var _dayOfTheWeek8 = addedClass.lab[labIndex].days[l] + \"-\";\n\n                    document.getElementById(_dayOfTheWeek8 + _i13).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                    if (_i13 === _middle4 - 2) {\n                      document.getElementById(_dayOfTheWeek8 + _i13).innerHTML = addedClass.course;\n                    } else if (_i13 === _middle4 - 1) {\n                      document.getElementById(_dayOfTheWeek8 + _i13).innerHTML = \"Lab\";\n                    } else if (_i13 === _middle4) {\n                      document.getElementById(_dayOfTheWeek8 + _i13).innerHTML = addedClass.lab[labIndex].startTime;\n                    } else if (_i13 === _middle4 + 1) {\n                      document.getElementById(_dayOfTheWeek8 + _i13).innerHTML = \"to\";\n                    } else if (_i13 === _middle4 + 2) {\n                      document.getElementById(_dayOfTheWeek8 + _i13).innerHTML = addedClass.lab[labIndex].endTime;\n                    } else {\n                      document.getElementById(_dayOfTheWeek8 + _i13).innerHTML = \"<br />\";\n                    }\n\n                    if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                      document.getElementById(_dayOfTheWeek8 + _i13).style.color = \"beige\";\n                    } else {\n                      document.getElementById(_dayOfTheWeek8 + _i13).style.color = \"black\";\n                    }\n                  }\n                }\n              }\n            }\n          }\n\n          _this.state.finalizedClassArray.push(newClassForFinalize);\n\n          var defaultValue1 = addedClass.lecture[lectureIndex].section;\n          var defaultValue2 = \"\";\n          var defaultValue3 = \"\";\n\n          if (addedClass.lab.length != 0) {\n            defaultValue2 = addedClass.lab[labIndex].section + \"\";\n          }\n\n          if (addedClass.lecture[lectureIndex].tutorial.length != 0) {\n            defaultValue3 = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].section;\n          }\n\n          var credits = _this.state.credits + addedClass.credit;\n\n          _this.setState({\n            defaultValueLecture: defaultValue1,\n            defaultValueTutorial: defaultValue3,\n            defaultValueLab: defaultValue2,\n            credits: credits\n          });\n\n          var array1 = [];\n          array1[0] = addedClass;\n          array1[1] = lectureIndex; //addedClass.lecture[0].section;\n\n          array1[2] = tutorialIndex; //addedClass.lecture[0].tutorial[0].section;\n\n          array1[3] = labIndex; //addedClass.lab[0].section;\n\n          array1[4] = colorChosen;\n          array.push(array1);\n        }\n\n        if (aa.timeConflict(array)) {\n          _this.removeAll();\n\n          document.getElementById(\"timeConflict\").innerHTML = \"No Results\";\n\n          _this.setState({\n            showConflict: \"visible\",\n            showConflictForFinalize: true\n          });\n        } else {\n          _this.setState({\n            showConflict: \"hidden\",\n            showConflictForFinalize: false\n          });\n        }\n\n        _this.setState({\n          selectedCourses: array\n        });\n      };\n\n      _this.setState({\n        showUpload: false\n      });\n    };\n\n    _this.downloadJson = function () {\n      var courseArray = _this.state.selectedCourses;\n      var filename = \"schedule.json\";\n      var contentType = \"application/json;charset=utf-8;\";\n      console.log(courseArray);\n\n      if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n        var blob = new Blob([decodeURIComponent(encodeURI(JSON.stringify(courseArray)))], {\n          type: contentType\n        });\n        navigator.msSaveOrOpenBlob(blob, filename);\n      } else {\n        var file = document.createElement(\"a\");\n        file.download = filename;\n        file.href = \"data:\" + contentType + \",\" + encodeURIComponent(JSON.stringify(courseArray));\n        file.target = \"_blank\";\n        document.body.appendChild(file);\n        file.click();\n        document.body.removeChild(file);\n      }\n    };\n\n    _this.sendCalendar = function () {\n      var courseArray = _this.state.selectedCourses;\n      var semesterYear = \"2019\"; // This variable needs to have the year added to it.\n\n      var elements = document.getElementsByClassName(\"display-5\");\n      var indexEle = elements[0].innerHTML.search(/[0-9]/);\n      semesterYear = elements[0].innerHTML.substring(indexEle, indexEle + 4);\n      console.log(courseArray);\n      courseArray.push(semesterYear);\n      console.log(courseArray);\n      axios.post(\"calendar\", {\n        courseArray: courseArray\n      }).then(function (res) {\n        return console.log(res.data);\n      }).catch(function (err) {\n        return console.log(err.response.data);\n      });\n    };\n\n    _this.handleChangeComplete = function (color) {\n      var courseNameInput = document.getElementById(\"colorChanger\").value; //Get user input comp248\n\n      var chosenClass; //class object\n\n      if (courseNameInput == \"\") {\n        return;\n      } // instead of 'selectedCourses' it looped through 'classes' before\n\n\n      for (var i = 0; i < _this.state.selectedCourses.length; i++) {\n        if (courseNameInput === _this.state.selectedCourses[i][0].course) {\n          chosenClass = _this.state.selectedCourses[i];\n          break;\n        }\n      }\n\n      for (var s = 0; s < _this.state.finalizedClassArray.length; s++) {\n        if (courseNameInput === _this.state.finalizedClassArray[s].course_number) {\n          _this.state.finalizedClassArray[s].course_color = color.hex;\n          break;\n        }\n      }\n\n      var lectureSection = chosenClass[1];\n      var tutorialSection = chosenClass[2];\n      var labSection = chosenClass[3];\n      document.getElementById(chosenClass[0].course).style.backgroundColor = color.hex;\n\n      if (color.hex == \"#ffeb3b\" || color.hex == \"#ffc107\" || color.hex == \"#ff9800\" || color.hex == \"#cddc39\") {\n        document.getElementById(chosenClass[0].course).style.color = \"black\";\n      } else {\n        document.getElementById(chosenClass[0].course).style.color = \"white\";\n      }\n\n      var color1 = chosenClass[4];\n      var aa = new AveryAlgorithms();\n      var array = aa.duplicateArray(_this.state.selectedCourses);\n\n      if (!aa.timeConflict(array)) {\n        for (var j = 0; j < chosenClass[0].lecture[lectureSection].days.length; j++) {\n          //added\n          for (var _i14 = 0; _i14 < 61; _i14++) {\n            var dayOfTheWeek = chosenClass[0].lecture[lectureSection].days[j] + \"-\";\n\n            if (_this.timeToNum(chosenClass[0].lecture[lectureSection].startTime) <= _i14 && _this.timeToNum(chosenClass[0].lecture[lectureSection].endTime) - 1 >= _i14) {\n              document.getElementById(dayOfTheWeek + _i14).style.backgroundColor = color.hex; // (you can choose to select the return of a function)\n\n              if (color.hex == \"#795548\" || color.hex == \"#ff5722\" || color.hex == \"#607d8b\" || color.hex == \"#009688\" || color.hex == \"#f44336\" || color.hex == \"#9c27b0\" || color.hex == \"#673ab7\" || color.hex == \"#3f51b5\") {\n                document.getElementById(dayOfTheWeek + _i14).style.color = \"beige\";\n              } else {\n                document.getElementById(dayOfTheWeek + _i14).style.color = \"black\";\n              }\n            }\n          }\n        }\n\n        if (chosenClass[0].lecture[lectureSection].tutorial.length != 0) {\n          for (var _j2 = 0; _j2 < chosenClass[0].lecture[lectureSection].tutorial[tutorialSection].days.length; _j2++) {\n            //added\n            for (var _i15 = 0; _i15 < 61; _i15++) {\n              var _dayOfTheWeek9 = chosenClass[0].lecture[lectureSection].tutorial[tutorialSection].days[_j2] + \"-\";\n\n              if (_this.timeToNum(chosenClass[0].lecture[lectureSection].tutorial[tutorialSection].startTime) <= _i15 && _this.timeToNum(chosenClass[0].lecture[lectureSection].tutorial[tutorialSection].endTime) - 1 >= _i15) {\n                //color1 = document.getElementById(dayOfTheWeek + i).style.backgroundColor;\n                document.getElementById(_dayOfTheWeek9 + _i15).style.backgroundColor = color.hex; // (you can choose to select the return of a function)\n\n                if (color.hex == \"#795548\" || color.hex == \"#ff5722\" || color.hex == \"#607d8b\" || color.hex == \"#009688\" || color.hex == \"#f44336\" || color.hex == \"#9c27b0\" || color.hex == \"#673ab7\" || color.hex == \"#3f51b5\") {\n                  document.getElementById(_dayOfTheWeek9 + _i15).style.color = \"beige\";\n                } else {\n                  document.getElementById(_dayOfTheWeek9 + _i15).style.color = \"black\";\n                }\n              }\n            }\n          }\n        }\n\n        if (chosenClass[0].lab.length != 0) {\n          for (var _j3 = 0; _j3 < chosenClass[0].lab[labSection].days.length; _j3++) {\n            //added\n            for (var _i16 = 0; _i16 < 61; _i16++) {\n              var _dayOfTheWeek10 = chosenClass[0].lab[labSection].days[_j3] + \"-\";\n\n              if (_this.timeToNum(chosenClass[0].lab[labSection].startTime) <= _i16 && _this.timeToNum(chosenClass[0].lab[labSection].endTime) - 1 >= _i16) {\n                //color1 = document.getElementById(dayOfTheWeek + i).style.backgroundColor;\n                document.getElementById(_dayOfTheWeek10 + _i16).style.backgroundColor = color.hex; // (you can choose to select the return of a function)\n\n                if (color.hex == \"#795548\" || color.hex == \"#ff5722\" || color.hex == \"#607d8b\" || color.hex == \"#009688\" || color.hex == \"#f44336\" || color.hex == \"#9c27b0\" || color.hex == \"#673ab7\" || color.hex == \"#3f51b5\") {\n                  document.getElementById(_dayOfTheWeek10 + _i16).style.color = \"beige\";\n                } else {\n                  document.getElementById(_dayOfTheWeek10 + _i16).style.color = \"black\";\n                }\n              }\n            }\n          }\n        }\n      }\n\n      for (var _j4 = 0; _j4 < _this.state.colors.length; _j4++) {\n        // see if the color is one of the default colors\n        if (_this.state.colors[_j4][0] == color1) {\n          var colorNotInUse = true;\n\n          for (var k = 0; k < array.length; k++) {\n            // if it's a default color, make sure it's not\n            if (array[k][4] == color1) {\n              // also in use by another course\n              colorNotInUse = false;\n              break;\n            }\n          }\n\n          if (colorNotInUse) {\n            _this.state.colors[_j4][1] = 0;\n          }\n\n          break;\n        }\n      }\n\n      chosenClass[4] = color.hex;\n    };\n\n    _this.addClass1 = function () {\n      var array = _this.state.selectedCourses; //Keep track of user selected classes\n\n      var input = document.getElementById(\"add-class1\").value; //Get user input (Course Code)\n\n      var classList = _this.state.courses2; //Gets the whole list of courses of concordia\n\n      var addedClass;\n      var classExists = false;\n\n      for (var i = 0; i < classList.length; i++) {\n        if (classList[i].course === input) {\n          for (var j = 0; j < _this.state.selectedCourses.length; j++) {\n            if (_this.state.selectedCourses[j][0].course === input) {\n              document.getElementById(\"addStatus1\").innerHTML = \"This class is already added.\";\n\n              _this.setState({\n                show2: \"visible\"\n              });\n\n              return;\n            }\n          }\n\n          addedClass = classList[i];\n          classExists = true;\n\n          _this.setState({\n            show2: \"hidden\"\n          });\n\n          break;\n        }\n      }\n\n      if (classExists === false) {\n        var bool1 = false;\n\n        for (var _i17 = 0; _i17 < _this.state.coursesTakenSet.length; _i17++) {\n          if (input == _this.state.coursesTakenSet[_i17][0].course) {\n            bool1 = true;\n          }\n        }\n\n        if (bool1) {\n          document.getElementById(\"addStatus1\").innerHTML = \"Class Has Already Been Taken\";\n        } else {\n          document.getElementById(\"addStatus1\").innerHTML = \"Invalid Class/Class Not Found\";\n        }\n\n        _this.setState({\n          show2: \"visible\"\n        });\n\n        return;\n      }\n\n      if (_this.state.credits + addedClass.credit > 16.5) {\n        document.getElementById(\"addStatus1\").innerHTML = \"Credit Limit Reached\";\n\n        _this.setState({\n          show2: \"visible\"\n        });\n\n        return;\n      }\n\n      var colorChosen;\n\n      for (var _j5 = 0; _j5 < _this.state.colors.length; _j5++) {\n        if (_this.state.colors[_j5][1] == 0) {\n          colorChosen = _this.state.colors[_j5][0];\n          _this.state.colors[_j5][1] = 1;\n          break;\n        }\n      }\n\n      if (colorChosen === null || colorChosen === undefined) {\n        return;\n      }\n\n      var lectureIndex = 0,\n          tutorialIndex = 0,\n          labIndex = 0;\n      var aa = new AveryAlgorithms();\n      var array2 = [];\n      var array3 = aa.duplicateArray(_this.state.selectedCourses);\n      array2[0] = addedClass;\n      array2[1] = lectureIndex;\n      array2[2] = tutorialIndex;\n      array2[3] = labIndex;\n      array3.push(array2);\n      var newClassForFinalize = {\n        course_number: addedClass.course,\n        course_name: addedClass.name,\n        course_semester: addedClass.semester,\n        course_year: \"2019\",\n        course_color: colorChosen,\n        lecture_section: addedClass.lecture[lectureIndex].section,\n        lecture_room: addedClass.lecture[lectureIndex].room,\n        lecture_days: addedClass.lecture[lectureIndex].days,\n        lecture_start: addedClass.lecture[lectureIndex].startTime,\n        lecture_end: addedClass.lecture[lectureIndex].endTime,\n        tutorial_section: addedClass.lecture[0].tutorial.length !== 0 ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].section : \"\",\n        tutorial_room: addedClass.lecture[0].tutorial.length !== 0 ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].room : \"\",\n        tutorial_days: addedClass.lecture[0].tutorial.length !== 0 ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days : \"\",\n        tutorial_start: addedClass.lecture[0].tutorial.length !== 0 ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime : \"\",\n        tutorial_end: addedClass.lecture[0].tutorial.length !== 0 ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime : \"\",\n        lab_section: addedClass.lab.length != 0 ? addedClass.lab[labIndex].section : \"\",\n        lab_room: addedClass.lab.length != 0 ? addedClass.lab[labIndex].room : \"\",\n        lab_days: addedClass.lab.length != 0 ? addedClass.lab[labIndex].days : \"\",\n        lab_start: addedClass.lab.length != 0 ? addedClass.lab[labIndex].startTime : \"\",\n        lab_end: addedClass.lab.length != 0 ? addedClass.lab[labIndex].endTime : \"\"\n      };\n\n      if (!aa.timeConflict(array3)) {\n        _this.setState({\n          showConflict: \"hidden\",\n          showConflictForFinalize: false\n        });\n\n        for (var _j6 = 0; _j6 < addedClass.lecture[lectureIndex].days.length; _j6++) {\n          // add lecture\n          var initial = _this.timeToNum(addedClass.lecture[lectureIndex].startTime);\n\n          var final = _this.timeToNum(addedClass.lecture[lectureIndex].endTime) - 1;\n          var middle = parseInt((initial + final) / 2);\n\n          for (var _i18 = 0; _i18 < 61; _i18++) {\n            if (initial <= _i18 && final >= _i18) {\n              var dayOfTheWeek = addedClass.lecture[lectureIndex].days[_j6] + \"-\";\n              document.getElementById(dayOfTheWeek + _i18).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n              if (_i18 === middle - 2) {\n                document.getElementById(dayOfTheWeek + _i18).innerHTML = addedClass.course;\n              } else if (_i18 === middle - 1) {\n                document.getElementById(dayOfTheWeek + _i18).innerHTML = \"Lecture\";\n              } else if (_i18 === middle) {\n                document.getElementById(dayOfTheWeek + _i18).innerHTML = addedClass.lecture[lectureIndex].startTime;\n              } else if (_i18 === middle + 1) {\n                document.getElementById(dayOfTheWeek + _i18).innerHTML = \"to\";\n              } else if (_i18 === middle + 2) {\n                document.getElementById(dayOfTheWeek + _i18).innerHTML = addedClass.lecture[lectureIndex].endTime;\n              } else {\n                document.getElementById(dayOfTheWeek + _i18).innerHTML = \"<br />\";\n              }\n\n              if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                document.getElementById(dayOfTheWeek + _i18).style.color = \"beige\";\n              } else {\n                document.getElementById(dayOfTheWeek + _i18).style.color = \"black\";\n              }\n            }\n          }\n        }\n\n        if (addedClass.lecture[lectureIndex].tutorial.length != 0) {\n          for (var k = 0; k < addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days.length; k++) {\n            // add tutorial\n            var _initial5 = _this.timeToNum(addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime);\n\n            var _final5 = _this.timeToNum(addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime) - 1;\n\n            var _middle5 = parseInt((_initial5 + _final5) / 2);\n\n            if (_final5 - _initial5 <= 3) {\n              for (var _i19 = 0; _i19 < 61; _i19++) {\n                if (_initial5 <= _i19 && _final5 >= _i19) {\n                  var _dayOfTheWeek11 = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days[k] + \"-\";\n\n                  document.getElementById(_dayOfTheWeek11 + _i19).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                  if (_i19 === _middle5 - 1) {\n                    document.getElementById(_dayOfTheWeek11 + _i19).innerHTML = addedClass.course;\n                  } else if (_i19 === _middle5) {\n                    document.getElementById(_dayOfTheWeek11 + _i19).innerHTML = \"Tutorial\";\n                  } else if (_i19 === _middle5 + 1) {\n                    document.getElementById(_dayOfTheWeek11 + _i19).innerHTML = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime + \"-\" + addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime;\n                  } else {\n                    document.getElementById(_dayOfTheWeek11 + _i19).innerHTML = \"<br />\";\n                  }\n\n                  if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                    document.getElementById(_dayOfTheWeek11 + _i19).style.color = \"beige\";\n                  } else {\n                    document.getElementById(_dayOfTheWeek11 + _i19).style.color = \"black\";\n                  }\n                }\n              }\n            } else {\n              for (var _i20 = 0; _i20 < 61; _i20++) {\n                if (_initial5 <= _i20 && _final5 >= _i20) {\n                  var _dayOfTheWeek12 = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days[k] + \"-\";\n\n                  document.getElementById(_dayOfTheWeek12 + _i20).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                  if (_i20 === _middle5 - 2) {\n                    document.getElementById(_dayOfTheWeek12 + _i20).innerHTML = addedClass.course;\n                  } else if (_i20 === _middle5 - 1) {\n                    document.getElementById(_dayOfTheWeek12 + _i20).innerHTML = \"Tutorial\";\n                  } else if (_i20 === _middle5) {\n                    document.getElementById(_dayOfTheWeek12 + _i20).innerHTML = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime;\n                  } else if (_i20 === _middle5 + 1) {\n                    document.getElementById(_dayOfTheWeek12 + _i20).innerHTML = \"to\";\n                  } else if (_i20 === _middle5 + 2) {\n                    document.getElementById(_dayOfTheWeek12 + _i20).innerHTML = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime;\n                  } else {\n                    document.getElementById(_dayOfTheWeek12 + _i20).innerHTML = \"<br />\";\n                  }\n\n                  if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                    document.getElementById(_dayOfTheWeek12 + _i20).style.color = \"beige\";\n                  } else {\n                    document.getElementById(_dayOfTheWeek12 + _i20).style.color = \"black\";\n                  }\n                }\n              }\n            }\n          }\n        }\n\n        if (addedClass.lab.length != 0) {\n          for (var l = 0; l < addedClass.lab[labIndex].days.length; l++) {\n            // add lab\n            var _initial6 = _this.timeToNum(addedClass.lab[labIndex].startTime);\n\n            var _final6 = _this.timeToNum(addedClass.lab[labIndex].endTime) - 1;\n\n            var _middle6 = parseInt((_initial6 + _final6) / 2);\n\n            if (_final6 - _initial6 <= 3) {\n              for (var _i21 = 0; _i21 < 61; _i21++) {\n                if (_initial6 <= _i21 && _final6 >= _i21) {\n                  var _dayOfTheWeek13 = addedClass.lab[labIndex].days[l] + \"-\";\n\n                  document.getElementById(_dayOfTheWeek13 + _i21).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                  if (_i21 === _middle6 - 1) {\n                    document.getElementById(_dayOfTheWeek13 + _i21).innerHTML = addedClass.course;\n                  } else if (_i21 === _middle6) {\n                    document.getElementById(_dayOfTheWeek13 + _i21).innerHTML = \"Lab\";\n                  } else if (_i21 === _middle6 + 1) {\n                    document.getElementById(_dayOfTheWeek13 + _i21).innerHTML = addedClass.lab[labIndex].startTime + \"-\" + addedClass.lab[labIndex].endTime;\n                  } else {\n                    document.getElementById(_dayOfTheWeek13 + _i21).innerHTML = \"<br />\";\n                  }\n\n                  if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                    document.getElementById(_dayOfTheWeek13 + _i21).style.color = \"beige\";\n                  } else {\n                    document.getElementById(_dayOfTheWeek13 + _i21).style.color = \"black\";\n                  }\n                }\n              }\n            } else {\n              for (var _i22 = 0; _i22 < 61; _i22++) {\n                if (_initial6 <= _i22 && _final6 >= _i22) {\n                  var _dayOfTheWeek14 = addedClass.lab[labIndex].days[l] + \"-\";\n\n                  document.getElementById(_dayOfTheWeek14 + _i22).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                  if (_i22 === _middle6 - 2) {\n                    document.getElementById(_dayOfTheWeek14 + _i22).innerHTML = addedClass.course;\n                  } else if (_i22 === _middle6 - 1) {\n                    document.getElementById(_dayOfTheWeek14 + _i22).innerHTML = \"Lab\";\n                  } else if (_i22 === _middle6) {\n                    document.getElementById(_dayOfTheWeek14 + _i22).innerHTML = addedClass.lab[labIndex].startTime;\n                  } else if (_i22 === _middle6 + 1) {\n                    document.getElementById(_dayOfTheWeek14 + _i22).innerHTML = \"to\";\n                  } else if (_i22 === _middle6 + 2) {\n                    document.getElementById(_dayOfTheWeek14 + _i22).innerHTML = addedClass.lab[labIndex].endTime;\n                  } else {\n                    document.getElementById(_dayOfTheWeek14 + _i22).innerHTML = \"<br />\";\n                  }\n\n                  if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                    document.getElementById(_dayOfTheWeek14 + _i22).style.color = \"beige\";\n                  } else {\n                    document.getElementById(_dayOfTheWeek14 + _i22).style.color = \"black\";\n                  }\n                }\n              }\n            }\n          }\n        }\n      } else {\n        document.getElementById(\"timeConflict\").innerHTML = \"No Results\";\n\n        _this.setState({\n          showConflict: \"visible\",\n          showConflictForFinalize: true\n        });\n\n        _this.removeAll();\n      }\n\n      _this.state.finalizedClassArray.push(newClassForFinalize);\n\n      var oldColors = [];\n\n      for (var o = 0; o < _this.state.selectedCourses.length; o++) {\n        // get list of all the colors in the selection menu before change\n        oldColors[o] = document.getElementById(_this.state.selectedCourses[o][0].course).style.backgroundColor;\n      }\n\n      oldColors.push(colorChosen); // add the color of new course to the list also\n\n      _this.setState({\n        colorOfNewClass: oldColors\n      }); // when rendering the selection menu it will render it with all the old colors + the newly added color\n\n\n      var array1 = [];\n      array1[0] = addedClass;\n      array1[1] = lectureIndex;\n      array1[2] = tutorialIndex;\n      array1[3] = labIndex;\n      array1[4] = colorChosen; // the array will also store the color corresponding to that course\n\n      array.push(array1);\n      var credits = _this.state.credits + addedClass.credit; // the code for defaultValue1 should be changed after issue #119\n\n      var defaultValue1 = addedClass.lecture[lectureIndex].section;\n      var defaultValue3 = \"\";\n\n      if (addedClass.lecture[lectureIndex].tutorial.length != 0) {\n        defaultValue3 = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].section;\n      }\n\n      var defaultValue2 = \"\";\n\n      if (addedClass.lab.length != 0) {\n        defaultValue2 = addedClass.lab[labIndex].section + \"\";\n      }\n\n      _this.setState({\n        selectedCourses: array,\n        credits: credits,\n        defaultValueLecture: defaultValue1,\n        defaultValueTutorial: defaultValue3,\n        defaultValueLab: defaultValue2\n      });\n\n      console.log(array1);\n    };\n\n    _this.remove1 = function () {\n      var coursecode = document.getElementById(\"add-class1\").value;\n      var courseToRemove, lectureIndex, tutorialIndex, labIndex, color;\n\n      for (var i = 0; i < _this.state.selectedCourses.length; i++) {\n        if (_this.state.selectedCourses[i][0].course === coursecode) {\n          courseToRemove = _this.state.selectedCourses[i][0];\n          lectureIndex = _this.state.selectedCourses[i][1];\n          tutorialIndex = _this.state.selectedCourses[i][2];\n          labIndex = _this.state.selectedCourses[i][3];\n          color = _this.state.selectedCourses[i][4];\n          break;\n        }\n      }\n\n      if (courseToRemove === undefined || courseToRemove === null) {\n        document.getElementById(\"addStatus1\").innerHTML = \"Invalid Course / Course Not Found\";\n\n        _this.setState({\n          show2: \"visible\"\n        });\n\n        return;\n      }\n\n      for (var j = 0; j < courseToRemove.lecture[lectureIndex].days.length; j++) {\n        for (var _i23 = 0; _i23 < 61; _i23++) {\n          var dayOfTheWeek = courseToRemove.lecture[lectureIndex].days[j] + \"-\";\n\n          if (_this.timeToNum(courseToRemove.lecture[lectureIndex].startTime) <= _i23 && _this.timeToNum(courseToRemove.lecture[lectureIndex].endTime) - 1 >= _i23) {\n            document.getElementById(dayOfTheWeek + _i23).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\n\n            document.getElementById(dayOfTheWeek + _i23).innerHTML = \"----------------\";\n            document.getElementById(dayOfTheWeek + _i23).style.color = \"black\";\n          }\n        }\n      }\n\n      if (courseToRemove.lecture[lectureIndex].tutorial.length != 0) {\n        for (var _j7 = 0; _j7 < courseToRemove.lecture[lectureIndex].tutorial[tutorialIndex].days.length; _j7++) {\n          var _dayOfTheWeek15 = courseToRemove.lecture[lectureIndex].tutorial[tutorialIndex].days[_j7] + \"-\";\n\n          for (var _i24 = 0; _i24 < 61; _i24++) {\n            if (_this.timeToNum(courseToRemove.lecture[lectureIndex].tutorial[tutorialIndex].startTime) <= _i24 && _this.timeToNum(courseToRemove.lecture[lectureIndex].tutorial[tutorialIndex].endTime) - 1 >= _i24) {\n              document.getElementById(_dayOfTheWeek15 + _i24).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\n\n              document.getElementById(_dayOfTheWeek15 + _i24).innerHTML = \"----------------\";\n              document.getElementById(_dayOfTheWeek15 + _i24).style.color = \"black\";\n            }\n          }\n        }\n      }\n\n      if (courseToRemove.lab.length != 0) {\n        for (var _j8 = 0; _j8 < courseToRemove.lab[labIndex].days.length; _j8++) {\n          var _dayOfTheWeek16 = courseToRemove.lab[labIndex].days[_j8] + \"-\";\n\n          for (var _i25 = 0; _i25 < 61; _i25++) {\n            if (_this.timeToNum(courseToRemove.lab[labIndex].startTime) <= _i25 && _this.timeToNum(courseToRemove.lab[labIndex].endTime) - 1 >= _i25) {\n              document.getElementById(_dayOfTheWeek16 + _i25).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\n\n              document.getElementById(_dayOfTheWeek16 + _i25).innerHTML = \"----------------\";\n              document.getElementById(_dayOfTheWeek16 + _i25).style.color = \"black\";\n            }\n          }\n        }\n      }\n\n      var array = _this.state.selectedCourses.filter(function (data) {\n        return coursecode !== data[0].course;\n      });\n\n      for (var _j9 = 0; _j9 < _this.state.colors.length; _j9++) {\n        // see if the color is one of the default colors\n        if (_this.state.colors[_j9][0] == color) {\n          var colorNotInUse = true;\n\n          for (var k = 0; k < array.length; k++) {\n            // if it's a default color, make sure it's not\n            if (array[k][4] == color) {\n              // also being used by another course\n              colorNotInUse = false;\n              break;\n            }\n          }\n\n          if (colorNotInUse) {\n            _this.state.colors[_j9][1] = 0;\n          }\n\n          break;\n        }\n      }\n\n      var aa = new AveryAlgorithms();\n\n      if (!aa.timeConflict(array)) {\n        _this.setState({\n          showConflict: \"hidden\",\n          showConflictForFinalize: false\n        });\n\n        var addedClass, _lectureIndex, _tutorialIndex, _labIndex, colorChosen;\n\n        for (var _i26 = 0; _i26 < array.length; _i26++) {\n          addedClass = array[_i26][0];\n          _lectureIndex = array[_i26][1];\n          _tutorialIndex = array[_i26][2];\n          _labIndex = array[_i26][3];\n          colorChosen = array[_i26][4];\n\n          for (var _j10 = 0; _j10 < addedClass.lecture[_lectureIndex].days.length; _j10++) {\n            // add lecture\n            var initial = _this.timeToNum(addedClass.lecture[_lectureIndex].startTime);\n\n            var final = _this.timeToNum(addedClass.lecture[_lectureIndex].endTime) - 1;\n            var middle = parseInt((initial + final) / 2);\n\n            for (var _i27 = 0; _i27 < 61; _i27++) {\n              if (initial <= _i27 && final >= _i27) {\n                var _dayOfTheWeek17 = addedClass.lecture[_lectureIndex].days[_j10] + \"-\";\n\n                document.getElementById(_dayOfTheWeek17 + _i27).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                if (_i27 === middle - 2) {\n                  document.getElementById(_dayOfTheWeek17 + _i27).innerHTML = addedClass.course;\n                } else if (_i27 === middle - 1) {\n                  document.getElementById(_dayOfTheWeek17 + _i27).innerHTML = \"Lecture\";\n                } else if (_i27 === middle) {\n                  document.getElementById(_dayOfTheWeek17 + _i27).innerHTML = addedClass.lecture[_lectureIndex].startTime;\n                } else if (_i27 === middle + 1) {\n                  document.getElementById(_dayOfTheWeek17 + _i27).innerHTML = \"to\";\n                } else if (_i27 === middle + 2) {\n                  document.getElementById(_dayOfTheWeek17 + _i27).innerHTML = addedClass.lecture[_lectureIndex].endTime;\n                } else {\n                  document.getElementById(_dayOfTheWeek17 + _i27).innerHTML = \"<br />\";\n                }\n\n                if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                  document.getElementById(_dayOfTheWeek17 + _i27).style.color = \"beige\";\n                } else {\n                  document.getElementById(_dayOfTheWeek17 + _i27).style.color = \"black\";\n                }\n              }\n            }\n          }\n\n          if (addedClass.lecture[_lectureIndex].tutorial.length != 0) {\n            for (var _k = 0; _k < addedClass.lecture[_lectureIndex].tutorial[_tutorialIndex].days.length; _k++) {\n              // add tutorial\n              var _initial7 = _this.timeToNum(addedClass.lecture[_lectureIndex].tutorial[_tutorialIndex].startTime);\n\n              var _final7 = _this.timeToNum(addedClass.lecture[_lectureIndex].tutorial[_tutorialIndex].endTime) - 1;\n\n              var _middle7 = parseInt((_initial7 + _final7) / 2);\n\n              if (_final7 - _initial7 <= 3) {\n                for (var _i28 = 0; _i28 < 61; _i28++) {\n                  if (_initial7 <= _i28 && _final7 >= _i28) {\n                    var _dayOfTheWeek18 = addedClass.lecture[_lectureIndex].tutorial[_tutorialIndex].days[_k] + \"-\";\n\n                    document.getElementById(_dayOfTheWeek18 + _i28).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                    if (_i28 === _middle7 - 1) {\n                      document.getElementById(_dayOfTheWeek18 + _i28).innerHTML = addedClass.course;\n                    } else if (_i28 === _middle7) {\n                      document.getElementById(_dayOfTheWeek18 + _i28).innerHTML = \"Tutorial\";\n                    } else if (_i28 === _middle7 + 1) {\n                      document.getElementById(_dayOfTheWeek18 + _i28).innerHTML = addedClass.lecture[_lectureIndex].tutorial[_tutorialIndex].startTime + \"-\" + addedClass.lecture[_lectureIndex].tutorial[_tutorialIndex].endTime;\n                    } else {\n                      document.getElementById(_dayOfTheWeek18 + _i28).innerHTML = \"<br />\";\n                    }\n\n                    if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                      document.getElementById(_dayOfTheWeek18 + _i28).style.color = \"beige\";\n                    } else {\n                      document.getElementById(_dayOfTheWeek18 + _i28).style.color = \"black\";\n                    }\n                  }\n                }\n              } else {\n                for (var _i29 = 0; _i29 < 61; _i29++) {\n                  if (_initial7 <= _i29 && _final7 >= _i29) {\n                    var _dayOfTheWeek19 = addedClass.lecture[_lectureIndex].tutorial[_tutorialIndex].days[_k] + \"-\";\n\n                    document.getElementById(_dayOfTheWeek19 + _i29).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                    if (_i29 === _middle7 - 2) {\n                      document.getElementById(_dayOfTheWeek19 + _i29).innerHTML = addedClass.course;\n                    } else if (_i29 === _middle7 - 1) {\n                      document.getElementById(_dayOfTheWeek19 + _i29).innerHTML = \"Tutorial\";\n                    } else if (_i29 === _middle7) {\n                      document.getElementById(_dayOfTheWeek19 + _i29).innerHTML = addedClass.lecture[_lectureIndex].tutorial[_tutorialIndex].startTime;\n                    } else if (_i29 === _middle7 + 1) {\n                      document.getElementById(_dayOfTheWeek19 + _i29).innerHTML = \"to\";\n                    } else if (_i29 === _middle7 + 2) {\n                      document.getElementById(_dayOfTheWeek19 + _i29).innerHTML = addedClass.lecture[_lectureIndex].tutorial[_tutorialIndex].endTime;\n                    } else {\n                      document.getElementById(_dayOfTheWeek19 + _i29).innerHTML = \"<br />\";\n                    }\n\n                    if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                      document.getElementById(_dayOfTheWeek19 + _i29).style.color = \"beige\";\n                    } else {\n                      document.getElementById(_dayOfTheWeek19 + _i29).style.color = \"black\";\n                    }\n                  }\n                }\n              }\n            }\n          }\n\n          if (addedClass.lab.length != 0) {\n            for (var l = 0; l < addedClass.lab[_labIndex].days.length; l++) {\n              // add lab\n              var _initial8 = _this.timeToNum(addedClass.lab[_labIndex].startTime);\n\n              var _final8 = _this.timeToNum(addedClass.lab[_labIndex].endTime) - 1;\n\n              var _middle8 = parseInt((_initial8 + _final8) / 2);\n\n              if (_final8 - _initial8 <= 3) {\n                for (var _i30 = 0; _i30 < 61; _i30++) {\n                  if (_initial8 <= _i30 && _final8 >= _i30) {\n                    var _dayOfTheWeek20 = addedClass.lab[_labIndex].days[l] + \"-\";\n\n                    document.getElementById(_dayOfTheWeek20 + _i30).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                    if (_i30 === _middle8 - 1) {\n                      document.getElementById(_dayOfTheWeek20 + _i30).innerHTML = addedClass.course;\n                    } else if (_i30 === _middle8) {\n                      document.getElementById(_dayOfTheWeek20 + _i30).innerHTML = \"Lab\";\n                    } else if (_i30 === _middle8 + 1) {\n                      document.getElementById(_dayOfTheWeek20 + _i30).innerHTML = addedClass.lab[_labIndex].startTime + \"-\" + addedClass.lab[_labIndex].endTime;\n                    } else {\n                      document.getElementById(_dayOfTheWeek20 + _i30).innerHTML = \"<br />\";\n                    }\n\n                    if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                      document.getElementById(_dayOfTheWeek20 + _i30).style.color = \"beige\";\n                    } else {\n                      document.getElementById(_dayOfTheWeek20 + _i30).style.color = \"black\";\n                    }\n                  }\n                }\n              } else {\n                for (var _i31 = 0; _i31 < 61; _i31++) {\n                  if (_initial8 <= _i31 && _final8 >= _i31) {\n                    var _dayOfTheWeek21 = addedClass.lab[_labIndex].days[l] + \"-\";\n\n                    document.getElementById(_dayOfTheWeek21 + _i31).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                    if (_i31 === _middle8 - 2) {\n                      document.getElementById(_dayOfTheWeek21 + _i31).innerHTML = addedClass.course;\n                    } else if (_i31 === _middle8 - 1) {\n                      document.getElementById(_dayOfTheWeek21 + _i31).innerHTML = \"Lab\";\n                    } else if (_i31 === _middle8) {\n                      document.getElementById(_dayOfTheWeek21 + _i31).innerHTML = addedClass.lab[_labIndex].startTime;\n                    } else if (_i31 === _middle8 + 1) {\n                      document.getElementById(_dayOfTheWeek21 + _i31).innerHTML = \"to\";\n                    } else if (_i31 === _middle8 + 2) {\n                      document.getElementById(_dayOfTheWeek21 + _i31).innerHTML = addedClass.lab[_labIndex].endTime;\n                    } else {\n                      document.getElementById(_dayOfTheWeek21 + _i31).innerHTML = \"<br />\";\n                    }\n\n                    if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                      document.getElementById(_dayOfTheWeek21 + _i31).style.color = \"beige\";\n                    } else {\n                      document.getElementById(_dayOfTheWeek21 + _i31).style.color = \"black\";\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n\n      var newFinalizedClassArray = _this.state.finalizedClassArray.filter(function (theClass) {\n        return coursecode !== theClass.course_number;\n      });\n\n      var credits = _this.state.credits - courseToRemove.credit;\n\n      _this.setState({\n        selectedCourses: array,\n        show2: \"hidden\",\n        credits: credits,\n        finalizedClassArray: newFinalizedClassArray\n      });\n    };\n\n    _this.handleShow = _this.handleShow.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleShow1 = _this.handleShow1.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClose1 = _this.handleClose1.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.openRubiat = _this.openRubiat.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeRubiat = _this.closeRubiat.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.colourRubiatC = _this.colourRubiatC.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.colourRubiatO = _this.colourRubiatO.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.openUpload = _this.openUpload.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeUpload = _this.closeUpload.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleLoading = _this.toggleLoading.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setCourses = _this.setCourses.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.changeSection = _this.changeSection.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.filterTutorialOptions = _this.filterTutorialOptions.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    var year;\n    var semester;\n\n    if (document.getElementById(\"semester-year\") === null || document.getElementById(\"semester\") === null) {\n      year = new Date().getFullYear();\n      semester = \"Fall\";\n    } else {\n      year = document.getElementById(\"semester-year\").value;\n      semester = document.getElementById(\"semester\").value;\n    }\n\n    _this.state = {\n      show: false,\n      show1: false,\n      rubiat: false,\n      colorS: false,\n      isLoading: true,\n      lectures: null,\n      labs: null,\n      tutorials: null,\n      dataCourses: null,\n      Courses: null,\n      coursesFall: null,\n      coursesWinter: null,\n      coursesSummer: null,\n      coursesTaken: null,\n      coursesTakenSet: null,\n      loggedIn: false,\n      semester: semester,\n      year: year,\n      weekdays: [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\"],\n      credits: 0,\n      //classes: JSON.parse(JSON.stringify(data.sequence)),\n      colors: [[\"#f44336\", 0], [\"#e91e63\", 0], [\"#4caf50\", 0], [\"#795548\", 0], [\"#03a9f4\", 0], [\"#3f51b5\", 0], [\"#607d8b\", 0]],\n      addedClasses: [],\n      courses: JSON.parse(JSON.stringify(data.default.sequence)),\n      courses2: JSON.parse(JSON.stringify(data1.default.sequence)),\n      selectedCourses: [],\n      show2: \"hidden\",\n      colorOfNewClass: [],\n      showUpload: false,\n      uploadedFile: null,\n      defaultValueLecture: \"\",\n      defaultValueLab: \"\",\n      defaultValueTutorial: \"\",\n      showSelection: \"block\",\n      showSchedule: \"none\",\n      showConflict: \"hidden\",\n      showTryAll: \"hidden\",\n      tryAllIndex: 0,\n      validTryAll: [],\n      finalizedClassArray: [],\n      showConflictForFinalize: false\n    }; //console.log(\"data.sequence: \" + JSON.stringify(data.sequence));\n    //console.log(\"courses: \" + JSON.stringify(data.default.sequence));\n\n    return _this;\n  }\n\n  _createClass(CourseSelectionMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"/semQuery\").then(function (res) {\n        return res.json();\n      }).then(function (users2) {\n        return _this2.setState({\n          users2: users2\n        }, function () {\n          return _this2.setCourses(users2);\n        });\n      }).then(function () {\n        return _this2.toggleLoading();\n      });\n    }\n  }, {\n    key: \"setCourses\",\n    value: function setCourses(stringy) {\n      stringy = \"\" + stringy;\n      var lecStartPosition = stringy.indexOf('\"lectures\":[');\n      var tutStartPosition = stringy.indexOf('\"tutorials\":[');\n      this.state.lectures = stringy.substring(lecStartPosition + 12, tutStartPosition);\n      var labStartPosition = stringy.indexOf('\"labs\":[');\n      this.state.tutorials = stringy.substring(tutStartPosition + 13, labStartPosition);\n      var sequenceStartPos = stringy.indexOf('\"result2\":[');\n      this.state.labs = stringy.substring(labStartPosition + 8, sequenceStartPos);\n      var namePosition = stringy.indexOf('\"names\":[');\n      this.state.Courses = stringy.substring(sequenceStartPos + 11, namePosition);\n      var endingPosition = stringy.indexOf(\"]}]\");\n      this.state.coursesTaken = stringy.substring(namePosition + 9, endingPosition);\n      if (this.state.coursesTaken != \"\") this.state.loggedIn = true;\n      var aRegEx = new AveryRegEx(this.state.lectures, this.state.tutorials, this.state.labs, this.state.coursesTaken, this.state.loggedIn, this.state.Courses);\n      var oldVars = aRegEx.regEx();\n      this.state.coursesFall = oldVars[0];\n      this.state.coursesWinter = oldVars[1];\n      this.state.coursesSummer = oldVars[2];\n      this.state.courses2 = this.state.coursesFall;\n      this.state.dataCourses = oldVars[3];\n      this.state.coursesTakenSet = oldVars[4];\n      console.log(\"coursesTakenSet:\");\n      console.log(this.state.coursesTakenSet);\n      var aa = new AveryAlgorithms();\n\n      if (this.state.dataCourses[36] != undefined) {\n        console.log(\"Array of Arrays:\");\n        console.log(aa.treeCaller([this.state.dataCourses[36], this.state.dataCourses[26], this.state.dataCourses[10]]));\n      }\n    }\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        show: false\n      });\n    }\n  }, {\n    key: \"handleShow\",\n    value: function handleShow() {\n      this.setState({\n        show: true\n      });\n    }\n  }, {\n    key: \"handleClose1\",\n    value: function handleClose1() {\n      this.setState({\n        show1: false\n      });\n    }\n  }, {\n    key: \"handleShow1\",\n    value: function handleShow1() {\n      this.setState({\n        show1: true\n      });\n    }\n  }, {\n    key: \"openRubiat\",\n    value: function openRubiat() {\n      this.setState({\n        rubiat: true\n      });\n    }\n  }, {\n    key: \"closeRubiat\",\n    value: function closeRubiat() {\n      this.setState({\n        rubiat: false\n      });\n    }\n  }, {\n    key: \"colourRubiatO\",\n    value: function colourRubiatO() {\n      this.setState({\n        colorS: true\n      });\n    }\n  }, {\n    key: \"colourRubiatC\",\n    value: function colourRubiatC() {\n      this.setState({\n        colorS: false\n      });\n    }\n  }, {\n    key: \"openUpload\",\n    value: function openUpload() {\n      this.setState({\n        showUpload: true\n      });\n    }\n  }, {\n    key: \"closeUpload\",\n    value: function closeUpload() {\n      this.setState({\n        showUpload: false\n      });\n    }\n  }, {\n    key: \"toggleLoading\",\n    value: function toggleLoading() {\n      this.setState({\n        isLoading: !this.state.isLoading\n      });\n    }\n  }, {\n    key: \"changeSection\",\n    value: function changeSection(courseName) {\n      // let regEx = document.getElementById(courseName + \"section\").value;\n      // let lectureSection = regEx.substring(0, regEx.indexOf(\"-\"));\n      var lectureSection = document.getElementById(courseName + \"lecSection\").value; // let tutorialSection = regEx.substring(regEx.indexOf(\"-\") + 1);\n\n      var tutorialSection = document.getElementById(courseName + \"tutSection\").value;\n      var labSection = document.getElementById(courseName + \"labSection\").value;\n      var lectureIndex, tutorialIndex, labIndex;\n      var courseToChange, colorChosen, courseArray;\n\n      for (var i = 0; i < this.state.selectedCourses.length; i++) {\n        if (this.state.selectedCourses[i][0].course === courseName) {\n          courseArray = this.state.selectedCourses[i];\n          courseToChange = this.state.selectedCourses[i][0];\n          lectureIndex = this.state.selectedCourses[i][1];\n          tutorialIndex = this.state.selectedCourses[i][2];\n          labIndex = this.state.selectedCourses[i][3];\n          colorChosen = this.state.selectedCourses[i][4];\n        }\n      }\n\n      var courseToChangeForFinalize;\n\n      for (var s = 0; s < this.state.finalizedClassArray.length; s++) {\n        if (this.state.finalizedClassArray[s].course_number === courseName) {\n          courseToChangeForFinalize = this.state.finalizedClassArray[s];\n          break;\n        }\n      }\n\n      for (var j = 0; j < courseToChange.lecture[lectureIndex].days.length; j++) {\n        for (var _i32 = 0; _i32 < 61; _i32++) {\n          var dayOfTheWeek = courseToChange.lecture[lectureIndex].days[j] + \"-\";\n\n          if (this.timeToNum(courseToChange.lecture[lectureIndex].startTime) <= _i32 && this.timeToNum(courseToChange.lecture[lectureIndex].endTime) - 1 >= _i32) {\n            document.getElementById(dayOfTheWeek + _i32).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\n\n            document.getElementById(dayOfTheWeek + _i32).innerHTML = \"----------------\";\n            document.getElementById(dayOfTheWeek + _i32).style.color = \"black\";\n          }\n        }\n      }\n\n      if (courseToChange.lecture[lectureIndex].tutorial.length != 0) {\n        for (var _j11 = 0; _j11 < courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days.length; _j11++) {\n          var _dayOfTheWeek22 = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days[_j11] + \"-\";\n\n          for (var _i33 = 0; _i33 < 61; _i33++) {\n            if (this.timeToNum(courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].startTime) <= _i33 && this.timeToNum(courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].endTime) - 1 >= _i33) {\n              document.getElementById(_dayOfTheWeek22 + _i33).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\n\n              document.getElementById(_dayOfTheWeek22 + _i33).innerHTML = \"----------------\";\n              document.getElementById(_dayOfTheWeek22 + _i33).style.color = \"black\";\n            }\n          }\n        }\n      }\n\n      if (courseToChange.lab.length != 0) {\n        for (var _j12 = 0; _j12 < courseToChange.lab[labIndex].days.length; _j12++) {\n          var _dayOfTheWeek23 = courseToChange.lab[labIndex].days[_j12] + \"-\";\n\n          for (var _i34 = 0; _i34 < 61; _i34++) {\n            if (this.timeToNum(courseToChange.lab[labIndex].startTime) <= _i34 && this.timeToNum(courseToChange.lab[labIndex].endTime) - 1 >= _i34) {\n              document.getElementById(_dayOfTheWeek23 + _i34).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\n\n              document.getElementById(_dayOfTheWeek23 + _i34).innerHTML = \"----------------\";\n              document.getElementById(_dayOfTheWeek23 + _i34).style.color = \"black\";\n            }\n          }\n        }\n      } // add part\n\n\n      for (var _i35 = 0; _i35 < courseToChange.lecture.length; _i35++) {\n        if (courseToChange.lecture[_i35].section === lectureSection) {\n          lectureIndex = _i35; //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n        }\n      }\n\n      if (courseToChange.lecture[lectureIndex].tutorial.length != 0) {\n        for (var _i36 = 0; _i36 < courseToChange.lecture[lectureIndex].tutorial.length; _i36++) {\n          if (courseToChange.lecture[lectureIndex].tutorial[_i36].section === tutorialSection) {\n            tutorialIndex = _i36; //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n          }\n        }\n      }\n\n      if (courseToChange.lab.length != 0) {\n        for (var _i37 = 0; _i37 < courseToChange.lab.length; _i37++) {\n          if (courseToChange.lab[_i37].section === labSection) {\n            labIndex = _i37; //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n          }\n        }\n      }\n\n      courseToChangeForFinalize.course_color = colorChosen;\n      courseToChangeForFinalize.lecture_section = lectureSection;\n      courseToChangeForFinalize.lecture_days = courseToChange.lecture[lectureIndex].days;\n      courseToChangeForFinalize.lecture_start = courseToChange.lecture[lectureIndex].startTime;\n      courseToChangeForFinalize.lecture_end = courseToChange.lecture[lectureIndex].endTime;\n      courseToChangeForFinalize.lecture_room = courseToChange.lecture[lectureIndex].room;\n      courseToChangeForFinalize.tutorial_section = tutorialSection;\n      courseToChangeForFinalize.tutorial_room = courseToChange.lecture[lectureIndex].tutorial.length !== 0 ? courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].room : \"\";\n      courseToChangeForFinalize.tutorial_days = courseToChange.lecture[lectureIndex].tutorial.length !== 0 ? courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days : \"\";\n      courseToChangeForFinalize.tutorial_start = courseToChange.lecture[lectureIndex].tutorial.length !== 0 ? courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].startTime : \"\";\n      courseToChangeForFinalize.tutorial_end = courseToChange.lecture[lectureIndex].tutorial.length !== 0 ? courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].endTime : \"\";\n      courseToChangeForFinalize.lab_section = labSection;\n      courseToChangeForFinalize.lab_room = courseToChange.lab.length !== 0 ? courseToChange.lab[labIndex].room : \"\";\n      courseToChangeForFinalize.lab_days = courseToChange.lab.length !== 0 ? courseToChange.lab[labIndex].days : \"\";\n      courseToChangeForFinalize.lab_start = courseToChange.lab.length !== 0 ? courseToChange.lab[labIndex].startTime : \"\";\n      courseToChangeForFinalize.lab_end = courseToChange.lab.length !== 0 ? courseToChange.lab[labIndex].endTime : \"\";\n      courseArray[1] = lectureIndex; // update the indexes of the new section\n\n      courseArray[2] = tutorialIndex;\n      courseArray[3] = labIndex;\n      var aa = new AveryAlgorithms();\n\n      if (!aa.timeConflict(this.state.selectedCourses)) {\n        this.setState({\n          showConflict: \"hidden\",\n          showConflictForFinalize: false\n        });\n\n        for (var n = 0; n < this.state.selectedCourses.length; n++) {\n          courseToChange = this.state.selectedCourses[n][0];\n          lectureIndex = this.state.selectedCourses[n][1];\n          tutorialIndex = this.state.selectedCourses[n][2];\n          labIndex = this.state.selectedCourses[n][3];\n          colorChosen = this.state.selectedCourses[n][4];\n\n          for (var _j13 = 0; _j13 < courseToChange.lecture[lectureIndex].days.length; _j13++) {\n            // add lecture\n            var initial = this.timeToNum(courseToChange.lecture[lectureIndex].startTime);\n            var final = this.timeToNum(courseToChange.lecture[lectureIndex].endTime) - 1;\n            var middle = parseInt((initial + final) / 2);\n\n            for (var _i38 = 0; _i38 < 61; _i38++) {\n              if (initial <= _i38 && final >= _i38) {\n                var _dayOfTheWeek24 = courseToChange.lecture[lectureIndex].days[_j13] + \"-\";\n\n                document.getElementById(_dayOfTheWeek24 + _i38).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                if (_i38 === middle - 2) {\n                  document.getElementById(_dayOfTheWeek24 + _i38).innerHTML = courseToChange.course;\n                } else if (_i38 === middle - 1) {\n                  document.getElementById(_dayOfTheWeek24 + _i38).innerHTML = \"Lecture\";\n                } else if (_i38 === middle) {\n                  document.getElementById(_dayOfTheWeek24 + _i38).innerHTML = courseToChange.lecture[lectureIndex].startTime;\n                } else if (_i38 === middle + 1) {\n                  document.getElementById(_dayOfTheWeek24 + _i38).innerHTML = \"to\";\n                } else if (_i38 === middle + 2) {\n                  document.getElementById(_dayOfTheWeek24 + _i38).innerHTML = courseToChange.lecture[lectureIndex].endTime;\n                } else {\n                  document.getElementById(_dayOfTheWeek24 + _i38).innerHTML = \"<br />\";\n                }\n\n                if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                  document.getElementById(_dayOfTheWeek24 + _i38).style.color = \"beige\";\n                } else {\n                  document.getElementById(_dayOfTheWeek24 + _i38).style.color = \"black\";\n                }\n              }\n            }\n          }\n\n          if (courseToChange.lecture[lectureIndex].tutorial.length != 0) {\n            for (var k = 0; k < courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days.length; k++) {\n              // add tutorial\n              var _initial9 = this.timeToNum(courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].startTime);\n\n              var _final9 = this.timeToNum(courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].endTime) - 1;\n\n              var _middle9 = parseInt((_initial9 + _final9) / 2);\n\n              if (_final9 - _initial9 <= 3) {\n                for (var _i39 = 0; _i39 < 61; _i39++) {\n                  if (_initial9 <= _i39 && _final9 >= _i39) {\n                    var _dayOfTheWeek25 = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days[k] + \"-\";\n\n                    document.getElementById(_dayOfTheWeek25 + _i39).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                    if (_i39 === _middle9 - 1) {\n                      document.getElementById(_dayOfTheWeek25 + _i39).innerHTML = courseToChange.course;\n                    } else if (_i39 === _middle9) {\n                      document.getElementById(_dayOfTheWeek25 + _i39).innerHTML = \"Tutorial\";\n                    } else if (_i39 === _middle9 + 1) {\n                      document.getElementById(_dayOfTheWeek25 + _i39).innerHTML = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].startTime + \"-\" + courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].endTime;\n                    } else {\n                      document.getElementById(_dayOfTheWeek25 + _i39).innerHTML = \"<br />\";\n                    }\n\n                    if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                      document.getElementById(_dayOfTheWeek25 + _i39).style.color = \"beige\";\n                    } else {\n                      document.getElementById(_dayOfTheWeek25 + _i39).style.color = \"black\";\n                    }\n                  }\n                }\n              } else {\n                for (var _i40 = 0; _i40 < 61; _i40++) {\n                  if (_initial9 <= _i40 && _final9 >= _i40) {\n                    var _dayOfTheWeek26 = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days[k] + \"-\";\n\n                    document.getElementById(_dayOfTheWeek26 + _i40).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                    if (_i40 === _middle9 - 2) {\n                      document.getElementById(_dayOfTheWeek26 + _i40).innerHTML = courseToChange.course;\n                    } else if (_i40 === _middle9 - 1) {\n                      document.getElementById(_dayOfTheWeek26 + _i40).innerHTML = \"Tutorial\";\n                    } else if (_i40 === _middle9) {\n                      document.getElementById(_dayOfTheWeek26 + _i40).innerHTML = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].startTime;\n                    } else if (_i40 === _middle9 + 1) {\n                      document.getElementById(_dayOfTheWeek26 + _i40).innerHTML = \"to\";\n                    } else if (_i40 === _middle9 + 2) {\n                      document.getElementById(_dayOfTheWeek26 + _i40).innerHTML = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].endTime;\n                    } else {\n                      document.getElementById(_dayOfTheWeek26 + _i40).innerHTML = \"<br />\";\n                    }\n\n                    if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                      document.getElementById(_dayOfTheWeek26 + _i40).style.color = \"beige\";\n                    } else {\n                      document.getElementById(_dayOfTheWeek26 + _i40).style.color = \"black\";\n                    }\n                  }\n                }\n              }\n            }\n          }\n\n          if (courseToChange.lab.length != 0) {\n            for (var l = 0; l < courseToChange.lab[labIndex].days.length; l++) {\n              // add lab\n              var _initial10 = this.timeToNum(courseToChange.lab[labIndex].startTime);\n\n              var _final10 = this.timeToNum(courseToChange.lab[labIndex].endTime) - 1;\n\n              var _middle10 = parseInt((_initial10 + _final10) / 2);\n\n              if (_final10 - _initial10 <= 3) {\n                for (var _i41 = 0; _i41 < 61; _i41++) {\n                  if (_initial10 <= _i41 && _final10 >= _i41) {\n                    var _dayOfTheWeek27 = courseToChange.lab[labIndex].days[l] + \"-\";\n\n                    document.getElementById(_dayOfTheWeek27 + _i41).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                    if (_i41 === _middle10 - 1) {\n                      document.getElementById(_dayOfTheWeek27 + _i41).innerHTML = courseToChange.course;\n                    } else if (_i41 === _middle10) {\n                      document.getElementById(_dayOfTheWeek27 + _i41).innerHTML = \"Lab\";\n                    } else if (_i41 === _middle10 + 1) {\n                      document.getElementById(_dayOfTheWeek27 + _i41).innerHTML = courseToChange.lab[labIndex].startTime + \"-\" + courseToChange.lab[labIndex].endTime;\n                    } else {\n                      document.getElementById(_dayOfTheWeek27 + _i41).innerHTML = \"<br />\";\n                    }\n\n                    if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                      document.getElementById(_dayOfTheWeek27 + _i41).style.color = \"beige\";\n                    } else {\n                      document.getElementById(_dayOfTheWeek27 + _i41).style.color = \"black\";\n                    }\n                  }\n                }\n              } else {\n                for (var _i42 = 0; _i42 < 61; _i42++) {\n                  if (_initial10 <= _i42 && _final10 >= _i42) {\n                    var _dayOfTheWeek28 = courseToChange.lab[labIndex].days[l] + \"-\";\n\n                    document.getElementById(_dayOfTheWeek28 + _i42).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                    if (_i42 === _middle10 - 2) {\n                      document.getElementById(_dayOfTheWeek28 + _i42).innerHTML = courseToChange.course;\n                    } else if (_i42 === _middle10 - 1) {\n                      document.getElementById(_dayOfTheWeek28 + _i42).innerHTML = \"Lab\";\n                    } else if (_i42 === _middle10) {\n                      document.getElementById(_dayOfTheWeek28 + _i42).innerHTML = courseToChange.lab[labIndex].startTime;\n                    } else if (_i42 === _middle10 + 1) {\n                      document.getElementById(_dayOfTheWeek28 + _i42).innerHTML = \"to\";\n                    } else if (_i42 === _middle10 + 2) {\n                      document.getElementById(_dayOfTheWeek28 + _i42).innerHTML = courseToChange.lab[labIndex].endTime;\n                    } else {\n                      document.getElementById(_dayOfTheWeek28 + _i42).innerHTML = \"<br />\";\n                    }\n\n                    if (colorChosen == \"#795548\" || colorChosen == \"#ff5722\" || colorChosen == \"#607d8b\" || colorChosen == \"#009688\" || colorChosen == \"#f44336\" || colorChosen == \"#9c27b0\" || colorChosen == \"#673ab7\" || colorChosen == \"#3f51b5\") {\n                      document.getElementById(_dayOfTheWeek28 + _i42).style.color = \"beige\";\n                    } else {\n                      document.getElementById(_dayOfTheWeek28 + _i42).style.color = \"black\";\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      } else {\n        document.getElementById(\"timeConflict\").innerHTML = \"No Results\";\n        this.setState({\n          showConflict: \"visible\",\n          showConflictForFinalize: true\n        });\n        this.removeAll();\n      }\n    }\n  }, {\n    key: \"filterTutorialOptions\",\n    value: function filterTutorialOptions(theName) {\n      var tuto = document.getElementById(theName + \"tutSection\");\n      var selected_lec = document.getElementById(theName + \"lecSection\");\n      var chosen_lec;\n\n      for (var i = 0; i < this.state.selectedCourses.length; i++) {\n        for (var j = 0; j < this.state.selectedCourses[i][0].lecture.length; j++) {\n          if (this.state.selectedCourses[i][0].lecture[j].section === selected_lec.value) {\n            chosen_lec = this.state.selectedCourses[i][0].lecture[j];\n            break;\n          }\n        }\n      }\n\n      var x = chosen_lec.tutorial.map(function (tut) {\n        return \"<option>\" + tut.section + \"</option>\";\n      });\n      tuto.innerHTML = x;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var myAddedClasses = this.state.selectedCourses.map(function (theClass) {\n        return React.createElement(\"option\", {\n          value: theClass[0].course,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2910\n          },\n          __self: this\n        }, theClass[0].course);\n      });\n      var i = 0;\n      var chosenClass;\n      var x = this.state.selectedCourses.map(function (element) {\n        return React.createElement(\"tr\", {\n          id: element[0].course,\n          style: {\n            backgroundColor: element[4]\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2916\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2917\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2918\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"checkbox\",\n          checked: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2919\n          },\n          __self: this\n        }), \" \\xA0\", React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2920\n          },\n          __self: this\n        }, element[0].course), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2921\n          },\n          __self: this\n        }), React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2922\n          },\n          __self: this\n        }, element[0].name), \" \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2922\n          },\n          __self: this\n        }), React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2924\n          },\n          __self: this\n        }, \"LEC:\\xA0\"), React.createElement(\"select\", {\n          id: element[0].course + \"lecSection\",\n          defaultValue: _this3.state.defaultValueLecture,\n          onChange: function onChange() {\n            return _this3.filterTutorialOptions(element[0].course);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2925\n          },\n          __self: this\n        }, element[0].lecture.map(function (theLec) {\n          return React.createElement(\"option\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2931\n            },\n            __self: this\n          }, theLec.section);\n        })), \"\\xA0 \\xA0\", React.createElement(\"label\", {\n          for: element[0].course + \"tutSection\",\n          style: {\n            visibility: element[0].lecture[0].tutorial.length === 0 ? \"hidden\" : \"visible\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2936\n          },\n          __self: this\n        }, \"TUT:\\xA0\"), React.createElement(\"select\", {\n          defaultValue: _this3.state.defaultValueTutorial,\n          id: element[0].course + \"tutSection\",\n          style: {\n            visibility: element[0].lecture[0].tutorial.length === 0 ? \"hidden\" : \"visible\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2947\n          },\n          __self: this\n        }, element[0].lecture[0].tutorial.map(function (theTut) {\n          return React.createElement(\"option\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2958\n            },\n            __self: this\n          }, theTut.section);\n        })), \"\\xA0 \\xA0\", React.createElement(\"label\", {\n          for: element[0].course + \"labSection\",\n          style: {\n            visibility: element[0].lab.length === 0 ? \"hidden\" : \"visible\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2964\n          },\n          __self: this\n        }, \"LAB:\\xA0\"), React.createElement(\"select\", {\n          defaultValue: _this3.state.defaultValueLab,\n          id: element[0].course + \"labSection\",\n          style: {\n            visibility: element[0].lab.length === 0 ? \"hidden\" : \"visible\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2973\n          },\n          __self: this\n        }, element[0].lab.map(function (element1) {\n          return React.createElement(\"option\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2982\n            },\n            __self: this\n          }, element1.section);\n        })), \" \", \"\\xA0\", React.createElement(Button, {\n          text: \"Change Section\",\n          onClick: function onClick() {\n            return _this3.changeSection(element[0].course);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2996\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 3000\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          style: {\n            fontWeight: \"bold\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 3001\n          },\n          __self: this\n        }, \"Prerequisites: \"), React.createElement(\"span\", {\n          id: \"prerequisites\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 3002\n          },\n          __self: this\n        }, element[0].prereqs.map(function (pre) {\n          return pre + \" \";\n        })), \"\\xA0 \\xA0 | \\xA0 \\xA0\", React.createElement(\"span\", {\n          style: {\n            fontWeight: \"bold\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 3006\n          },\n          __self: this\n        }, \"Co-requisites: \"), React.createElement(\"span\", {\n          id: \"corequisites\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 3007\n          },\n          __self: this\n        }, element[0].coreqs.map(function (cor) {\n          return cor + \" \";\n        })))));\n      });\n      var table = React.createElement(Table, {\n        id: \"selected-course-table\",\n        className: \"rounded\",\n        striped: true,\n        bordered: true,\n        hover: true,\n        variant: \"dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3016\n        },\n        __self: this\n      }, x);\n      var allOptions = this.state.courses.map(function (choice) {\n        return React.createElement(\"option\", {\n          value: choice.course,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 3029\n          },\n          __self: this\n        });\n      });\n      var currentYear = new Date().getFullYear();\n      var yeetus = [];\n\n      for (var _i43 = 1; _i43 < 8; _i43++) {\n        /*Basically choose a year from current year up to 8 years later. Don't touch this*/\n        yeetus[_i43] = currentYear + _i43;\n      }\n\n      var years = yeetus.map(function (jimmy) {\n        return React.createElement(\"option\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 3038\n          },\n          __self: this\n        }, jimmy);\n      });\n      var data = this.state.finalizedClassArray;\n      var data2 = this.state.showConflictForFinalize;\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3044\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"jumbotron j-greetings\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3045\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: this.state.showSelection\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3046\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"display-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3047\n        },\n        __self: this\n      }, \"Select Your Semester\"), React.createElement(\"hr\", {\n        color: \"#7e1530\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3048\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3049\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3050\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        controlId: \"semester\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3051\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3052\n        },\n        __self: this\n      }, \"Select Semester\"), React.createElement(Form.Control, {\n        as: \"select\",\n        onChange: this.handleSemesterChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3053\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        selected: \"selected\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3057\n        },\n        __self: this\n      }, \"Fall\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3058\n        },\n        __self: this\n      }, \"Winter\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3059\n        },\n        __self: this\n      }, \"Summer\")))), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3064\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        controlId: \"semester-year\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3065\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3066\n        },\n        __self: this\n      }, \"Select Year\"), React.createElement(Form.Control, {\n        as: \"select\",\n        selected: currentYear,\n        onChange: this.handleSemesterChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3067\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        selected: \"selected\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3072\n        },\n        __self: this\n      }, currentYear), years)))), React.createElement(LoadingScreen, {\n        loading: this.state.isLoading,\n        bgColor: \"#f1f1f1\",\n        spinnerColor: \"#b30000\",\n        textColor: \"#676767\",\n        logoSrc: \"https://user-images.githubusercontent.com/36492119/52869487-bdcd5180-3113-11e9-93d4-155882376646.png\",\n        text: \"Receiving Courses\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3079\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3089\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3091\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row bg-secondary text-white rounded\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3092\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3093\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"add-class1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3094\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        id: \"test\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3095\n        },\n        __self: this\n      }, \"Select Course\")), React.createElement(\"input\", {\n        type: \"text\",\n        list: \"add-class2\",\n        id: \"add-class1\",\n        className: \"btn btn-dark\",\n        placeholder: \"Course Number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3097\n        },\n        __self: this\n      }), React.createElement(\"datalist\", {\n        id: \"add-class2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3104\n        },\n        __self: this\n      }, allOptions)), React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3106\n        },\n        __self: this\n      }, React.createElement(Button, {\n        text: \"Select\",\n        onClick: this.addClass1,\n        style: {\n          float: \"left\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3107\n        },\n        __self: this\n      }), React.createElement(Button, {\n        text: \"Remove\",\n        onClick: this.remove1,\n        style: {\n          float: \"left\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3112\n        },\n        __self: this\n      }), React.createElement(Button, {\n        text: \"Add by Upload\",\n        onClick: this.openUpload,\n        style: {\n          float: \"left\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3117\n        },\n        __self: this\n      }), React.createElement(Button, {\n        text: \"Select\",\n        onClick: this.addClass1,\n        style: {\n          float: \"left\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3122\n        },\n        __self: this\n      }))), React.createElement(\"p\", {\n        id: \"addStatus1\",\n        style: {\n          color: \"red\",\n          visibility: this.state.show2\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3130\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3135\n        },\n        __self: this\n      }, table), React.createElement(Button, {\n        text: \"Generate Schedule\",\n        onClick: this.handleDisplay,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3137\n        },\n        __self: this\n      }), React.createElement(Button, {\n        text: \"Color Selection\",\n        onClick: this.openRubiat,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3139\n        },\n        __self: this\n      }), React.createElement(Button, {\n        text: \"Try All\",\n        onClick: this.tryAll,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3141\n        },\n        __self: this\n      }), React.createElement(Button, {\n        text: \"Send to Calender\",\n        onClick: this.sendCalendar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3142\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/hamburger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3143\n        },\n        __self: this\n      }, React.createElement(Button, {\n        text: \"Hamburger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3144\n        },\n        __self: this\n      })), React.createElement(Link, {\n        to: \"/build-seq-or-sem\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3146\n        },\n        __self: this\n      }, React.createElement(Button, {\n        text: \"Main Selector\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3147\n        },\n        __self: this\n      })), React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3150\n        },\n        __self: this\n      }, React.createElement(Button, {\n        text: \"Home Page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3151\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        style: {\n          display: this.state.showSchedule\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3155\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"display-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3157\n        },\n        __self: this\n      }, this.state.semester, \" \", this.state.year, \" Semester\"), React.createElement(\"p\", {\n        className: \"lead\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3160\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        id: \"timeConflict\",\n        style: {\n          color: \"red\",\n          visibility: this.state.showConflict\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3161\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"btn-group\",\n        style: {\n          visibility: this.state.showTryAll\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3166\n        },\n        __self: this\n      }, React.createElement(Button, {\n        text: \"Previous\",\n        onClick: this.tryAll1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3170\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3171\n        },\n        __self: this\n      }, this.state.validTryAll.length === 1 ? 0 : this.state.tryAllIndex + 1, \"/\", this.state.validTryAll.length === 1 ? 0 : this.state.validTryAll.length), React.createElement(Button, {\n        text: \"Next\",\n        onClick: this.tryAll2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3180\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3183\n        },\n        __self: this\n      }, \" \", React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3186\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3187\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3188\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3189\n        },\n        __self: this\n      }, React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3190\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3191\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3192\n        },\n        __self: this\n      }, \"Time\"), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3194\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3195\n        },\n        __self: this\n      }, times.time.map(function (element) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 3197\n          },\n          __self: this\n        }, element.startTime);\n      })))))), this.state.weekdays.map(function (days) {\n        return React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 3206\n          },\n          __self: this\n        }, React.createElement(\"table\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 3207\n          },\n          __self: this\n        }, React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 3208\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 3209\n          },\n          __self: this\n        }, days), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 3210\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 3211\n          },\n          __self: this\n        }, times.time.map(function (element) {\n          var myID = days + \"-\" + element.num;\n          return React.createElement(\"div\", {\n            id: myID,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 3214\n            },\n            __self: this\n          }, \"----------------\");\n        }))))));\n      }))))), React.createElement(Button, {\n        text: \"Color Selection\",\n        onClick: this.openRubiat,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3229\n        },\n        __self: this\n      }), React.createElement(Button, {\n        text: \"Download Schedule\",\n        onClick: this.downloadJson,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3230\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: {\n          pathname: \"/finalize-export-sem\",\n          selectedCourses: data,\n          theShowConflict: data2\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3231\n        },\n        __self: this\n      }, React.createElement(Button, {\n        text: \"Finalize\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3238\n        },\n        __self: this\n      })), React.createElement(Button, {\n        text: \"Back To Select Courses\",\n        onClick: this.handleDisplay1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3241\n        },\n        __self: this\n      }))), React.createElement(Modal, {\n        show: this.state.rubiat,\n        onHide: this.closeRubiat,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3296\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3297\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3298\n        },\n        __self: this\n      }, \"Course Colour Selection\")), React.createElement(Modal.Body, {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3300\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3301\n        },\n        __self: this\n      }, \"Select A Course and Color \"), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3301\n        },\n        __self: this\n      }), React.createElement(Form, {\n        inline: true,\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3302\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        style: {\n          width: \"40%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3303\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        id: \"colorChanger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3304\n        },\n        __self: this\n      }, myAddedClasses)), React.createElement(Button, {\n        text: \"Color Selection\",\n        onClick: this.colourRubiatO,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3306\n        },\n        __self: this\n      }))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3309\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.closeRubiat,\n        text: \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3310\n        },\n        __self: this\n      }))), React.createElement(Modal, {\n        show: this.state.colorS,\n        onHide: this.colourRubiatC,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3314\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        style: {\n          backgroundColor: \"#82100d\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3315\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3316\n        },\n        __self: this\n      }, \"Color Selector\")), React.createElement(Modal.Body, {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3318\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: {\n          margin: \"0px 0px 15px 0px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3319\n        },\n        __self: this\n      }, \"Select a Color\"), React.createElement(\"div\", {\n        style: {\n          margin: \"0px 0px 0px 115px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3322\n        },\n        __self: this\n      }, React.createElement(CirclePicker, {\n        onChangeComplete: this.handleChangeComplete,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3323\n        },\n        __self: this\n      }))), React.createElement(Modal.Footer, {\n        style: {\n          backgroundColor: \"#82100d\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3327\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.colourRubiatC,\n        text: \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3328\n        },\n        __self: this\n      }))), React.createElement(Modal, {\n        show: this.state.showUpload,\n        onHide: this.closeUpload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3336\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3337\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3338\n        },\n        __self: this\n      }, \"Add Via Upload\")), React.createElement(Modal.Body, {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3340\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3341\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        name: \"filename\",\n        className: \"btn btn-dark\",\n        onChange: this.handleSelectedFile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3342\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-dark\",\n        value: \"upload\",\n        onClick: this.handleUpload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3348\n        },\n        __self: this\n      }, \"Upload\"))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3357\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.closeUpload,\n        text: \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3358\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return CourseSelectionMenu;\n}(React.Component);\n\nexport default CourseSelectionMenu;","map":{"version":3,"sources":["C:\\Users\\MonPC\\Desktop\\School\\SOEN\\SOEN 341 Software Process'\\Project\\cssd\\client\\src\\CourseSelectionMenu.js"],"names":["React","Button","Link","Modal","Form","FormControl","Table","times","data","data1","CirclePicker","reactCSS","LoadingScreen","axios","AveryAlgorithms","AveryRegEx","CourseSelectionMenu","props","context","timeToNum","time","time1","time2","time1Minute","time2Minute","timeHour","substring","indexOf","timeMinute","parseInt","i","startTime","num","removeAll","j","state","weekdays","length","dayOfTheWeek","document","getElementById","style","backgroundColor","innerHTML","color","display","courses","undefined","r","addedClass","lectureIndex","tutorialIndex","labIndex","colorChosen","z","selectedCourses","course","lecture","days","initial","final","endTime","middle","tutorial","k","lab","l","tryAll","aa","allOptions","treeCaller","console","log","validOptions","filter","timeConflict","courseToChangeForFinalize","s","finalizedClassArray","course_number","lecture_section","section","lecture_days","lecture_start","lecture_end","lecture_room","room","tutorial_section","tutorial_room","tutorial_days","tutorial_start","tutorial_end","lab_section","lab_room","lab_days","lab_start","lab_end","setState","showTryAll","validTryAll","showConflict","showConflictForFinalize","tryAllIndex","handleDisplay","tryAll1","number","tryAll2","handleSemesterChange","value","year","semester","credits","show2","colors","courses2","coursesFall","coursesWinter","coursesSummer","showSelection","showSchedule","handleDisplay1","handleSelectedFile","event","uploadedFile","target","files","handleUpload","file","reader","FileReader","readAsText","err","onload","JSONified","JSON","parse","result","array","input","classList","classExists","bool1","coursesTakenSet","newClassForFinalize","course_name","name","course_semester","course_year","course_color","push","defaultValue1","defaultValue2","defaultValue3","credit","defaultValueLecture","defaultValueTutorial","defaultValueLab","array1","showUpload","downloadJson","courseArray","filename","contentType","window","navigator","msSaveOrOpenBlob","blob","Blob","decodeURIComponent","encodeURI","stringify","type","createElement","download","href","encodeURIComponent","body","appendChild","click","removeChild","sendCalendar","semesterYear","elements","getElementsByClassName","indexEle","search","post","then","res","catch","response","handleChangeComplete","courseNameInput","chosenClass","hex","lectureSection","tutorialSection","labSection","color1","duplicateArray","colorNotInUse","addClass1","array2","array3","oldColors","o","colorOfNewClass","remove1","coursecode","courseToRemove","newFinalizedClassArray","theClass","handleShow","bind","handleClose","handleShow1","handleClose1","openRubiat","closeRubiat","colourRubiatC","colourRubiatO","openUpload","closeUpload","toggleLoading","setCourses","changeSection","filterTutorialOptions","Date","getFullYear","show","show1","rubiat","colorS","isLoading","lectures","labs","tutorials","dataCourses","Courses","coursesTaken","loggedIn","addedClasses","default","sequence","fetch","json","users2","stringy","lecStartPosition","tutStartPosition","labStartPosition","sequenceStartPos","namePosition","endingPosition","aRegEx","oldVars","regEx","courseName","courseToChange","n","theName","tuto","selected_lec","chosen_lec","x","map","tut","myAddedClasses","element","theLec","visibility","theTut","element1","fontWeight","prereqs","pre","coreqs","cor","table","choice","currentYear","yeetus","years","jimmy","data2","textAlign","float","myID","pathname","theShowConflict","width","margin","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Button from \"./components/Button\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Modal, Form, FormControl, Table } from \"react-bootstrap\";\r\nimport * as times from \"./data/calendar.json\";\r\nimport * as data from \"./data/courses.json\";\r\nimport * as data1 from \"./data/courses2.json\";\r\nimport { CirclePicker } from \"react-color\";\r\nimport reactCSS from \"reactcss\";\r\nimport LoadingScreen from \"react-loading-screen\";\r\nimport axios from \"axios\";\r\nimport AveryAlgorithms from \"./AveryAlgorithms\";\r\nimport AveryRegEx from \"./AveryRegEx\";\r\n\r\nclass CourseSelectionMenu extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleShow1 = this.handleShow1.bind(this);\r\n    this.handleClose1 = this.handleClose1.bind(this);\r\n    this.openRubiat = this.openRubiat.bind(this);\r\n    this.closeRubiat = this.closeRubiat.bind(this);\r\n    this.colourRubiatC = this.colourRubiatC.bind(this);\r\n    this.colourRubiatO = this.colourRubiatO.bind(this);\r\n    this.openUpload = this.openUpload.bind(this);\r\n    this.closeUpload = this.closeUpload.bind(this);\r\n    this.toggleLoading = this.toggleLoading.bind(this);\r\n    this.setCourses = this.setCourses.bind(this);\r\n    this.changeSection = this.changeSection.bind(this);\r\n    this.filterTutorialOptions = this.filterTutorialOptions.bind(this);\r\n\r\n    var year;\r\n    var semester;\r\n\r\n    if (\r\n        document.getElementById(\"semester-year\") === null ||\r\n        document.getElementById(\"semester\") === null\r\n    ) {\r\n      year = new Date().getFullYear();\r\n      semester = \"Fall\";\r\n    } else {\r\n      year = document.getElementById(\"semester-year\").value;\r\n      semester = document.getElementById(\"semester\").value;\r\n    }\r\n\r\n    this.state = {\r\n      show: false,\r\n      show1: false,\r\n      rubiat: false,\r\n      colorS: false,\r\n      isLoading: true,\r\n      lectures: null,\r\n      labs: null,\r\n      tutorials: null,\r\n      dataCourses: null,\r\n      Courses: null,\r\n      coursesFall: null,\r\n      coursesWinter: null,\r\n      coursesSummer: null,\r\n      coursesTaken: null,\r\n      coursesTakenSet: null,\r\n      loggedIn: false,\r\n      semester: semester,\r\n      year: year,\r\n      weekdays: [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\"],\r\n      credits: 0,\r\n      //classes: JSON.parse(JSON.stringify(data.sequence)),\r\n\r\n      colors: [\r\n        [\"#f44336\", 0],\r\n        [\"#e91e63\", 0],\r\n        [\"#4caf50\", 0],\r\n        [\"#795548\", 0],\r\n        [\"#03a9f4\", 0],\r\n        [\"#3f51b5\", 0],\r\n        [\"#607d8b\", 0]\r\n      ],\r\n\r\n      addedClasses: [],\r\n\r\n      courses: JSON.parse(JSON.stringify(data.default.sequence)),\r\n      courses2: JSON.parse(JSON.stringify(data1.default.sequence)),\r\n      selectedCourses: [],\r\n      show2: \"hidden\",\r\n\r\n      colorOfNewClass: [],\r\n\r\n      showUpload: false,\r\n\r\n      uploadedFile: null,\r\n\r\n      defaultValueLecture: \"\",\r\n      defaultValueLab: \"\",\r\n      defaultValueTutorial: \"\",\r\n\r\n      showSelection: \"block\",\r\n      showSchedule: \"none\",\r\n      showConflict: \"hidden\",\r\n      showTryAll: \"hidden\",\r\n      tryAllIndex: 0,\r\n      validTryAll: [],\r\n\r\n      finalizedClassArray: [],\r\n      showConflictForFinalize: false,\r\n    };\r\n    //console.log(\"data.sequence: \" + JSON.stringify(data.sequence));\r\n    //console.log(\"courses: \" + JSON.stringify(data.default.sequence));\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(\"/semQuery\")\r\n        .then(res => res.json())\r\n        .then(users2 => this.setState({ users2 }, () => this.setCourses(users2)))\r\n        .then(() => this.toggleLoading());\r\n  }\r\n\r\n  setCourses(stringy) {\r\n    stringy = \"\" + stringy;\r\n    var lecStartPosition = stringy.indexOf('\"lectures\":[');\r\n    var tutStartPosition = stringy.indexOf('\"tutorials\":[');\r\n    this.state.lectures = stringy.substring(\r\n        lecStartPosition + 12,\r\n        tutStartPosition\r\n    );\r\n    var labStartPosition = stringy.indexOf('\"labs\":[');\r\n    this.state.tutorials = stringy.substring(\r\n        tutStartPosition + 13,\r\n        labStartPosition\r\n    );\r\n    var sequenceStartPos = stringy.indexOf('\"result2\":[');\r\n    this.state.labs = stringy.substring(labStartPosition + 8, sequenceStartPos);\r\n    var namePosition = stringy.indexOf('\"names\":[');\r\n    this.state.Courses = stringy.substring(sequenceStartPos + 11, namePosition);\r\n    var endingPosition = stringy.indexOf(\"]}]\");\r\n    this.state.coursesTaken = stringy.substring(\r\n        namePosition + 9,\r\n        endingPosition\r\n    );\r\n    if (this.state.coursesTaken != \"\") this.state.loggedIn = true;\r\n    let aRegEx = new AveryRegEx(\r\n        this.state.lectures,\r\n        this.state.tutorials,\r\n        this.state.labs,\r\n        this.state.coursesTaken,\r\n        this.state.loggedIn,\r\n        this.state.Courses\r\n    );\r\n    let oldVars = aRegEx.regEx();\r\n    this.state.coursesFall = oldVars[0];\r\n    this.state.coursesWinter = oldVars[1];\r\n    this.state.coursesSummer = oldVars[2];\r\n    this.state.courses2 = this.state.coursesFall;\r\n    this.state.dataCourses = oldVars[3];\r\n    this.state.coursesTakenSet = oldVars[4];\r\n    console.log(\"coursesTakenSet:\");\r\n    console.log(this.state.coursesTakenSet);\r\n    let aa = new AveryAlgorithms();\r\n    if (this.state.dataCourses[36] != undefined) {\r\n      console.log(\"Array of Arrays:\");\r\n      console.log(\r\n          aa.treeCaller([\r\n            this.state.dataCourses[36],\r\n            this.state.dataCourses[26],\r\n            this.state.dataCourses[10]\r\n          ])\r\n      );\r\n    }\r\n  }\r\n\r\n  timeToNum = time => {\r\n    // time parameter represents start time or end time of a class\r\n\r\n    // algo for rounding since table is jumps of 15 mins\r\n    let time1, time2;\r\n    let time1Minute, time2Minute;\r\n    let timeHour = time.substring(0, time.indexOf(\":\"));\r\n    let timeMinute = time.substring(time.indexOf(\":\") + 1);\r\n\r\n    timeMinute = parseInt(timeMinute);\r\n    time1Minute = timeMinute - 5;\r\n    time2Minute = timeMinute + 5;\r\n\r\n    if (time1Minute == -5) {\r\n      time2 = timeHour + \":0\" + time2Minute; // @@:05\r\n      timeHour = parseInt(timeHour);\r\n      timeHour--;\r\n      time1 = timeHour + \":\" + \"55\";\r\n    } else if (time2Minute == 60) {\r\n      time1 = timeHour + \":\" + time1Minute; // @@:50\r\n      timeHour = parseInt(timeHour);\r\n      timeHour++;\r\n      time2 = timeHour + \":\" + \"00\";\r\n    } else if (time1Minute == 0) {\r\n      time1 = timeHour + \":00\"; // @@:00 instead of @@:0\r\n      time2 = timeHour + \":\" + time2Minute; // @@:10\r\n    } else {\r\n      time1 = timeHour + \":\" + time1Minute;\r\n      time2 = timeHour + \":\" + time2Minute;\r\n    }\r\n\r\n    for (let i = 0; i < 61; i++)\r\n      if (\r\n          time1 === times.time[i].startTime ||\r\n          time === times.time[i].startTime ||\r\n          time2 === times.time[i].startTime\r\n      )\r\n        return times.time[i].num;\r\n    return null;\r\n  };\r\n\r\n  removeAll = () => {\r\n    for (let j = 0; j < this.state.weekdays.length; j++) {\r\n      let dayOfTheWeek = this.state.weekdays[j] + \"-\";\r\n      for (let i = 0; i < 61; i++) {\r\n        document.getElementById(dayOfTheWeek + i).style.backgroundColor = \"\";\r\n        document.getElementById(dayOfTheWeek + i).innerHTML =\r\n            \"----------------\";\r\n        document.getElementById(dayOfTheWeek + i).style.color = \"black\";\r\n      }\r\n    }\r\n  };\r\n\r\n  display = courses => {\r\n    if (courses == undefined) {\r\n      return;\r\n    }\r\n    for (let r = 0; r < courses.length; r++) {\r\n      let addedClass = courses[r];\r\n      let lectureIndex = 0;\r\n      let tutorialIndex = 0;\r\n      let labIndex = 0;\r\n      let colorChosen = \"\";\r\n\r\n      for (let z = 0; z < this.state.selectedCourses.length; z++) {\r\n        if (addedClass.course == this.state.selectedCourses[z][0].course) {\r\n          colorChosen = this.state.selectedCourses[z][4];\r\n        }\r\n      }\r\n\r\n      for (let j = 0; j < addedClass.lecture[lectureIndex].days.length; j++) {\r\n        // add lecture\r\n\r\n        let initial = this.timeToNum(\r\n            addedClass.lecture[lectureIndex].startTime\r\n        );\r\n        let final =\r\n            this.timeToNum(addedClass.lecture[lectureIndex].endTime) - 1;\r\n        let middle = parseInt((initial + final) / 2);\r\n\r\n        for (let i = 0; i < 61; i++) {\r\n          if (initial <= i && final >= i) {\r\n            let dayOfTheWeek = addedClass.lecture[lectureIndex].days[j] + \"-\";\r\n            document.getElementById(\r\n                dayOfTheWeek + i\r\n            ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n            if (i === middle - 2) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                  addedClass.course;\r\n            } else if (i === middle - 1) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"Lecture\";\r\n            } else if (i === middle) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                  addedClass.lecture[lectureIndex].startTime;\r\n            } else if (i === middle + 1) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n            } else if (i === middle + 2) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                  addedClass.lecture[lectureIndex].endTime;\r\n            } else {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n            }\r\n\r\n            if (\r\n                colorChosen == \"#795548\" ||\r\n                colorChosen == \"#ff5722\" ||\r\n                colorChosen == \"#607d8b\" ||\r\n                colorChosen == \"#009688\" ||\r\n                colorChosen == \"#f44336\" ||\r\n                colorChosen == \"#9c27b0\" ||\r\n                colorChosen == \"#673ab7\" ||\r\n                colorChosen == \"#3f51b5\"\r\n            ) {\r\n              document.getElementById(dayOfTheWeek + i).style.color = \"beige\";\r\n            } else {\r\n              document.getElementById(dayOfTheWeek + i).style.color = \"black\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (addedClass.lecture[lectureIndex].tutorial.length != 0) {\r\n        for (\r\n            let k = 0;\r\n            k <\r\n            addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days.length;\r\n            k++\r\n        ) {\r\n          // add tutorial\r\n\r\n          let initial = this.timeToNum(\r\n              addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime\r\n          );\r\n          let final =\r\n              this.timeToNum(\r\n                  addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime\r\n              ) - 1;\r\n          let middle = parseInt((initial + final) / 2);\r\n\r\n          if (final - initial <= 3) {\r\n            for (let i = 0; i < 61; i++) {\r\n              if (initial <= i && final >= i) {\r\n                let dayOfTheWeek =\r\n                    addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days[\r\n                        k\r\n                        ] + \"-\";\r\n                document.getElementById(\r\n                    dayOfTheWeek + i\r\n                ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                if (i === middle - 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.course;\r\n                } else if (i === middle) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      \"Tutorial\";\r\n                } else if (i === middle + 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                          .startTime +\r\n                      \"-\" +\r\n                      addedClass.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                          .endTime;\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      \"<br />\";\r\n                }\r\n                if (\r\n                    colorChosen == \"#795548\" ||\r\n                    colorChosen == \"#ff5722\" ||\r\n                    colorChosen == \"#607d8b\" ||\r\n                    colorChosen == \"#009688\" ||\r\n                    colorChosen == \"#f44336\" ||\r\n                    colorChosen == \"#9c27b0\" ||\r\n                    colorChosen == \"#673ab7\" ||\r\n                    colorChosen == \"#3f51b5\"\r\n                ) {\r\n                  document.getElementById(dayOfTheWeek + i).style.color =\r\n                      \"beige\";\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).style.color =\r\n                      \"black\";\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            for (let i = 0; i < 61; i++) {\r\n              if (initial <= i && final >= i) {\r\n                let dayOfTheWeek =\r\n                    addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days[\r\n                        k\r\n                        ] + \"-\";\r\n                document.getElementById(\r\n                    dayOfTheWeek + i\r\n                ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                if (i === middle - 2) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.course;\r\n                } else if (i === middle - 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      \"Tutorial\";\r\n                } else if (i === middle) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.lecture[lectureIndex].tutorial[\r\n                          tutorialIndex\r\n                          ].startTime;\r\n                } else if (i === middle + 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n                } else if (i === middle + 2) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.lecture[lectureIndex].tutorial[\r\n                          tutorialIndex\r\n                          ].endTime;\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      \"<br />\";\r\n                }\r\n\r\n                if (\r\n                    colorChosen == \"#795548\" ||\r\n                    colorChosen == \"#ff5722\" ||\r\n                    colorChosen == \"#607d8b\" ||\r\n                    colorChosen == \"#009688\" ||\r\n                    colorChosen == \"#f44336\" ||\r\n                    colorChosen == \"#9c27b0\" ||\r\n                    colorChosen == \"#673ab7\" ||\r\n                    colorChosen == \"#3f51b5\"\r\n                ) {\r\n                  document.getElementById(dayOfTheWeek + i).style.color =\r\n                      \"beige\";\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).style.color =\r\n                      \"black\";\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (addedClass.lab.length != 0) {\r\n        for (let l = 0; l < addedClass.lab[labIndex].days.length; l++) {\r\n          // add lab\r\n\r\n          let initial = this.timeToNum(addedClass.lab[labIndex].startTime);\r\n          let final = this.timeToNum(addedClass.lab[labIndex].endTime) - 1;\r\n          let middle = parseInt((initial + final) / 2);\r\n\r\n          if (final - initial <= 3) {\r\n            for (let i = 0; i < 61; i++) {\r\n              if (initial <= i && final >= i) {\r\n                let dayOfTheWeek = addedClass.lab[labIndex].days[l] + \"-\";\r\n                document.getElementById(\r\n                    dayOfTheWeek + i\r\n                ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                if (i === middle - 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.course;\r\n                } else if (i === middle) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"Lab\";\r\n                } else if (i === middle + 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.lab[labIndex].startTime +\r\n                      \"-\" +\r\n                      addedClass.lab[labIndex].endTime;\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      \"<br />\";\r\n                }\r\n\r\n                if (\r\n                    colorChosen == \"#795548\" ||\r\n                    colorChosen == \"#ff5722\" ||\r\n                    colorChosen == \"#607d8b\" ||\r\n                    colorChosen == \"#009688\" ||\r\n                    colorChosen == \"#f44336\" ||\r\n                    colorChosen == \"#9c27b0\" ||\r\n                    colorChosen == \"#673ab7\" ||\r\n                    colorChosen == \"#3f51b5\"\r\n                ) {\r\n                  document.getElementById(dayOfTheWeek + i).style.color =\r\n                      \"beige\";\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).style.color =\r\n                      \"black\";\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            for (let i = 0; i < 61; i++) {\r\n              if (initial <= i && final >= i) {\r\n                let dayOfTheWeek = addedClass.lab[labIndex].days[l] + \"-\";\r\n                document.getElementById(\r\n                    dayOfTheWeek + i\r\n                ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                if (i === middle - 2) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.course;\r\n                } else if (i === middle - 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"Lab\";\r\n                } else if (i === middle) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.lab[labIndex].startTime;\r\n                } else if (i === middle + 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n                } else if (i === middle + 2) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.lab[labIndex].endTime;\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      \"<br />\";\r\n                }\r\n\r\n                if (\r\n                    colorChosen == \"#795548\" ||\r\n                    colorChosen == \"#ff5722\" ||\r\n                    colorChosen == \"#607d8b\" ||\r\n                    colorChosen == \"#009688\" ||\r\n                    colorChosen == \"#f44336\" ||\r\n                    colorChosen == \"#9c27b0\" ||\r\n                    colorChosen == \"#673ab7\" ||\r\n                    colorChosen == \"#3f51b5\"\r\n                ) {\r\n                  document.getElementById(dayOfTheWeek + i).style.color =\r\n                      \"beige\";\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).style.color =\r\n                      \"black\";\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  tryAll = () => {\r\n    let aa = new AveryAlgorithms();\r\n    let courses = [];\r\n\r\n    for (let i = 0; i < this.state.selectedCourses.length; i++) {\r\n      courses[i] = this.state.selectedCourses[i][0];\r\n    }\r\n\r\n    let allOptions = aa.treeCaller(courses);\r\n\r\n    console.log(allOptions);\r\n\r\n    let validOptions = allOptions.filter(data => !aa.timeConflict(data));\r\n\r\n    console.log(validOptions);\r\n    console.log(validOptions[0]);\r\n\r\n    this.removeAll();\r\n    this.display(validOptions[0]);\r\n    console.log(\"default has been clicked\");\r\n    console.log(validOptions);\r\n    if (validOptions[0] !== undefined) {\r\n      for (let i = 0; i < validOptions[0].length; i++) {\r\n        console.log(\"default run \" + (i + 1));\r\n        let courseToChangeForFinalize;\r\n\r\n        for (let s = 0; s < this.state.finalizedClassArray.length; s++) {\r\n          if (\r\n              this.state.finalizedClassArray[s].course_number ===\r\n              validOptions[0][i].course\r\n          ) {\r\n            courseToChangeForFinalize = this.state.finalizedClassArray[s];\r\n            break;\r\n          }\r\n        }\r\n\r\n        courseToChangeForFinalize.lecture_section =\r\n            validOptions[0][i].lecture[0].section;\r\n        courseToChangeForFinalize.lecture_days =\r\n            validOptions[0][i].lecture[0].days;\r\n        courseToChangeForFinalize.lecture_start =\r\n            validOptions[0][i].lecture[0].startTime;\r\n        courseToChangeForFinalize.lecture_end =\r\n            validOptions[0][i].lecture[0].endTime;\r\n        courseToChangeForFinalize.lecture_room =\r\n            validOptions[0][i].lecture[0].room;\r\n        courseToChangeForFinalize.tutorial_section =\r\n            validOptions[0][i].lecture[0].tutorial.length !== 0\r\n                ? validOptions[0][i].lecture[0].tutorial[0].section\r\n                : \"\";\r\n        courseToChangeForFinalize.tutorial_room =\r\n            validOptions[0][i].lecture[0].tutorial.length !== 0\r\n                ? validOptions[0][i].lecture[0].tutorial[0].room\r\n                : \"\";\r\n        courseToChangeForFinalize.tutorial_days =\r\n            validOptions[0][i].lecture[0].tutorial.length !== 0\r\n                ? validOptions[0][i].lecture[0].tutorial[0].days\r\n                : \"\";\r\n        courseToChangeForFinalize.tutorial_start =\r\n            validOptions[0][i].lecture[0].tutorial.length !== 0\r\n                ? validOptions[0][i].lecture[0].tutorial[0].startTime\r\n                : \"\";\r\n        courseToChangeForFinalize.tutorial_end =\r\n            validOptions[0][i].lecture[0].tutorial.length !== 0\r\n                ? validOptions[0][i].lecture[0].tutorial[0].endTime\r\n                : \"\";\r\n        courseToChangeForFinalize.lab_section =\r\n            validOptions[0][i].lab.length !== 0\r\n                ? validOptions[0][i].lab[0].section\r\n                : \"\";\r\n        courseToChangeForFinalize.lab_room =\r\n            validOptions[0][i].lab.length !== 0\r\n                ? validOptions[0][i].lab[0].room\r\n                : \"\";\r\n        courseToChangeForFinalize.lab_days =\r\n            validOptions[0][i].lab.length !== 0\r\n                ? validOptions[0][i].lab[0].days\r\n                : \"\";\r\n        courseToChangeForFinalize.lab_start =\r\n            validOptions[0][i].lab.length !== 0\r\n                ? validOptions[0][i].lab[0].startTime\r\n                : \"\";\r\n        courseToChangeForFinalize.lab_end =\r\n            validOptions[0][i].lab.length !== 0\r\n                ? validOptions[0][i].lab[0].endTime\r\n                : \"\";\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      showTryAll: \"visible\",\r\n      validTryAll: validOptions,\r\n      showConflict: \"hidden\",\r\n      showConflictForFinalize: false,\r\n      tryAllIndex: 0\r\n    });\r\n    this.handleDisplay();\r\n  };\r\n\r\n  // previous\r\n  tryAll1 = () => {\r\n    let number = this.state.tryAllIndex;\r\n    let validOptions = this.state.validTryAll;\r\n\r\n    if (number != 0) {\r\n      number--;\r\n    }\r\n\r\n    this.removeAll();\r\n    this.display(validOptions[number]);\r\n\r\n    console.log(\"previous has been clicked\");\r\n\r\n    for (let i = 0; i < validOptions[number].length; i++) {\r\n      console.log(\"previous run \" + (i + 1));\r\n      let courseToChangeForFinalize;\r\n\r\n      for (let s = 0; s < this.state.finalizedClassArray.length; s++) {\r\n        if (\r\n            this.state.finalizedClassArray[s].course_number ===\r\n            validOptions[number][i].course\r\n        ) {\r\n          courseToChangeForFinalize = this.state.finalizedClassArray[s];\r\n          break;\r\n        }\r\n      }\r\n\r\n      courseToChangeForFinalize.lecture_section =\r\n          validOptions[number][i].lecture[0].section;\r\n      courseToChangeForFinalize.lecture_days =\r\n          validOptions[number][i].lecture[0].days;\r\n      courseToChangeForFinalize.lecture_start =\r\n          validOptions[number][i].lecture[0].startTime;\r\n      courseToChangeForFinalize.lecture_end =\r\n          validOptions[number][i].lecture[0].endTime;\r\n      courseToChangeForFinalize.lecture_room =\r\n          validOptions[number][i].lecture[0].room;\r\n      courseToChangeForFinalize.tutorial_section =\r\n          validOptions[number][i].lecture[0].tutorial.length !== 0\r\n              ? validOptions[number][i].lecture[0].tutorial[0].section\r\n              : \"\";\r\n      courseToChangeForFinalize.tutorial_room =\r\n          validOptions[number][i].lecture[0].tutorial.length !== 0\r\n              ? validOptions[number][i].lecture[0].tutorial[0].room\r\n              : \"\";\r\n      courseToChangeForFinalize.tutorial_days =\r\n          validOptions[number][i].lecture[0].tutorial.length !== 0\r\n              ? validOptions[number][i].lecture[0].tutorial[0].days\r\n              : \"\";\r\n      courseToChangeForFinalize.tutorial_start =\r\n          validOptions[number][i].lecture[0].tutorial.length !== 0\r\n              ? validOptions[number][i].lecture[0].tutorial[0].startTime\r\n              : \"\";\r\n      courseToChangeForFinalize.tutorial_end =\r\n          validOptions[number][i].lecture[0].tutorial.length !== 0\r\n              ? validOptions[number][i].lecture[0].tutorial[0].endTime\r\n              : \"\";\r\n      courseToChangeForFinalize.lab_section =\r\n          validOptions[number][i].lab.length !== 0\r\n              ? validOptions[number][i].lab[0].section\r\n              : \"\";\r\n      courseToChangeForFinalize.lab_room =\r\n          validOptions[number][i].lab.length !== 0\r\n              ? validOptions[number][i].lab[0].room\r\n              : \"\";\r\n      courseToChangeForFinalize.lab_days =\r\n          validOptions[number][i].lab.length !== 0\r\n              ? validOptions[number][i].lab[0].days\r\n              : \"\";\r\n      courseToChangeForFinalize.lab_start =\r\n          validOptions[number][i].lab.length !== 0\r\n              ? validOptions[number][i].lab[0].startTime\r\n              : \"\";\r\n      courseToChangeForFinalize.lab_end =\r\n          validOptions[number][i].lab.length !== 0\r\n              ? validOptions[number][i].lab[0].endTime\r\n              : \"\";\r\n    }\r\n\r\n    this.setState({\r\n      tryAllIndex: number\r\n    });\r\n  };\r\n\r\n  // next\r\n  tryAll2 = () => {\r\n    let number = this.state.tryAllIndex;\r\n    let validOptions = this.state.validTryAll;\r\n\r\n    if (number != validOptions.length - 1) {\r\n      number++;\r\n    }\r\n\r\n    this.removeAll();\r\n    this.display(validOptions[number]);\r\n\r\n    console.log(\"next has been clicked\");\r\n\r\n    for (let i = 0; i < validOptions[number].length; i++) {\r\n      console.log(\"next run \" + (i + 1));\r\n      let courseToChangeForFinalize;\r\n\r\n      for (let s = 0; s < this.state.finalizedClassArray.length; s++) {\r\n        if (\r\n            this.state.finalizedClassArray[s].course_number ===\r\n            validOptions[number][i].course\r\n        ) {\r\n          courseToChangeForFinalize = this.state.finalizedClassArray[s];\r\n          break;\r\n        }\r\n      }\r\n\r\n      courseToChangeForFinalize.lecture_section =\r\n          validOptions[number][i].lecture[0].section;\r\n      courseToChangeForFinalize.lecture_days =\r\n          validOptions[number][i].lecture[0].days;\r\n      courseToChangeForFinalize.lecture_start =\r\n          validOptions[number][i].lecture[0].startTime;\r\n      courseToChangeForFinalize.lecture_end =\r\n          validOptions[number][i].lecture[0].endTime;\r\n      courseToChangeForFinalize.lecture_room =\r\n          validOptions[number][i].lecture[0].room;\r\n      courseToChangeForFinalize.tutorial_section =\r\n          validOptions[number][i].lecture[0].tutorial.length !== 0\r\n              ? validOptions[number][i].lecture[0].tutorial[0].section\r\n              : \"\";\r\n      courseToChangeForFinalize.tutorial_room =\r\n          validOptions[number][i].lecture[0].tutorial.length !== 0\r\n              ? validOptions[number][i].lecture[0].tutorial[0].room\r\n              : \"\";\r\n      courseToChangeForFinalize.tutorial_days =\r\n          validOptions[number][i].lecture[0].tutorial.length !== 0\r\n              ? validOptions[number][i].lecture[0].tutorial[0].days\r\n              : \"\";\r\n      courseToChangeForFinalize.tutorial_start =\r\n          validOptions[number][i].lecture[0].tutorial.length !== 0\r\n              ? validOptions[number][i].lecture[0].tutorial[0].startTime\r\n              : \"\";\r\n      courseToChangeForFinalize.tutorial_end =\r\n          validOptions[number][i].lecture[0].tutorial.length !== 0\r\n              ? validOptions[number][i].lecture[0].tutorial[0].endTime\r\n              : \"\";\r\n      courseToChangeForFinalize.lab_section =\r\n          validOptions[number][i].lab.length !== 0\r\n              ? validOptions[number][i].lab[0].section\r\n              : \"\";\r\n      courseToChangeForFinalize.lab_room =\r\n          validOptions[number][i].lab.length !== 0\r\n              ? validOptions[number][i].lab[0].room\r\n              : \"\";\r\n      courseToChangeForFinalize.lab_days =\r\n          validOptions[number][i].lab.length !== 0\r\n              ? validOptions[number][i].lab[0].days\r\n              : \"\";\r\n      courseToChangeForFinalize.lab_start =\r\n          validOptions[number][i].lab.length !== 0\r\n              ? validOptions[number][i].lab[0].startTime\r\n              : \"\";\r\n      courseToChangeForFinalize.lab_end =\r\n          validOptions[number][i].lab.length !== 0\r\n              ? validOptions[number][i].lab[0].endTime\r\n              : \"\";\r\n    }\r\n\r\n    this.setState({\r\n      tryAllIndex: number\r\n    });\r\n  };\r\n\r\n  handleSemesterChange = () => {\r\n    this.removeAll();\r\n\r\n    document.getElementById(\"add-class1\").value = \"\";\r\n\r\n    this.setState({\r\n      year: document.getElementById(\"semester-year\").value,\r\n      semester: document.getElementById(\"semester\").value,\r\n      selectedCourses: [],\r\n      credits: 0,\r\n      showConflict: \"hidden\",\r\n      showConflictForFinalize: false,\r\n      show2: \"hidden\",\r\n      finalizedClassArray: [],\r\n      showTryAll: \"hidden\"\r\n    });\r\n\r\n    for (let i = 0; i < this.state.colors.length; i++) {\r\n      this.state.colors[i][1] = 0;\r\n    }\r\n\r\n    this.state.year = document.getElementById(\"semester-year\").value;\r\n    this.state.semester = document.getElementById(\"semester\").value;\r\n    if (this.state.semester == \"Fall\") {\r\n      this.state.courses2 = this.state.coursesFall;\r\n    } else if (this.state.semester == \"Winter\") {\r\n      this.state.courses2 = this.state.coursesWinter;\r\n    } else if (this.state.semester == \"Summer\") {\r\n      this.state.courses2 = this.state.coursesSummer;\r\n    }\r\n    //console.log(this.state.semester);\r\n  };\r\n\r\n  handleDisplay = () => {\r\n    this.setState({\r\n      showSelection: \"none\",\r\n      showSchedule: \"block\"\r\n    });\r\n    console.log(\"current credits: \" + this.state.credits);\r\n  };\r\n\r\n  handleDisplay1 = () => {\r\n    this.setState({\r\n      showSelection: \"block\",\r\n      showSchedule: \"none\"\r\n    });\r\n  };\r\n\r\n  handleClose() {\r\n    this.setState({ show: false });\r\n  }\r\n\r\n  handleShow() {\r\n    this.setState({ show: true });\r\n  }\r\n\r\n  handleClose1() {\r\n    this.setState({ show1: false });\r\n  }\r\n\r\n  handleShow1() {\r\n    this.setState({ show1: true });\r\n  }\r\n\r\n  openRubiat() {\r\n    this.setState({\r\n      rubiat: true\r\n    });\r\n  }\r\n\r\n  closeRubiat() {\r\n    this.setState({\r\n      rubiat: false\r\n    });\r\n  }\r\n\r\n  colourRubiatO() {\r\n    this.setState({\r\n      colorS: true\r\n    });\r\n  }\r\n\r\n  colourRubiatC() {\r\n    this.setState({\r\n      colorS: false\r\n    });\r\n  }\r\n\r\n  openUpload() {\r\n    this.setState({\r\n      showUpload: true\r\n    });\r\n  }\r\n\r\n  closeUpload() {\r\n    this.setState({\r\n      showUpload: false\r\n    });\r\n  }\r\n\r\n  handleSelectedFile = event => {\r\n    this.setState({\r\n      uploadedFile: event.target.files[0]\r\n    });\r\n  };\r\n\r\n  handleUpload = () => {\r\n    var file = this.state.uploadedFile;\r\n    var reader = new FileReader();\r\n    try {\r\n      reader.readAsText(file);\r\n    }\r\n    catch (err) {\r\n      return;\r\n    }\r\n\r\n    reader.onload = () => {\r\n      //console.log(reader.result);\r\n      var JSONified = JSON.parse(reader.result);\r\n\r\n      let aa = new AveryAlgorithms();\r\n\r\n      let array = [];\r\n\r\n      for (let i = 0; i < this.state.colors.length; i++) {\r\n        this.state.colors[i][1] = 0;\r\n      }\r\n\r\n      this.setState({\r\n        credits: 0,\r\n        finalizedClassArray: [],\r\n        selectedCourses: []\r\n      });\r\n\r\n      this.removeAll(); // clear table incase there were already classes there\r\n\r\n      for (let i = 0; i < JSONified.length; i++) {\r\n        //let array = this.state.selectedCourses; //Keep track of user selected classes\r\n        let input = JSONified[i][0].course;\r\n        let classList = this.state.courses2; //Gets the whole list of courses of concordia\r\n        let addedClass;\r\n        let classExists = false;\r\n        for (let i = 0; i < classList.length; i++) {\r\n          if (classList[i].course === input) {\r\n            // for (let j = 0; j < this.state.selectedCourses.length; j++) {\r\n            //   if (this.state.selectedCourses[j][0].course === input) {\r\n            //     document.getElementById(\"addStatus1\").innerHTML =\r\n            //       \"This class is already added.\";\r\n            //     this.setState({ show2: \"visible\" });\r\n            //     return;\r\n            //   }\r\n            // }\r\n            addedClass = classList[i];\r\n            classExists = true;\r\n            this.setState({ show2: \"hidden\" });\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (classExists === false) {\r\n          let bool1 = false;\r\n          for (let i = 0; i < this.state.coursesTakenSet.length; i++) {\r\n            if (input == this.state.coursesTakenSet[i][0].course) {\r\n              bool1 = true;\r\n            }\r\n          }\r\n          if (bool1) {\r\n            document.getElementById(\"addStatus1\").innerHTML =\r\n                \"Class Has Already Been Taken\";\r\n          } else {\r\n            document.getElementById(\"addStatus1\").innerHTML =\r\n                \"Invalid Class/Class Not Found\";\r\n          }\r\n          this.setState({ show2: \"visible\" });\r\n          return;\r\n        }\r\n\r\n        if (JSONified[i][0].semester !== this.state.semester) {\r\n          document.getElementById(\"addStatus1\").innerHTML = \"Wrong Semester\";\r\n          this.setState({show2: \"visible\"});\r\n          return;\r\n        }\r\n\r\n        let colorChosen;\r\n\r\n        for (let j = 0; j < this.state.colors.length; j++) {\r\n          if (this.state.colors[j][1] == 0) {\r\n            colorChosen = this.state.colors[j][0];\r\n            this.state.colors[j][1] = 1;\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (colorChosen === null || colorChosen === undefined) {\r\n          return;\r\n        }\r\n\r\n        let lectureIndex = JSONified[i][1];\r\n        let tutorialIndex = JSONified[i][2];\r\n        let labIndex = JSONified[i][3];\r\n\r\n        let newClassForFinalize = {\r\n          course_number: addedClass.course,\r\n          course_name: addedClass.name,\r\n          course_semester: addedClass.semester,\r\n          course_year: \"2019\",\r\n          course_color: colorChosen,\r\n          lecture_section: addedClass.lecture[lectureIndex].section,\r\n          lecture_room: addedClass.lecture[lectureIndex].room,\r\n          lecture_days: addedClass.lecture[lectureIndex].days,\r\n          lecture_start: addedClass.lecture[lectureIndex].startTime,\r\n          lecture_end: addedClass.lecture[lectureIndex].endTime,\r\n          tutorial_section:\r\n              addedClass.lecture[0].tutorial.length !== 0\r\n                  ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].section\r\n                  : \"\",\r\n          tutorial_room:\r\n              addedClass.lecture[0].tutorial.length !== 0\r\n                  ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].room\r\n                  : \"\",\r\n          tutorial_days:\r\n              addedClass.lecture[0].tutorial.length !== 0\r\n                  ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days\r\n                  : \"\",\r\n          tutorial_start:\r\n              addedClass.lecture[0].tutorial.length !== 0\r\n                  ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                      .startTime\r\n                  : \"\",\r\n          tutorial_end:\r\n              addedClass.lecture[0].tutorial.length !== 0\r\n                  ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime\r\n                  : \"\",\r\n          lab_section:\r\n              addedClass.lab.length != 0 ? addedClass.lab[labIndex].section : \"\",\r\n          lab_room:\r\n              addedClass.lab.length != 0 ? addedClass.lab[labIndex].room : \"\",\r\n          lab_days:\r\n              addedClass.lab.length != 0 ? addedClass.lab[labIndex].days : \"\",\r\n          lab_start:\r\n              addedClass.lab.length != 0\r\n                  ? addedClass.lab[labIndex].startTime\r\n                  : \"\",\r\n          lab_end:\r\n              addedClass.lab.length != 0 ? addedClass.lab[labIndex].endTime : \"\"\r\n        };\r\n        for (let j = 0; j < addedClass.lecture[lectureIndex].days.length; j++) {\r\n          // add lecture\r\n\r\n          let initial = this.timeToNum(\r\n              addedClass.lecture[lectureIndex].startTime\r\n          );\r\n          let final =\r\n              this.timeToNum(addedClass.lecture[lectureIndex].endTime) - 1;\r\n          let middle = parseInt((initial + final) / 2);\r\n\r\n          for (let i = 0; i < 61; i++) {\r\n            if (initial <= i && final >= i) {\r\n              let dayOfTheWeek = addedClass.lecture[lectureIndex].days[j] + \"-\";\r\n              document.getElementById(\r\n                  dayOfTheWeek + i\r\n              ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n              if (i === middle - 1) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                    addedClass.course;\r\n              } else if (i === middle) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                    addedClass.lecture[lectureIndex].startTime;\r\n              } else if (i === middle + 1) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n              } else if (i === middle + 2) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                    addedClass.lecture[lectureIndex].endTime;\r\n              } else {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n              }\r\n\r\n              if (\r\n                  colorChosen == \"#795548\" ||\r\n                  colorChosen == \"#ff5722\" ||\r\n                  colorChosen == \"#607d8b\" ||\r\n                  colorChosen == \"#009688\" ||\r\n                  colorChosen == \"#f44336\" ||\r\n                  colorChosen == \"#9c27b0\" ||\r\n                  colorChosen == \"#673ab7\" ||\r\n                  colorChosen == \"#3f51b5\"\r\n              ) {\r\n                document.getElementById(dayOfTheWeek + i).style.color = \"beige\";\r\n              } else {\r\n                document.getElementById(dayOfTheWeek + i).style.color = \"black\";\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        if (addedClass.lecture[lectureIndex].tutorial.length != 0) {\r\n          for (\r\n              let k = 0;\r\n              k <\r\n              addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days\r\n                  .length;\r\n              k++\r\n          ) {\r\n            // add tutorial\r\n\r\n            let initial = this.timeToNum(\r\n                addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime\r\n            );\r\n            let final =\r\n                this.timeToNum(\r\n                    addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime\r\n                ) - 1;\r\n            let middle = parseInt((initial + final) / 2);\r\n\r\n            if (final - initial <= 3) {\r\n              for (let i = 0; i < 61; i++) {\r\n                if (initial <= i && final >= i) {\r\n                  let dayOfTheWeek =\r\n                      addedClass.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                          .days[k] + \"-\";\r\n                  document.getElementById(\r\n                      dayOfTheWeek + i\r\n                  ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                  if (i === middle - 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.course;\r\n                  } else if (i === middle) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"Tutorial\";\r\n                  } else if (i === middle + 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                            .startTime +\r\n                        \"-\" +\r\n                        addedClass.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                            .endTime;\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"<br />\";\r\n                  }\r\n\r\n                  if (\r\n                      colorChosen == \"#795548\" ||\r\n                      colorChosen == \"#ff5722\" ||\r\n                      colorChosen == \"#607d8b\" ||\r\n                      colorChosen == \"#009688\" ||\r\n                      colorChosen == \"#f44336\" ||\r\n                      colorChosen == \"#9c27b0\" ||\r\n                      colorChosen == \"#673ab7\" ||\r\n                      colorChosen == \"#3f51b5\"\r\n                  ) {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"beige\";\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"black\";\r\n                  }\r\n                }\r\n              }\r\n            } else {\r\n              for (let i = 0; i < 61; i++) {\r\n                if (initial <= i && final >= i) {\r\n                  let dayOfTheWeek =\r\n                      addedClass.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                          .days[k] + \"-\";\r\n                  document.getElementById(\r\n                      dayOfTheWeek + i\r\n                  ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                  if (i === middle - 2) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.course;\r\n                  } else if (i === middle - 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"Tutorial\";\r\n                  } else if (i === middle) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.lecture[lectureIndex].tutorial[\r\n                            tutorialIndex\r\n                            ].startTime;\r\n                  } else if (i === middle + 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n                  } else if (i === middle + 2) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.lecture[lectureIndex].tutorial[\r\n                            tutorialIndex\r\n                            ].endTime;\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"<br />\";\r\n                  }\r\n\r\n                  if (\r\n                      colorChosen == \"#795548\" ||\r\n                      colorChosen == \"#ff5722\" ||\r\n                      colorChosen == \"#607d8b\" ||\r\n                      colorChosen == \"#009688\" ||\r\n                      colorChosen == \"#f44336\" ||\r\n                      colorChosen == \"#9c27b0\" ||\r\n                      colorChosen == \"#673ab7\" ||\r\n                      colorChosen == \"#3f51b5\"\r\n                  ) {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"beige\";\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"black\";\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        if (addedClass.lab.length != 0) {\r\n          for (let l = 0; l < addedClass.lab[labIndex].days.length; l++) {\r\n            // add lab\r\n\r\n            let initial = this.timeToNum(addedClass.lab[labIndex].startTime);\r\n            let final = this.timeToNum(addedClass.lab[labIndex].endTime) - 1;\r\n            let middle = parseInt((initial + final) / 2);\r\n\r\n            if (final - initial <= 3) {\r\n              for (let i = 0; i < 61; i++) {\r\n                if (initial <= i && final >= i) {\r\n                  let dayOfTheWeek = addedClass.lab[labIndex].days[l] + \"-\";\r\n                  document.getElementById(\r\n                      dayOfTheWeek + i\r\n                  ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                  if (i === middle - 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.course;\r\n                  } else if (i === middle) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML = \"Lab\";\r\n                  } else if (i === middle + 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.lab[labIndex].startTime +\r\n                        \"-\" +\r\n                        addedClass.lab[labIndex].endTime;\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"<br />\";\r\n                  }\r\n\r\n                  if (\r\n                      colorChosen == \"#795548\" ||\r\n                      colorChosen == \"#ff5722\" ||\r\n                      colorChosen == \"#607d8b\" ||\r\n                      colorChosen == \"#009688\" ||\r\n                      colorChosen == \"#f44336\" ||\r\n                      colorChosen == \"#9c27b0\" ||\r\n                      colorChosen == \"#673ab7\" ||\r\n                      colorChosen == \"#3f51b5\"\r\n                  ) {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"beige\";\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"black\";\r\n                  }\r\n                }\r\n              }\r\n            } else {\r\n              for (let i = 0; i < 61; i++) {\r\n                if (initial <= i && final >= i) {\r\n                  let dayOfTheWeek = addedClass.lab[labIndex].days[l] + \"-\";\r\n                  document.getElementById(\r\n                      dayOfTheWeek + i\r\n                  ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                  if (i === middle - 2) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.course;\r\n                  } else if (i === middle - 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML = \"Lab\";\r\n                  } else if (i === middle) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.lab[labIndex].startTime;\r\n                  } else if (i === middle + 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n                  } else if (i === middle + 2) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.lab[labIndex].endTime;\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"<br />\";\r\n                  }\r\n\r\n                  if (\r\n                      colorChosen == \"#795548\" ||\r\n                      colorChosen == \"#ff5722\" ||\r\n                      colorChosen == \"#607d8b\" ||\r\n                      colorChosen == \"#009688\" ||\r\n                      colorChosen == \"#f44336\" ||\r\n                      colorChosen == \"#9c27b0\" ||\r\n                      colorChosen == \"#673ab7\" ||\r\n                      colorChosen == \"#3f51b5\"\r\n                  ) {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"beige\";\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"black\";\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        this.state.finalizedClassArray.push(newClassForFinalize);\r\n\r\n        let defaultValue1 = addedClass.lecture[lectureIndex].section;\r\n        let defaultValue2 = \"\";\r\n        let defaultValue3 = \"\";\r\n\r\n        if (addedClass.lab.length != 0) {\r\n          defaultValue2 = addedClass.lab[labIndex].section + \"\";\r\n        }\r\n\r\n        if (addedClass.lecture[lectureIndex].tutorial.length != 0) {\r\n          defaultValue3 = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].section;\r\n        }\r\n\r\n        let credits = this.state.credits + addedClass.credit;\r\n        this.setState({\r\n          defaultValueLecture: defaultValue1,\r\n          defaultValueTutorial: defaultValue3,\r\n          defaultValueLab: defaultValue2,\r\n          credits: credits\r\n        });\r\n\r\n        let array1 = [];\r\n        array1[0] = addedClass;\r\n        array1[1] = lectureIndex; //addedClass.lecture[0].section;\r\n        array1[2] = tutorialIndex; //addedClass.lecture[0].tutorial[0].section;\r\n        array1[3] = labIndex; //addedClass.lab[0].section;\r\n        array1[4] = colorChosen;\r\n        array.push(array1);\r\n      }\r\n\r\n      if (aa.timeConflict(array)) {\r\n        this.removeAll();\r\n        document.getElementById(\"timeConflict\").innerHTML = \"No Results\";\r\n        this.setState({ showConflict: \"visible\", showConflictForFinalize: true });\r\n      } else {\r\n        this.setState({ showConflict: \"hidden\", showConflictForFinalize: false });\r\n      }\r\n\r\n      this.setState({\r\n        selectedCourses: array\r\n      });\r\n    };\r\n\r\n    this.setState({\r\n      showUpload: false\r\n    });\r\n  };\r\n\r\n  downloadJson = () => {\r\n    let courseArray = this.state.selectedCourses;\r\n    let filename = \"schedule.json\";\r\n    let contentType = \"application/json;charset=utf-8;\";\r\n    console.log(courseArray);\r\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\r\n      var blob = new Blob(\r\n          [decodeURIComponent(encodeURI(JSON.stringify(courseArray)))],\r\n          { type: contentType }\r\n      );\r\n      navigator.msSaveOrOpenBlob(blob, filename);\r\n    } else {\r\n      var file = document.createElement(\"a\");\r\n      file.download = filename;\r\n      file.href =\r\n          \"data:\" +\r\n          contentType +\r\n          \",\" +\r\n          encodeURIComponent(JSON.stringify(courseArray));\r\n      file.target = \"_blank\";\r\n      document.body.appendChild(file);\r\n      file.click();\r\n      document.body.removeChild(file);\r\n    }\r\n  };\r\n\r\n  sendCalendar = () => {\r\n    let courseArray = this.state.selectedCourses;\r\n    let semesterYear = \"2019\";\r\n    // This variable needs to have the year added to it.\r\n    var elements = document.getElementsByClassName(\"display-5\");\r\n    var indexEle = elements[0].innerHTML.search(/[0-9]/);\r\n    semesterYear = elements[0].innerHTML.substring(indexEle, indexEle + 4);\r\n    console.log(courseArray);\r\n    courseArray.push(semesterYear);\r\n    console.log(courseArray);\r\n    axios\r\n        .post(\"calendar\", { courseArray })\r\n        .then(res => console.log(res.data))\r\n        .catch(err => console.log(err.response.data));\r\n  };\r\n\r\n  toggleLoading() {\r\n    this.setState({\r\n      isLoading: !this.state.isLoading\r\n    });\r\n  }\r\n\r\n  handleChangeComplete = color => {\r\n    let courseNameInput = document.getElementById(\"colorChanger\").value; //Get user input comp248\r\n    let chosenClass; //class object\r\n\r\n    if (courseNameInput == \"\") {\r\n      return;\r\n    }\r\n\r\n    // instead of 'selectedCourses' it looped through 'classes' before\r\n    for (let i = 0; i < this.state.selectedCourses.length; i++) {\r\n      if (courseNameInput === this.state.selectedCourses[i][0].course) {\r\n        chosenClass = this.state.selectedCourses[i];\r\n        break;\r\n      }\r\n    }\r\n\r\n    for (let s = 0; s < this.state.finalizedClassArray.length; s++) {\r\n      if (courseNameInput === this.state.finalizedClassArray[s].course_number) {\r\n        this.state.finalizedClassArray[s].course_color = color.hex;\r\n        break;\r\n      }\r\n    }\r\n\r\n    let lectureSection = chosenClass[1];\r\n    let tutorialSection = chosenClass[2];\r\n    let labSection = chosenClass[3];\r\n\r\n    document.getElementById(chosenClass[0].course).style.backgroundColor =\r\n        color.hex;\r\n\r\n    if (\r\n        color.hex == \"#ffeb3b\" ||\r\n        color.hex == \"#ffc107\" ||\r\n        color.hex == \"#ff9800\" ||\r\n        color.hex == \"#cddc39\"\r\n    ) {\r\n      document.getElementById(chosenClass[0].course).style.color = \"black\";\r\n    } else {\r\n      document.getElementById(chosenClass[0].course).style.color = \"white\";\r\n    }\r\n\r\n    let color1 = chosenClass[4];\r\n\r\n    let aa = new AveryAlgorithms();\r\n    let array = aa.duplicateArray(this.state.selectedCourses);\r\n\r\n    if (!aa.timeConflict(array)) {\r\n      for (\r\n          let j = 0;\r\n          j < chosenClass[0].lecture[lectureSection].days.length;\r\n          j++\r\n      ) {\r\n        //added\r\n        for (let i = 0; i < 61; i++) {\r\n          let dayOfTheWeek =\r\n              chosenClass[0].lecture[lectureSection].days[j] + \"-\";\r\n          if (\r\n              this.timeToNum(chosenClass[0].lecture[lectureSection].startTime) <=\r\n              i &&\r\n              this.timeToNum(chosenClass[0].lecture[lectureSection].endTime) -\r\n              1 >=\r\n              i\r\n          ) {\r\n            document.getElementById(dayOfTheWeek + i).style.backgroundColor =\r\n                color.hex; // (you can choose to select the return of a function)\r\n            if (\r\n                color.hex == \"#795548\" ||\r\n                color.hex == \"#ff5722\" ||\r\n                color.hex == \"#607d8b\" ||\r\n                color.hex == \"#009688\" ||\r\n                color.hex == \"#f44336\" ||\r\n                color.hex == \"#9c27b0\" ||\r\n                color.hex == \"#673ab7\" ||\r\n                color.hex == \"#3f51b5\"\r\n            ) {\r\n              document.getElementById(dayOfTheWeek + i).style.color = \"beige\";\r\n            } else {\r\n              document.getElementById(dayOfTheWeek + i).style.color = \"black\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (chosenClass[0].lecture[lectureSection].tutorial.length != 0) {\r\n        for (\r\n            let j = 0;\r\n            j <\r\n            chosenClass[0].lecture[lectureSection].tutorial[tutorialSection].days\r\n                .length;\r\n            j++\r\n        ) {\r\n          //added\r\n          for (let i = 0; i < 61; i++) {\r\n            let dayOfTheWeek =\r\n                chosenClass[0].lecture[lectureSection].tutorial[tutorialSection]\r\n                    .days[j] + \"-\";\r\n            if (\r\n                this.timeToNum(\r\n                    chosenClass[0].lecture[lectureSection].tutorial[tutorialSection]\r\n                        .startTime\r\n                ) <= i &&\r\n                this.timeToNum(\r\n                    chosenClass[0].lecture[lectureSection].tutorial[tutorialSection]\r\n                        .endTime\r\n                ) -\r\n                1 >=\r\n                i\r\n            ) {\r\n              //color1 = document.getElementById(dayOfTheWeek + i).style.backgroundColor;\r\n              document.getElementById(dayOfTheWeek + i).style.backgroundColor =\r\n                  color.hex; // (you can choose to select the return of a function)\r\n              if (\r\n                  color.hex == \"#795548\" ||\r\n                  color.hex == \"#ff5722\" ||\r\n                  color.hex == \"#607d8b\" ||\r\n                  color.hex == \"#009688\" ||\r\n                  color.hex == \"#f44336\" ||\r\n                  color.hex == \"#9c27b0\" ||\r\n                  color.hex == \"#673ab7\" ||\r\n                  color.hex == \"#3f51b5\"\r\n              ) {\r\n                document.getElementById(dayOfTheWeek + i).style.color = \"beige\";\r\n              } else {\r\n                document.getElementById(dayOfTheWeek + i).style.color = \"black\";\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (chosenClass[0].lab.length != 0) {\r\n        for (let j = 0; j < chosenClass[0].lab[labSection].days.length; j++) {\r\n          //added\r\n          for (let i = 0; i < 61; i++) {\r\n            let dayOfTheWeek = chosenClass[0].lab[labSection].days[j] + \"-\";\r\n            if (\r\n                this.timeToNum(chosenClass[0].lab[labSection].startTime) <= i &&\r\n                this.timeToNum(chosenClass[0].lab[labSection].endTime) - 1 >= i\r\n            ) {\r\n              //color1 = document.getElementById(dayOfTheWeek + i).style.backgroundColor;\r\n              document.getElementById(dayOfTheWeek + i).style.backgroundColor =\r\n                  color.hex; // (you can choose to select the return of a function)\r\n              if (\r\n                  color.hex == \"#795548\" ||\r\n                  color.hex == \"#ff5722\" ||\r\n                  color.hex == \"#607d8b\" ||\r\n                  color.hex == \"#009688\" ||\r\n                  color.hex == \"#f44336\" ||\r\n                  color.hex == \"#9c27b0\" ||\r\n                  color.hex == \"#673ab7\" ||\r\n                  color.hex == \"#3f51b5\"\r\n              ) {\r\n                document.getElementById(dayOfTheWeek + i).style.color = \"beige\";\r\n              } else {\r\n                document.getElementById(dayOfTheWeek + i).style.color = \"black\";\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    for (let j = 0; j < this.state.colors.length; j++) {\r\n      // see if the color is one of the default colors\r\n      if (this.state.colors[j][0] == color1) {\r\n        let colorNotInUse = true;\r\n        for (let k = 0; k < array.length; k++) {\r\n          // if it's a default color, make sure it's not\r\n          if (array[k][4] == color1) {\r\n            // also in use by another course\r\n            colorNotInUse = false;\r\n            break;\r\n          }\r\n        }\r\n        if (colorNotInUse) {\r\n          this.state.colors[j][1] = 0;\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    chosenClass[4] = color.hex;\r\n  };\r\n\r\n  addClass1 = () => {\r\n    let array = this.state.selectedCourses; //Keep track of user selected classes\r\n    let input = document.getElementById(\"add-class1\").value; //Get user input (Course Code)\r\n    let classList = this.state.courses2; //Gets the whole list of courses of concordia\r\n    let addedClass;\r\n    let classExists = false;\r\n    for (let i = 0; i < classList.length; i++) {\r\n      if (classList[i].course === input) {\r\n        for (let j = 0; j < this.state.selectedCourses.length; j++) {\r\n          if (this.state.selectedCourses[j][0].course === input) {\r\n            document.getElementById(\"addStatus1\").innerHTML =\r\n                \"This class is already added.\";\r\n            this.setState({ show2: \"visible\" });\r\n            return;\r\n          }\r\n        }\r\n        addedClass = classList[i];\r\n        classExists = true;\r\n        this.setState({ show2: \"hidden\" });\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (classExists === false) {\r\n      let bool1 = false;\r\n      for (let i = 0; i < this.state.coursesTakenSet.length; i++) {\r\n        if (input == this.state.coursesTakenSet[i][0].course) {\r\n          bool1 = true;\r\n        }\r\n      }\r\n      if (bool1) {\r\n        document.getElementById(\"addStatus1\").innerHTML =\r\n            \"Class Has Already Been Taken\";\r\n      } else {\r\n        document.getElementById(\"addStatus1\").innerHTML =\r\n            \"Invalid Class/Class Not Found\";\r\n      }\r\n      this.setState({ show2: \"visible\" });\r\n      return;\r\n    }\r\n\r\n    if (this.state.credits + addedClass.credit > 16.5) {\r\n      document.getElementById(\"addStatus1\").innerHTML = \"Credit Limit Reached\";\r\n      this.setState({ show2: \"visible\" });\r\n      return;\r\n    }\r\n\r\n    let colorChosen;\r\n\r\n    for (let j = 0; j < this.state.colors.length; j++) {\r\n      if (this.state.colors[j][1] == 0) {\r\n        colorChosen = this.state.colors[j][0];\r\n        this.state.colors[j][1] = 1;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (colorChosen === null || colorChosen === undefined) {\r\n      return;\r\n    }\r\n\r\n    let lectureIndex = 0,\r\n        tutorialIndex = 0,\r\n        labIndex = 0;\r\n\r\n    let aa = new AveryAlgorithms();\r\n\r\n    let array2 = [];\r\n    let array3 = aa.duplicateArray(this.state.selectedCourses);\r\n    array2[0] = addedClass;\r\n    array2[1] = lectureIndex;\r\n    array2[2] = tutorialIndex;\r\n    array2[3] = labIndex;\r\n\r\n    array3.push(array2);\r\n    let newClassForFinalize = {\r\n      course_number: addedClass.course,\r\n      course_name: addedClass.name,\r\n      course_semester: addedClass.semester,\r\n      course_year: \"2019\",\r\n      course_color: colorChosen,\r\n      lecture_section: addedClass.lecture[lectureIndex].section,\r\n      lecture_room: addedClass.lecture[lectureIndex].room,\r\n      lecture_days: addedClass.lecture[lectureIndex].days,\r\n      lecture_start: addedClass.lecture[lectureIndex].startTime,\r\n      lecture_end: addedClass.lecture[lectureIndex].endTime,\r\n      tutorial_section:\r\n          addedClass.lecture[0].tutorial.length !== 0\r\n              ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].section\r\n              : \"\",\r\n      tutorial_room:\r\n          addedClass.lecture[0].tutorial.length !== 0\r\n              ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].room\r\n              : \"\",\r\n      tutorial_days:\r\n          addedClass.lecture[0].tutorial.length !== 0\r\n              ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days\r\n              : \"\",\r\n      tutorial_start:\r\n          addedClass.lecture[0].tutorial.length !== 0\r\n              ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime\r\n              : \"\",\r\n      tutorial_end:\r\n          addedClass.lecture[0].tutorial.length !== 0\r\n              ? addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime\r\n              : \"\",\r\n      lab_section:\r\n          addedClass.lab.length != 0 ? addedClass.lab[labIndex].section : \"\",\r\n      lab_room: addedClass.lab.length != 0 ? addedClass.lab[labIndex].room : \"\",\r\n      lab_days: addedClass.lab.length != 0 ? addedClass.lab[labIndex].days : \"\",\r\n      lab_start:\r\n          addedClass.lab.length != 0 ? addedClass.lab[labIndex].startTime : \"\",\r\n      lab_end:\r\n          addedClass.lab.length != 0 ? addedClass.lab[labIndex].endTime : \"\"\r\n    };\r\n\r\n    if (!aa.timeConflict(array3)) {\r\n      this.setState({ showConflict: \"hidden\", showConflictForFinalize: false });\r\n\r\n      for (let j = 0; j < addedClass.lecture[lectureIndex].days.length; j++) {\r\n        // add lecture\r\n\r\n        let initial = this.timeToNum(\r\n            addedClass.lecture[lectureIndex].startTime\r\n        );\r\n        let final =\r\n            this.timeToNum(addedClass.lecture[lectureIndex].endTime) - 1;\r\n        let middle = parseInt((initial + final) / 2);\r\n\r\n        for (let i = 0; i < 61; i++) {\r\n          if (initial <= i && final >= i) {\r\n            let dayOfTheWeek = addedClass.lecture[lectureIndex].days[j] + \"-\";\r\n            document.getElementById(\r\n                dayOfTheWeek + i\r\n            ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n            if (i === middle - 2) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                  addedClass.course;\r\n            } else if (i === middle - 1) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"Lecture\";\r\n            } else if (i === middle) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                  addedClass.lecture[lectureIndex].startTime;\r\n            } else if (i === middle + 1) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n            } else if (i === middle + 2) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                  addedClass.lecture[lectureIndex].endTime;\r\n            } else {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n            }\r\n\r\n            if (\r\n                colorChosen == \"#795548\" ||\r\n                colorChosen == \"#ff5722\" ||\r\n                colorChosen == \"#607d8b\" ||\r\n                colorChosen == \"#009688\" ||\r\n                colorChosen == \"#f44336\" ||\r\n                colorChosen == \"#9c27b0\" ||\r\n                colorChosen == \"#673ab7\" ||\r\n                colorChosen == \"#3f51b5\"\r\n            ) {\r\n              document.getElementById(dayOfTheWeek + i).style.color = \"beige\";\r\n            } else {\r\n              document.getElementById(dayOfTheWeek + i).style.color = \"black\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (addedClass.lecture[lectureIndex].tutorial.length != 0) {\r\n        for (\r\n            let k = 0;\r\n            k <\r\n            addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days.length;\r\n            k++\r\n        ) {\r\n          // add tutorial\r\n\r\n          let initial = this.timeToNum(\r\n              addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime\r\n          );\r\n          let final =\r\n              this.timeToNum(\r\n                  addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime\r\n              ) - 1;\r\n          let middle = parseInt((initial + final) / 2);\r\n\r\n          if (final - initial <= 3) {\r\n            for (let i = 0; i < 61; i++) {\r\n              if (initial <= i && final >= i) {\r\n                let dayOfTheWeek =\r\n                    addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days[\r\n                        k\r\n                        ] + \"-\";\r\n                document.getElementById(\r\n                    dayOfTheWeek + i\r\n                ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                if (i === middle - 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.course;\r\n                } else if (i === middle) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      \"Tutorial\";\r\n                } else if (i === middle + 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                          .startTime +\r\n                      \"-\" +\r\n                      addedClass.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                          .endTime;\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      \"<br />\";\r\n                }\r\n                if (\r\n                    colorChosen == \"#795548\" ||\r\n                    colorChosen == \"#ff5722\" ||\r\n                    colorChosen == \"#607d8b\" ||\r\n                    colorChosen == \"#009688\" ||\r\n                    colorChosen == \"#f44336\" ||\r\n                    colorChosen == \"#9c27b0\" ||\r\n                    colorChosen == \"#673ab7\" ||\r\n                    colorChosen == \"#3f51b5\"\r\n                ) {\r\n                  document.getElementById(dayOfTheWeek + i).style.color =\r\n                      \"beige\";\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).style.color =\r\n                      \"black\";\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            for (let i = 0; i < 61; i++) {\r\n              if (initial <= i && final >= i) {\r\n                let dayOfTheWeek =\r\n                    addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days[\r\n                        k\r\n                        ] + \"-\";\r\n                document.getElementById(\r\n                    dayOfTheWeek + i\r\n                ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                if (i === middle - 2) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.course;\r\n                } else if (i === middle - 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      \"Tutorial\";\r\n                } else if (i === middle) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.lecture[lectureIndex].tutorial[\r\n                          tutorialIndex\r\n                          ].startTime;\r\n                } else if (i === middle + 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n                } else if (i === middle + 2) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.lecture[lectureIndex].tutorial[\r\n                          tutorialIndex\r\n                          ].endTime;\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      \"<br />\";\r\n                }\r\n\r\n                if (\r\n                    colorChosen == \"#795548\" ||\r\n                    colorChosen == \"#ff5722\" ||\r\n                    colorChosen == \"#607d8b\" ||\r\n                    colorChosen == \"#009688\" ||\r\n                    colorChosen == \"#f44336\" ||\r\n                    colorChosen == \"#9c27b0\" ||\r\n                    colorChosen == \"#673ab7\" ||\r\n                    colorChosen == \"#3f51b5\"\r\n                ) {\r\n                  document.getElementById(dayOfTheWeek + i).style.color =\r\n                      \"beige\";\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).style.color =\r\n                      \"black\";\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (addedClass.lab.length != 0) {\r\n        for (let l = 0; l < addedClass.lab[labIndex].days.length; l++) {\r\n          // add lab\r\n\r\n          let initial = this.timeToNum(addedClass.lab[labIndex].startTime);\r\n          let final = this.timeToNum(addedClass.lab[labIndex].endTime) - 1;\r\n          let middle = parseInt((initial + final) / 2);\r\n\r\n          if (final - initial <= 3) {\r\n            for (let i = 0; i < 61; i++) {\r\n              if (initial <= i && final >= i) {\r\n                let dayOfTheWeek = addedClass.lab[labIndex].days[l] + \"-\";\r\n                document.getElementById(\r\n                    dayOfTheWeek + i\r\n                ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                if (i === middle - 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.course;\r\n                } else if (i === middle) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"Lab\";\r\n                } else if (i === middle + 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.lab[labIndex].startTime +\r\n                      \"-\" +\r\n                      addedClass.lab[labIndex].endTime;\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      \"<br />\";\r\n                }\r\n\r\n                if (\r\n                    colorChosen == \"#795548\" ||\r\n                    colorChosen == \"#ff5722\" ||\r\n                    colorChosen == \"#607d8b\" ||\r\n                    colorChosen == \"#009688\" ||\r\n                    colorChosen == \"#f44336\" ||\r\n                    colorChosen == \"#9c27b0\" ||\r\n                    colorChosen == \"#673ab7\" ||\r\n                    colorChosen == \"#3f51b5\"\r\n                ) {\r\n                  document.getElementById(dayOfTheWeek + i).style.color =\r\n                      \"beige\";\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).style.color =\r\n                      \"black\";\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            for (let i = 0; i < 61; i++) {\r\n              if (initial <= i && final >= i) {\r\n                let dayOfTheWeek = addedClass.lab[labIndex].days[l] + \"-\";\r\n                document.getElementById(\r\n                    dayOfTheWeek + i\r\n                ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                if (i === middle - 2) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.course;\r\n                } else if (i === middle - 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"Lab\";\r\n                } else if (i === middle) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.lab[labIndex].startTime;\r\n                } else if (i === middle + 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n                } else if (i === middle + 2) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      addedClass.lab[labIndex].endTime;\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                      \"<br />\";\r\n                }\r\n\r\n                if (\r\n                    colorChosen == \"#795548\" ||\r\n                    colorChosen == \"#ff5722\" ||\r\n                    colorChosen == \"#607d8b\" ||\r\n                    colorChosen == \"#009688\" ||\r\n                    colorChosen == \"#f44336\" ||\r\n                    colorChosen == \"#9c27b0\" ||\r\n                    colorChosen == \"#673ab7\" ||\r\n                    colorChosen == \"#3f51b5\"\r\n                ) {\r\n                  document.getElementById(dayOfTheWeek + i).style.color =\r\n                      \"beige\";\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).style.color =\r\n                      \"black\";\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      document.getElementById(\"timeConflict\").innerHTML = \"No Results\";\r\n      this.setState({ showConflict: \"visible\", showConflictForFinalize: true });\r\n\r\n      this.removeAll();\r\n    }\r\n\r\n    this.state.finalizedClassArray.push(newClassForFinalize);\r\n\r\n    let oldColors = [];\r\n\r\n    for (let o = 0; o < this.state.selectedCourses.length; o++) {\r\n      // get list of all the colors in the selection menu before change\r\n      oldColors[o] = document.getElementById(\r\n          this.state.selectedCourses[o][0].course\r\n      ).style.backgroundColor;\r\n    }\r\n\r\n    oldColors.push(colorChosen); // add the color of new course to the list also\r\n    this.setState({ colorOfNewClass: oldColors }); // when rendering the selection menu it will render it with all the old colors + the newly added color\r\n\r\n    let array1 = [];\r\n    array1[0] = addedClass;\r\n    array1[1] = lectureIndex;\r\n    array1[2] = tutorialIndex;\r\n    array1[3] = labIndex;\r\n    array1[4] = colorChosen; // the array will also store the color corresponding to that course\r\n    array.push(array1);\r\n\r\n    let credits = this.state.credits + addedClass.credit;\r\n\r\n    // the code for defaultValue1 should be changed after issue #119\r\n    let defaultValue1 = addedClass.lecture[lectureIndex].section;\r\n\r\n    let defaultValue3 = \"\";\r\n\r\n    if (addedClass.lecture[lectureIndex].tutorial.length != 0) {\r\n      defaultValue3 =\r\n          addedClass.lecture[lectureIndex].tutorial[tutorialIndex].section;\r\n    }\r\n\r\n    let defaultValue2 = \"\";\r\n\r\n    if (addedClass.lab.length != 0) {\r\n      defaultValue2 = addedClass.lab[labIndex].section + \"\";\r\n    }\r\n\r\n    this.setState({\r\n      selectedCourses: array,\r\n      credits: credits,\r\n      defaultValueLecture: defaultValue1,\r\n      defaultValueTutorial: defaultValue3,\r\n      defaultValueLab: defaultValue2\r\n    });\r\n    console.log(array1);\r\n  };\r\n\r\n  remove1 = () => {\r\n    let coursecode = document.getElementById(\"add-class1\").value;\r\n    let courseToRemove, lectureIndex, tutorialIndex, labIndex, color;\r\n\r\n    for (let i = 0; i < this.state.selectedCourses.length; i++) {\r\n      if (this.state.selectedCourses[i][0].course === coursecode) {\r\n        courseToRemove = this.state.selectedCourses[i][0];\r\n        lectureIndex = this.state.selectedCourses[i][1];\r\n        tutorialIndex = this.state.selectedCourses[i][2];\r\n        labIndex = this.state.selectedCourses[i][3];\r\n        color = this.state.selectedCourses[i][4];\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (courseToRemove === undefined || courseToRemove === null) {\r\n      document.getElementById(\"addStatus1\").innerHTML =\r\n          \"Invalid Course / Course Not Found\";\r\n      this.setState({ show2: \"visible\" });\r\n      return;\r\n    }\r\n\r\n    for (let j = 0; j < courseToRemove.lecture[lectureIndex].days.length; j++) {\r\n      for (let i = 0; i < 61; i++) {\r\n        let dayOfTheWeek = courseToRemove.lecture[lectureIndex].days[j] + \"-\";\r\n        if (\r\n            this.timeToNum(courseToRemove.lecture[lectureIndex].startTime) <= i &&\r\n            this.timeToNum(courseToRemove.lecture[lectureIndex].endTime) - 1 >= i\r\n        ) {\r\n          document.getElementById(dayOfTheWeek + i).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\r\n          document.getElementById(dayOfTheWeek + i).innerHTML =\r\n              \"----------------\";\r\n          document.getElementById(dayOfTheWeek + i).style.color = \"black\";\r\n        }\r\n      }\r\n    }\r\n\r\n    if (courseToRemove.lecture[lectureIndex].tutorial.length != 0) {\r\n      for (\r\n          let j = 0;\r\n          j <\r\n          courseToRemove.lecture[lectureIndex].tutorial[tutorialIndex].days\r\n              .length;\r\n          j++\r\n      ) {\r\n        let dayOfTheWeek =\r\n            courseToRemove.lecture[lectureIndex].tutorial[tutorialIndex].days[j] +\r\n            \"-\";\r\n        for (let i = 0; i < 61; i++) {\r\n          if (\r\n              this.timeToNum(\r\n                  courseToRemove.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                      .startTime\r\n              ) <= i &&\r\n              this.timeToNum(\r\n                  courseToRemove.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                      .endTime\r\n              ) -\r\n              1 >=\r\n              i\r\n          ) {\r\n            document.getElementById(dayOfTheWeek + i).style.backgroundColor =\r\n                \"\"; // (you can choose to select the return of a function)\r\n            document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                \"----------------\";\r\n            document.getElementById(dayOfTheWeek + i).style.color = \"black\";\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (courseToRemove.lab.length != 0) {\r\n      for (let j = 0; j < courseToRemove.lab[labIndex].days.length; j++) {\r\n        let dayOfTheWeek = courseToRemove.lab[labIndex].days[j] + \"-\";\r\n        for (let i = 0; i < 61; i++) {\r\n          if (\r\n              this.timeToNum(courseToRemove.lab[labIndex].startTime) <= i &&\r\n              this.timeToNum(courseToRemove.lab[labIndex].endTime) - 1 >= i\r\n          ) {\r\n            document.getElementById(dayOfTheWeek + i).style.backgroundColor =\r\n                \"\"; // (you can choose to select the return of a function)\r\n            document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                \"----------------\";\r\n            document.getElementById(dayOfTheWeek + i).style.color = \"black\";\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    let array = this.state.selectedCourses.filter(\r\n        data => coursecode !== data[0].course\r\n    );\r\n\r\n    for (let j = 0; j < this.state.colors.length; j++) {\r\n      // see if the color is one of the default colors\r\n      if (this.state.colors[j][0] == color) {\r\n        let colorNotInUse = true;\r\n        for (let k = 0; k < array.length; k++) {\r\n          // if it's a default color, make sure it's not\r\n          if (array[k][4] == color) {\r\n            // also being used by another course\r\n            colorNotInUse = false;\r\n            break;\r\n          }\r\n        }\r\n        if (colorNotInUse) {\r\n          this.state.colors[j][1] = 0;\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    let aa = new AveryAlgorithms();\r\n\r\n    if (!aa.timeConflict(array)) {\r\n      this.setState({ showConflict: \"hidden\", showConflictForFinalize: false });\r\n\r\n      let addedClass, lectureIndex, tutorialIndex, labIndex, colorChosen;\r\n\r\n      for (let i = 0; i < array.length; i++) {\r\n        addedClass = array[i][0];\r\n        lectureIndex = array[i][1];\r\n        tutorialIndex = array[i][2];\r\n        labIndex = array[i][3];\r\n        colorChosen = array[i][4];\r\n\r\n        for (let j = 0; j < addedClass.lecture[lectureIndex].days.length; j++) {\r\n          // add lecture\r\n\r\n          let initial = this.timeToNum(\r\n              addedClass.lecture[lectureIndex].startTime\r\n          );\r\n          let final =\r\n              this.timeToNum(addedClass.lecture[lectureIndex].endTime) - 1;\r\n          let middle = parseInt((initial + final) / 2);\r\n\r\n          for (let i = 0; i < 61; i++) {\r\n            if (initial <= i && final >= i) {\r\n              let dayOfTheWeek = addedClass.lecture[lectureIndex].days[j] + \"-\";\r\n              document.getElementById(\r\n                  dayOfTheWeek + i\r\n              ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n              if (i === middle - 2) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                    addedClass.course;\r\n              } else if (i === middle - 1) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"Lecture\";\r\n              } else if (i === middle) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                    addedClass.lecture[lectureIndex].startTime;\r\n              } else if (i === middle + 1) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n              } else if (i === middle + 2) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                    addedClass.lecture[lectureIndex].endTime;\r\n              } else {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n              }\r\n\r\n              if (\r\n                  colorChosen == \"#795548\" ||\r\n                  colorChosen == \"#ff5722\" ||\r\n                  colorChosen == \"#607d8b\" ||\r\n                  colorChosen == \"#009688\" ||\r\n                  colorChosen == \"#f44336\" ||\r\n                  colorChosen == \"#9c27b0\" ||\r\n                  colorChosen == \"#673ab7\" ||\r\n                  colorChosen == \"#3f51b5\"\r\n              ) {\r\n                document.getElementById(dayOfTheWeek + i).style.color = \"beige\";\r\n              } else {\r\n                document.getElementById(dayOfTheWeek + i).style.color = \"black\";\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        if (addedClass.lecture[lectureIndex].tutorial.length != 0) {\r\n          for (\r\n              let k = 0;\r\n              k <\r\n              addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days\r\n                  .length;\r\n              k++\r\n          ) {\r\n            // add tutorial\r\n\r\n            let initial = this.timeToNum(\r\n                addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime\r\n            );\r\n            let final =\r\n                this.timeToNum(\r\n                    addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime\r\n                ) - 1;\r\n            let middle = parseInt((initial + final) / 2);\r\n\r\n            if (final - initial <= 3) {\r\n              for (let i = 0; i < 61; i++) {\r\n                if (initial <= i && final >= i) {\r\n                  let dayOfTheWeek =\r\n                      addedClass.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                          .days[k] + \"-\";\r\n                  document.getElementById(\r\n                      dayOfTheWeek + i\r\n                  ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                  if (i === middle - 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.course;\r\n                  } else if (i === middle) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"Tutorial\";\r\n                  } else if (i === middle + 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                            .startTime +\r\n                        \"-\" +\r\n                        addedClass.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                            .endTime;\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"<br />\";\r\n                  }\r\n                  if (\r\n                      colorChosen == \"#795548\" ||\r\n                      colorChosen == \"#ff5722\" ||\r\n                      colorChosen == \"#607d8b\" ||\r\n                      colorChosen == \"#009688\" ||\r\n                      colorChosen == \"#f44336\" ||\r\n                      colorChosen == \"#9c27b0\" ||\r\n                      colorChosen == \"#673ab7\" ||\r\n                      colorChosen == \"#3f51b5\"\r\n                  ) {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"beige\";\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"black\";\r\n                  }\r\n                }\r\n              }\r\n            } else {\r\n              for (let i = 0; i < 61; i++) {\r\n                if (initial <= i && final >= i) {\r\n                  let dayOfTheWeek =\r\n                      addedClass.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                          .days[k] + \"-\";\r\n                  document.getElementById(\r\n                      dayOfTheWeek + i\r\n                  ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                  if (i === middle - 2) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.course;\r\n                  } else if (i === middle - 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"Tutorial\";\r\n                  } else if (i === middle) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.lecture[lectureIndex].tutorial[\r\n                            tutorialIndex\r\n                            ].startTime;\r\n                  } else if (i === middle + 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n                  } else if (i === middle + 2) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.lecture[lectureIndex].tutorial[\r\n                            tutorialIndex\r\n                            ].endTime;\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"<br />\";\r\n                  }\r\n\r\n                  if (\r\n                      colorChosen == \"#795548\" ||\r\n                      colorChosen == \"#ff5722\" ||\r\n                      colorChosen == \"#607d8b\" ||\r\n                      colorChosen == \"#009688\" ||\r\n                      colorChosen == \"#f44336\" ||\r\n                      colorChosen == \"#9c27b0\" ||\r\n                      colorChosen == \"#673ab7\" ||\r\n                      colorChosen == \"#3f51b5\"\r\n                  ) {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"beige\";\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"black\";\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        if (addedClass.lab.length != 0) {\r\n          for (let l = 0; l < addedClass.lab[labIndex].days.length; l++) {\r\n            // add lab\r\n\r\n            let initial = this.timeToNum(addedClass.lab[labIndex].startTime);\r\n            let final = this.timeToNum(addedClass.lab[labIndex].endTime) - 1;\r\n            let middle = parseInt((initial + final) / 2);\r\n\r\n            if (final - initial <= 3) {\r\n              for (let i = 0; i < 61; i++) {\r\n                if (initial <= i && final >= i) {\r\n                  let dayOfTheWeek = addedClass.lab[labIndex].days[l] + \"-\";\r\n                  document.getElementById(\r\n                      dayOfTheWeek + i\r\n                  ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                  if (i === middle - 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.course;\r\n                  } else if (i === middle) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML = \"Lab\";\r\n                  } else if (i === middle + 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.lab[labIndex].startTime +\r\n                        \"-\" +\r\n                        addedClass.lab[labIndex].endTime;\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"<br />\";\r\n                  }\r\n\r\n                  if (\r\n                      colorChosen == \"#795548\" ||\r\n                      colorChosen == \"#ff5722\" ||\r\n                      colorChosen == \"#607d8b\" ||\r\n                      colorChosen == \"#009688\" ||\r\n                      colorChosen == \"#f44336\" ||\r\n                      colorChosen == \"#9c27b0\" ||\r\n                      colorChosen == \"#673ab7\" ||\r\n                      colorChosen == \"#3f51b5\"\r\n                  ) {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"beige\";\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"black\";\r\n                  }\r\n                }\r\n              }\r\n            } else {\r\n              for (let i = 0; i < 61; i++) {\r\n                if (initial <= i && final >= i) {\r\n                  let dayOfTheWeek = addedClass.lab[labIndex].days[l] + \"-\";\r\n                  document.getElementById(\r\n                      dayOfTheWeek + i\r\n                  ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                  if (i === middle - 2) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.course;\r\n                  } else if (i === middle - 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML = \"Lab\";\r\n                  } else if (i === middle) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.lab[labIndex].startTime;\r\n                  } else if (i === middle + 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n                  } else if (i === middle + 2) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        addedClass.lab[labIndex].endTime;\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"<br />\";\r\n                  }\r\n\r\n                  if (\r\n                      colorChosen == \"#795548\" ||\r\n                      colorChosen == \"#ff5722\" ||\r\n                      colorChosen == \"#607d8b\" ||\r\n                      colorChosen == \"#009688\" ||\r\n                      colorChosen == \"#f44336\" ||\r\n                      colorChosen == \"#9c27b0\" ||\r\n                      colorChosen == \"#673ab7\" ||\r\n                      colorChosen == \"#3f51b5\"\r\n                  ) {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"beige\";\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"black\";\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    let newFinalizedClassArray = this.state.finalizedClassArray.filter(\r\n        theClass => coursecode !== theClass.course_number\r\n    );\r\n\r\n    let credits = this.state.credits - courseToRemove.credit;\r\n\r\n    this.setState({\r\n      selectedCourses: array,\r\n      show2: \"hidden\",\r\n      credits: credits,\r\n      finalizedClassArray: newFinalizedClassArray\r\n    });\r\n  };\r\n\r\n  changeSection(courseName) {\r\n    // let regEx = document.getElementById(courseName + \"section\").value;\r\n\r\n    // let lectureSection = regEx.substring(0, regEx.indexOf(\"-\"));\r\n    let lectureSection = document.getElementById(courseName + \"lecSection\")\r\n        .value;\r\n    // let tutorialSection = regEx.substring(regEx.indexOf(\"-\") + 1);\r\n    let tutorialSection = document.getElementById(courseName + \"tutSection\")\r\n        .value;\r\n\r\n    let labSection = document.getElementById(courseName + \"labSection\").value;\r\n\r\n    let lectureIndex, tutorialIndex, labIndex;\r\n\r\n    let courseToChange, colorChosen, courseArray;\r\n\r\n    for (let i = 0; i < this.state.selectedCourses.length; i++) {\r\n      if (this.state.selectedCourses[i][0].course === courseName) {\r\n        courseArray = this.state.selectedCourses[i];\r\n        courseToChange = this.state.selectedCourses[i][0];\r\n        lectureIndex = this.state.selectedCourses[i][1];\r\n        tutorialIndex = this.state.selectedCourses[i][2];\r\n        labIndex = this.state.selectedCourses[i][3];\r\n        colorChosen = this.state.selectedCourses[i][4];\r\n      }\r\n    }\r\n\r\n    let courseToChangeForFinalize;\r\n    for (let s = 0; s < this.state.finalizedClassArray.length; s++) {\r\n      if (this.state.finalizedClassArray[s].course_number === courseName) {\r\n        courseToChangeForFinalize = this.state.finalizedClassArray[s];\r\n        break;\r\n      }\r\n    }\r\n\r\n    for (let j = 0; j < courseToChange.lecture[lectureIndex].days.length; j++) {\r\n      for (let i = 0; i < 61; i++) {\r\n        let dayOfTheWeek = courseToChange.lecture[lectureIndex].days[j] + \"-\";\r\n        if (\r\n            this.timeToNum(courseToChange.lecture[lectureIndex].startTime) <= i &&\r\n            this.timeToNum(courseToChange.lecture[lectureIndex].endTime) - 1 >= i\r\n        ) {\r\n          document.getElementById(dayOfTheWeek + i).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\r\n          document.getElementById(dayOfTheWeek + i).innerHTML =\r\n              \"----------------\";\r\n          document.getElementById(dayOfTheWeek + i).style.color = \"black\";\r\n        }\r\n      }\r\n    }\r\n\r\n    if (courseToChange.lecture[lectureIndex].tutorial.length != 0) {\r\n      for (\r\n          let j = 0;\r\n          j <\r\n          courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days\r\n              .length;\r\n          j++\r\n      ) {\r\n        let dayOfTheWeek =\r\n            courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days[j] +\r\n            \"-\";\r\n        for (let i = 0; i < 61; i++) {\r\n          if (\r\n              this.timeToNum(\r\n                  courseToChange.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                      .startTime\r\n              ) <= i &&\r\n              this.timeToNum(\r\n                  courseToChange.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                      .endTime\r\n              ) -\r\n              1 >=\r\n              i\r\n          ) {\r\n            document.getElementById(dayOfTheWeek + i).style.backgroundColor =\r\n                \"\"; // (you can choose to select the return of a function)\r\n            document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                \"----------------\";\r\n            document.getElementById(dayOfTheWeek + i).style.color = \"black\";\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (courseToChange.lab.length != 0) {\r\n      for (let j = 0; j < courseToChange.lab[labIndex].days.length; j++) {\r\n        let dayOfTheWeek = courseToChange.lab[labIndex].days[j] + \"-\";\r\n        for (let i = 0; i < 61; i++) {\r\n          if (\r\n              this.timeToNum(courseToChange.lab[labIndex].startTime) <= i &&\r\n              this.timeToNum(courseToChange.lab[labIndex].endTime) - 1 >= i\r\n          ) {\r\n            document.getElementById(dayOfTheWeek + i).style.backgroundColor =\r\n                \"\"; // (you can choose to select the return of a function)\r\n            document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                \"----------------\";\r\n            document.getElementById(dayOfTheWeek + i).style.color = \"black\";\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // add part\r\n\r\n    for (let i = 0; i < courseToChange.lecture.length; i++) {\r\n      if (courseToChange.lecture[i].section === lectureSection) {\r\n        lectureIndex = i; //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n      }\r\n    }\r\n\r\n    if (courseToChange.lecture[lectureIndex].tutorial.length != 0) {\r\n      for (\r\n          let i = 0;\r\n          i < courseToChange.lecture[lectureIndex].tutorial.length;\r\n          i++\r\n      ) {\r\n        if (\r\n            courseToChange.lecture[lectureIndex].tutorial[i].section ===\r\n            tutorialSection\r\n        ) {\r\n          tutorialIndex = i; //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n        }\r\n      }\r\n    }\r\n\r\n    if (courseToChange.lab.length != 0) {\r\n      for (let i = 0; i < courseToChange.lab.length; i++) {\r\n        if (courseToChange.lab[i].section === labSection) {\r\n          labIndex = i; //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n        }\r\n      }\r\n    }\r\n\r\n    courseToChangeForFinalize.course_color = colorChosen;\r\n    courseToChangeForFinalize.lecture_section = lectureSection;\r\n    courseToChangeForFinalize.lecture_days =\r\n        courseToChange.lecture[lectureIndex].days;\r\n    courseToChangeForFinalize.lecture_start =\r\n        courseToChange.lecture[lectureIndex].startTime;\r\n    courseToChangeForFinalize.lecture_end =\r\n        courseToChange.lecture[lectureIndex].endTime;\r\n    courseToChangeForFinalize.lecture_room =\r\n        courseToChange.lecture[lectureIndex].room;\r\n    courseToChangeForFinalize.tutorial_section = tutorialSection;\r\n    courseToChangeForFinalize.tutorial_room =\r\n        courseToChange.lecture[lectureIndex].tutorial.length !== 0\r\n            ? courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].room\r\n            : \"\";\r\n    courseToChangeForFinalize.tutorial_days =\r\n        courseToChange.lecture[lectureIndex].tutorial.length !== 0\r\n            ? courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days\r\n            : \"\";\r\n    courseToChangeForFinalize.tutorial_start =\r\n        courseToChange.lecture[lectureIndex].tutorial.length !== 0\r\n            ? courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].startTime\r\n            : \"\";\r\n    courseToChangeForFinalize.tutorial_end =\r\n        courseToChange.lecture[lectureIndex].tutorial.length !== 0\r\n            ? courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].endTime\r\n            : \"\";\r\n    courseToChangeForFinalize.lab_section = labSection;\r\n    courseToChangeForFinalize.lab_room =\r\n        courseToChange.lab.length !== 0 ? courseToChange.lab[labIndex].room : \"\";\r\n    courseToChangeForFinalize.lab_days =\r\n        courseToChange.lab.length !== 0 ? courseToChange.lab[labIndex].days : \"\";\r\n    courseToChangeForFinalize.lab_start =\r\n        courseToChange.lab.length !== 0\r\n            ? courseToChange.lab[labIndex].startTime\r\n            : \"\";\r\n    courseToChangeForFinalize.lab_end =\r\n        courseToChange.lab.length !== 0\r\n            ? courseToChange.lab[labIndex].endTime\r\n            : \"\";\r\n\r\n    courseArray[1] = lectureIndex; // update the indexes of the new section\r\n    courseArray[2] = tutorialIndex;\r\n    courseArray[3] = labIndex;\r\n\r\n    let aa = new AveryAlgorithms();\r\n\r\n    if (!aa.timeConflict(this.state.selectedCourses)) {\r\n      this.setState({ showConflict: \"hidden\", showConflictForFinalize: false });\r\n\r\n      for (let n = 0; n < this.state.selectedCourses.length; n++) {\r\n        courseToChange = this.state.selectedCourses[n][0];\r\n        lectureIndex = this.state.selectedCourses[n][1];\r\n        tutorialIndex = this.state.selectedCourses[n][2];\r\n        labIndex = this.state.selectedCourses[n][3];\r\n        colorChosen = this.state.selectedCourses[n][4];\r\n\r\n        for (\r\n            let j = 0;\r\n            j < courseToChange.lecture[lectureIndex].days.length;\r\n            j++\r\n        ) {\r\n          // add lecture\r\n\r\n          let initial = this.timeToNum(\r\n              courseToChange.lecture[lectureIndex].startTime\r\n          );\r\n          let final =\r\n              this.timeToNum(courseToChange.lecture[lectureIndex].endTime) - 1;\r\n          let middle = parseInt((initial + final) / 2);\r\n\r\n          for (let i = 0; i < 61; i++) {\r\n            if (initial <= i && final >= i) {\r\n              let dayOfTheWeek =\r\n                  courseToChange.lecture[lectureIndex].days[j] + \"-\";\r\n              document.getElementById(\r\n                  dayOfTheWeek + i\r\n              ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n              if (i === middle - 2) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                    courseToChange.course;\r\n              } else if (i === middle - 1) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"Lecture\";\r\n              } else if (i === middle) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                    courseToChange.lecture[lectureIndex].startTime;\r\n              } else if (i === middle + 1) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n              } else if (i === middle + 2) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                    courseToChange.lecture[lectureIndex].endTime;\r\n              } else {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n              }\r\n\r\n              if (\r\n                  colorChosen == \"#795548\" ||\r\n                  colorChosen == \"#ff5722\" ||\r\n                  colorChosen == \"#607d8b\" ||\r\n                  colorChosen == \"#009688\" ||\r\n                  colorChosen == \"#f44336\" ||\r\n                  colorChosen == \"#9c27b0\" ||\r\n                  colorChosen == \"#673ab7\" ||\r\n                  colorChosen == \"#3f51b5\"\r\n              ) {\r\n                document.getElementById(dayOfTheWeek + i).style.color = \"beige\";\r\n              } else {\r\n                document.getElementById(dayOfTheWeek + i).style.color = \"black\";\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        if (courseToChange.lecture[lectureIndex].tutorial.length != 0) {\r\n          for (\r\n              let k = 0;\r\n              k <\r\n              courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days\r\n                  .length;\r\n              k++\r\n          ) {\r\n            // add tutorial\r\n\r\n            let initial = this.timeToNum(\r\n                courseToChange.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                    .startTime\r\n            );\r\n            let final =\r\n                this.timeToNum(\r\n                    courseToChange.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                        .endTime\r\n                ) - 1;\r\n            let middle = parseInt((initial + final) / 2);\r\n            if (final - initial <= 3) {\r\n              for (let i = 0; i < 61; i++) {\r\n                if (initial <= i && final >= i) {\r\n                  let dayOfTheWeek =\r\n                      courseToChange.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                          .days[k] + \"-\";\r\n                  document.getElementById(\r\n                      dayOfTheWeek + i\r\n                  ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                  if (i === middle - 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        courseToChange.course;\r\n                  } else if (i === middle) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"Tutorial\";\r\n                  } else if (i === middle + 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        courseToChange.lecture[lectureIndex].tutorial[\r\n                            tutorialIndex\r\n                            ].startTime +\r\n                        \"-\" +\r\n                        courseToChange.lecture[lectureIndex].tutorial[\r\n                            tutorialIndex\r\n                            ].endTime;\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"<br />\";\r\n                  }\r\n\r\n                  if (\r\n                      colorChosen == \"#795548\" ||\r\n                      colorChosen == \"#ff5722\" ||\r\n                      colorChosen == \"#607d8b\" ||\r\n                      colorChosen == \"#009688\" ||\r\n                      colorChosen == \"#f44336\" ||\r\n                      colorChosen == \"#9c27b0\" ||\r\n                      colorChosen == \"#673ab7\" ||\r\n                      colorChosen == \"#3f51b5\"\r\n                  ) {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"beige\";\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"black\";\r\n                  }\r\n                }\r\n              }\r\n            } else {\r\n              for (let i = 0; i < 61; i++) {\r\n                if (initial <= i && final >= i) {\r\n                  let dayOfTheWeek =\r\n                      courseToChange.lecture[lectureIndex].tutorial[tutorialIndex]\r\n                          .days[k] + \"-\";\r\n                  document.getElementById(\r\n                      dayOfTheWeek + i\r\n                  ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                  if (i === middle - 2) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        courseToChange.course;\r\n                  } else if (i === middle - 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"Tutorial\";\r\n                  } else if (i === middle) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        courseToChange.lecture[lectureIndex].tutorial[\r\n                            tutorialIndex\r\n                            ].startTime;\r\n                  } else if (i === middle + 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n                  } else if (i === middle + 2) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        courseToChange.lecture[lectureIndex].tutorial[\r\n                            tutorialIndex\r\n                            ].endTime;\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"<br />\";\r\n                  }\r\n\r\n                  if (\r\n                      colorChosen == \"#795548\" ||\r\n                      colorChosen == \"#ff5722\" ||\r\n                      colorChosen == \"#607d8b\" ||\r\n                      colorChosen == \"#009688\" ||\r\n                      colorChosen == \"#f44336\" ||\r\n                      colorChosen == \"#9c27b0\" ||\r\n                      colorChosen == \"#673ab7\" ||\r\n                      colorChosen == \"#3f51b5\"\r\n                  ) {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"beige\";\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"black\";\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        if (courseToChange.lab.length != 0) {\r\n          for (let l = 0; l < courseToChange.lab[labIndex].days.length; l++) {\r\n            // add lab\r\n\r\n            let initial = this.timeToNum(\r\n                courseToChange.lab[labIndex].startTime\r\n            );\r\n            let final =\r\n                this.timeToNum(courseToChange.lab[labIndex].endTime) - 1;\r\n            let middle = parseInt((initial + final) / 2);\r\n\r\n            if (final - initial <= 3) {\r\n              for (let i = 0; i < 61; i++) {\r\n                if (initial <= i && final >= i) {\r\n                  let dayOfTheWeek = courseToChange.lab[labIndex].days[l] + \"-\";\r\n                  document.getElementById(\r\n                      dayOfTheWeek + i\r\n                  ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                  if (i === middle - 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        courseToChange.course;\r\n                  } else if (i === middle) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML = \"Lab\";\r\n                  } else if (i === middle + 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        courseToChange.lab[labIndex].startTime +\r\n                        \"-\" +\r\n                        courseToChange.lab[labIndex].endTime;\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"<br />\";\r\n                  }\r\n\r\n                  if (\r\n                      colorChosen == \"#795548\" ||\r\n                      colorChosen == \"#ff5722\" ||\r\n                      colorChosen == \"#607d8b\" ||\r\n                      colorChosen == \"#009688\" ||\r\n                      colorChosen == \"#f44336\" ||\r\n                      colorChosen == \"#9c27b0\" ||\r\n                      colorChosen == \"#673ab7\" ||\r\n                      colorChosen == \"#3f51b5\"\r\n                  ) {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"beige\";\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"black\";\r\n                  }\r\n                }\r\n              }\r\n            } else {\r\n              for (let i = 0; i < 61; i++) {\r\n                if (initial <= i && final >= i) {\r\n                  let dayOfTheWeek = courseToChange.lab[labIndex].days[l] + \"-\";\r\n                  document.getElementById(\r\n                      dayOfTheWeek + i\r\n                  ).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                  if (i === middle - 2) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        courseToChange.course;\r\n                  } else if (i === middle - 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML = \"Lab\";\r\n                  } else if (i === middle) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        courseToChange.lab[labIndex].startTime;\r\n                  } else if (i === middle + 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n                  } else if (i === middle + 2) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        courseToChange.lab[labIndex].endTime;\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML =\r\n                        \"<br />\";\r\n                  }\r\n\r\n                  if (\r\n                      colorChosen == \"#795548\" ||\r\n                      colorChosen == \"#ff5722\" ||\r\n                      colorChosen == \"#607d8b\" ||\r\n                      colorChosen == \"#009688\" ||\r\n                      colorChosen == \"#f44336\" ||\r\n                      colorChosen == \"#9c27b0\" ||\r\n                      colorChosen == \"#673ab7\" ||\r\n                      colorChosen == \"#3f51b5\"\r\n                  ) {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"beige\";\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).style.color =\r\n                        \"black\";\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      document.getElementById(\"timeConflict\").innerHTML = \"No Results\";\r\n      this.setState({ showConflict: \"visible\", showConflictForFinalize: true });\r\n      this.removeAll();\r\n    }\r\n  }\r\n\r\n  filterTutorialOptions(theName) {\r\n    let tuto = document.getElementById(theName + \"tutSection\");\r\n    let selected_lec = document.getElementById(theName + \"lecSection\");\r\n    let chosen_lec;\r\n    for (let i = 0; i < this.state.selectedCourses.length; i++) {\r\n      for (\r\n          let j = 0;\r\n          j < this.state.selectedCourses[i][0].lecture.length;\r\n          j++\r\n      ) {\r\n        if (\r\n            this.state.selectedCourses[i][0].lecture[j].section ===\r\n            selected_lec.value\r\n        ) {\r\n          chosen_lec = this.state.selectedCourses[i][0].lecture[j];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    let x = chosen_lec.tutorial.map(\r\n        tut => \"<option>\" + tut.section + \"</option>\"\r\n    );\r\n    tuto.innerHTML = x;\r\n  }\r\n\r\n  render() {\r\n\r\n    let myAddedClasses = this.state.selectedCourses.map(theClass => (\r\n        <option value={theClass[0].course}>{theClass[0].course}</option>\r\n    ));\r\n\r\n    let i = 0;\r\n    let chosenClass;\r\n    let x = this.state.selectedCourses.map(element => (\r\n        <tr id={element[0].course} style={{ backgroundColor: element[4] }}>\r\n          <td>\r\n            <div>\r\n              <input type=\"checkbox\" checked /> &nbsp;\r\n              <strong>{element[0].course}</strong>\r\n              <br />\r\n              <strong>{element[0].name}</strong> <br />\r\n              {/* //////////////////////////////////////////////// */}\r\n              <label>LEC:&nbsp;</label>\r\n              <select\r\n                  id={element[0].course + \"lecSection\"}\r\n                  defaultValue={this.state.defaultValueLecture}\r\n                  onChange={() => this.filterTutorialOptions(element[0].course)}\r\n              >\r\n                {element[0].lecture.map(theLec => (\r\n                    <option>{theLec.section}</option>\r\n                ))}\r\n              </select>\r\n              &nbsp;\r\n              &nbsp;\r\n              <label\r\n                  for={element[0].course + \"tutSection\"}\r\n                  style={{\r\n                    visibility:\r\n                        element[0].lecture[0].tutorial.length === 0\r\n                            ? \"hidden\"\r\n                            : \"visible\"\r\n                  }}\r\n              >\r\n                TUT:&nbsp;\r\n              </label>\r\n              <select\r\n                  defaultValue={this.state.defaultValueTutorial}\r\n                  id={element[0].course + \"tutSection\"}\r\n                  style={{\r\n                    visibility:\r\n                        element[0].lecture[0].tutorial.length === 0\r\n                            ? \"hidden\"\r\n                            : \"visible\"\r\n                  }}\r\n              >\r\n                {element[0].lecture[0].tutorial.map(theTut => (\r\n                    <option>{theTut.section}</option>\r\n                ))}\r\n              </select>\r\n              {/* ////////////////////////////////////////////////  */}\r\n              &nbsp;\r\n              &nbsp;\r\n              <label\r\n                  for={element[0].course + \"labSection\"}\r\n                  style={{\r\n                    visibility:\r\n                        element[0].lab.length === 0 ? \"hidden\" : \"visible\"\r\n                  }}\r\n              >\r\n                LAB:&nbsp;\r\n              </label>\r\n              <select\r\n                  defaultValue={this.state.defaultValueLab}\r\n                  id={element[0].course + \"labSection\"}\r\n                  style={{\r\n                    visibility:\r\n                        element[0].lab.length === 0 ? \"hidden\" : \"visible\"\r\n                  }}\r\n              >\r\n                {element[0].lab.map(element1 => (\r\n                    <option>{element1.section}</option>\r\n                ))}\r\n              </select>{\" \"}\r\n              &nbsp;\r\n              {/*<select>\r\n              {element[0].lecture.map(element1 => (\r\n                <option>{element1.section}</option>\r\n              ))}\r\n            </select> &nbsp;\r\n            <select>\r\n            {element[0].lecture[0].tutorial.map(element1 => (\r\n                <option>{element1.section}</option>\r\n              ))}\r\n            </select>*/}\r\n              <Button\r\n                  text=\"Change Section\"\r\n                  onClick={() => this.changeSection(element[0].course)}\r\n              />\r\n              <br />\r\n              <span style={{ fontWeight: \"bold\" }}>Prerequisites: </span>\r\n              <span id=\"prerequisites\">\r\n              {element[0].prereqs.map(pre => pre + \" \")}\r\n            </span>\r\n              &nbsp; &nbsp; | &nbsp; &nbsp;\r\n              <span style={{ fontWeight: \"bold\" }}>Co-requisites: </span>\r\n              <span id=\"corequisites\">\r\n              {element[0].coreqs.map(cor => cor + \" \")}\r\n            </span>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n    ));\r\n\r\n    let table = (\r\n        <Table\r\n            id=\"selected-course-table\"\r\n            className=\"rounded\"\r\n            striped\r\n            bordered\r\n            hover\r\n            variant=\"dark\"\r\n        >\r\n          {x}\r\n        </Table>\r\n    );\r\n\r\n    let allOptions = this.state.courses.map(choice => (\r\n        <option value={choice.course} />\r\n    ));\r\n\r\n    const currentYear = new Date().getFullYear();\r\n    var yeetus = [];\r\n    for (let i = 1; i < 8; i++) {\r\n      /*Basically choose a year from current year up to 8 years later. Don't touch this*/\r\n      yeetus[i] = currentYear + i;\r\n    }\r\n    const years = yeetus.map(jimmy => <option>{jimmy}</option>);\r\n\r\n    const data = this.state.finalizedClassArray;\r\n    const data2 = this.state.showConflictForFinalize;\r\n\r\n    return (\r\n        <div className=\"container\">\r\n          <div className=\"jumbotron j-greetings\">\r\n            <div style={{ display: this.state.showSelection }}>\r\n              <h2 className=\"display-4\">Select Your Semester</h2>\r\n              <hr color=\"#7e1530\" />\r\n              <div style={{ textAlign: \"center\" }}>\r\n                <Form>\r\n                  <Form.Group controlId=\"semester\">\r\n                    <Form.Label>Select Semester</Form.Label>\r\n                    <Form.Control\r\n                        as=\"select\"\r\n                        onChange={this.handleSemesterChange}\r\n                    >\r\n                      <option selected=\"selected\">Fall</option>\r\n                      <option>Winter</option>\r\n                      <option>Summer</option>\r\n                    </Form.Control>\r\n                  </Form.Group>\r\n                </Form>\r\n\r\n                <Form>\r\n                  <Form.Group controlId=\"semester-year\">\r\n                    <Form.Label>Select Year</Form.Label>\r\n                    <Form.Control\r\n                        as=\"select\"\r\n                        selected={currentYear}\r\n                        onChange={this.handleSemesterChange}\r\n                    >\r\n                      <option selected=\"selected\">{currentYear}</option>\r\n                      {years}\r\n                    </Form.Control>\r\n                  </Form.Group>\r\n                </Form>\r\n              </div>\r\n\r\n              <LoadingScreen\r\n                  loading={this.state.isLoading}\r\n                  bgColor=\"#f1f1f1\"\r\n                  spinnerColor=\"#b30000\"\r\n                  textColor=\"#676767\"\r\n                  logoSrc=\"https://user-images.githubusercontent.com/36492119/52869487-bdcd5180-3113-11e9-93d4-155882376646.png\"\r\n                  text=\"Receiving Courses\"\r\n              />\r\n              {/*<h2 className=\"display-4\">Course Selection Menu</h2>\r\n          <hr color=\"#7e1530\" />*/}\r\n              <br />\r\n\r\n              <div className=\"container\">\r\n                <div className=\"row bg-secondary text-white rounded\">\r\n                  <div className=\"col\">\r\n                    <label for=\"add-class1\">\r\n                      <h6 id=\"test\">Select Course</h6>\r\n                    </label>\r\n                    <input\r\n                        type=\"text\"\r\n                        list=\"add-class2\"\r\n                        id=\"add-class1\"\r\n                        className=\"btn btn-dark\"\r\n                        placeholder=\"Course Number\"\r\n                    />\r\n                    <datalist id=\"add-class2\">{allOptions}</datalist>\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <Button\r\n                        text=\"Select\"\r\n                        onClick={this.addClass1}\r\n                        style={{ float: \"left\" }}\r\n                    />\r\n                    <Button\r\n                        text=\"Remove\"\r\n                        onClick={this.remove1}\r\n                        style={{ float: \"left\" }}\r\n                    />\r\n                    <Button\r\n                        text=\"Add by Upload\"\r\n                        onClick={this.openUpload}\r\n                        style={{ float: \"left\" }}\r\n                    />\r\n                    <Button\r\n                        text=\"Select\"\r\n                        onClick={this.addClass1}\r\n                        style={{ float: \"left\" }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <p\r\n                    id=\"addStatus1\"\r\n                    style={{ color: \"red\", visibility: this.state.show2 }}\r\n                />\r\n              </div>\r\n              <div className=\"mt-4\">{table}</div>\r\n\r\n              <Button text=\"Generate Schedule\" onClick={this.handleDisplay} />\r\n\r\n              <Button text=\"Color Selection\" onClick={this.openRubiat} />\r\n\r\n              <Button text=\"Try All\" onClick={this.tryAll} />\r\n              <Button text=\"Send to Calender\" onClick={this.sendCalendar} />\r\n              <Link to=\"/hamburger\">\r\n                <Button text=\"Hamburger\" />\r\n              </Link>\r\n              <Link to=\"/build-seq-or-sem\">\r\n                <Button text=\"Main Selector\" />\r\n              </Link>\r\n\r\n              <Link to=\"/\">\r\n                <Button text=\"Home Page\" />\r\n              </Link>\r\n            </div>\r\n\r\n            <div style={{ display: this.state.showSchedule }}>\r\n              {/*<hr color=\"#7e1530\" />*/}\r\n              <h2 className=\"display-5\">\r\n                {this.state.semester} {this.state.year} Semester\r\n              </h2>\r\n              <p className=\"lead\" />\r\n              <h4\r\n                  id=\"timeConflict\"\r\n                  style={{ color: \"red\", visibility: this.state.showConflict }}\r\n              />\r\n\r\n              <div\r\n                  class=\"btn-group\"\r\n                  style={{ visibility: this.state.showTryAll }}\r\n              >\r\n                <Button text=\"Previous\" onClick={this.tryAll1} />\r\n                <p>\r\n                  {this.state.validTryAll.length === 1\r\n                      ? 0\r\n                      : this.state.tryAllIndex + 1}\r\n                  /\r\n                  {this.state.validTryAll.length === 1\r\n                      ? 0\r\n                      : this.state.validTryAll.length}\r\n                </p>\r\n                <Button text=\"Next\" onClick={this.tryAll2} />\r\n              </div>\r\n\r\n              <div>\r\n                {\" \"}\r\n                {/* Schedule */}\r\n                <Table>\r\n                  <tbody>\r\n                  <tr>\r\n                    <td>\r\n                      <Table>\r\n                        <tbody>\r\n                        <th>Time</th>\r\n\r\n                        <tr>\r\n                          <td>\r\n                            {times.time.map(element => (\r\n                                <div>{element.startTime}</div>\r\n                            ))}\r\n                          </td>\r\n                        </tr>\r\n                        </tbody>\r\n                      </Table>\r\n                    </td>\r\n\r\n                    {this.state.weekdays.map(days => (\r\n                        <td>\r\n                          <table>\r\n                            <tbody>\r\n                            <th>{days}</th>\r\n                            <tr>\r\n                              <td>\r\n                                {times.time.map(element => {\r\n                                  let myID = days + \"-\" + element.num;\r\n                                  return <div id={myID}>----------------</div>;\r\n                                })}\r\n                              </td>\r\n                            </tr>\r\n                            </tbody>\r\n                          </table>\r\n                        </td>\r\n                    ))}\r\n                  </tr>\r\n                  </tbody>\r\n                </Table>\r\n              </div>\r\n\r\n              {/* <Button text=\"Add A Class\" onClick={this.handleShow} />\r\n          <Button text=\"Remove A Class\" onClick={this.handleShow1} /> */}\r\n              <Button text=\"Color Selection\" onClick={this.openRubiat} />\r\n              <Button text=\"Download Schedule\" onClick={this.downloadJson} />\r\n              <Link\r\n                  to={{\r\n                    pathname: \"/finalize-export-sem\",\r\n                    selectedCourses: data,\r\n                    theShowConflict: data2\r\n                  }}\r\n              >\r\n                <Button text=\"Finalize\" />\r\n              </Link>\r\n\r\n              <Button\r\n                  text=\"Back To Select Courses\"\r\n                  onClick={this.handleDisplay1}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* <Modal show={this.state.show} onHide={this.handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Add A Course</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body style={{ textAlign: \"center\" }}>\r\n            <p>Select A Course You'd Like To Add </p> <br />\r\n            <Form inline style={{ textAlign: \"center\" }}>\r\n              <input id=\"add-class\" type=\"text\" />\r\n              <Button type=\"submit\" text=\"Add Course\" onClick={this.onAdd} />\r\n            </Form>\r\n            <p id=\"addStatus\" style={{ color: \"red\" }} />\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button\r\n              variant=\"secondary\"\r\n              onClick={this.handleClose}\r\n              text=\"Close\"\r\n            />\r\n            <Button variant=\"primary\" text=\"Save Changes\" />\r\n          </Modal.Footer>\r\n        </Modal> */}\r\n\r\n          {/* <Modal show={this.state.show1} onHide={this.handleClose1}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Remove A Course</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body style={{ textAlign: \"center\" }}>\r\n            <p>Select A Course You'd Like To Remove </p> <br />\r\n            <Form inline style={{ textAlign: \"center\" }}>\r\n              <FormControl\r\n                type=\"text\"\r\n                placeholder=\"Search\"\r\n                className=\" mr-sm-2\"\r\n                style={{ width: \"100%\", textAlign: \"center\" }}\r\n              />\r\n              <Button type=\"submit\" text=\"Remove Course\" />\r\n            </Form>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button\r\n              variant=\"secondary\"\r\n              onClick={this.handleClose1}\r\n              text=\"Close\"\r\n            />\r\n            <Button variant=\"primary\" text=\"Save Changes\" />\r\n          </Modal.Footer>\r\n      </Modal> */}\r\n\r\n          <Modal show={this.state.rubiat} onHide={this.closeRubiat}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Course Colour Selection</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body style={{ textAlign: \"center\" }}>\r\n              <p>Select A Course and Color </p> <br />\r\n              <Form inline style={{ textAlign: \"center\" }}>\r\n                <div className=\"container\" style={{ width: \"40%\" }}>\r\n                  <select id=\"colorChanger\">{myAddedClasses}</select>\r\n                </div>\r\n                <Button text=\"Color Selection\" onClick={this.colourRubiatO} />\r\n              </Form>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"primary\" onClick={this.closeRubiat} text=\"Close\" />\r\n            </Modal.Footer>\r\n          </Modal>\r\n\r\n          <Modal show={this.state.colorS} onHide={this.colourRubiatC}>\r\n            <Modal.Header closeButton style={{ backgroundColor: \"#82100d\" }}>\r\n              <Modal.Title>Color Selector</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body style={{ textAlign: \"center\" }}>\r\n              <p style={{ margin: \"0px 0px 15px 0px\" }}>\r\n                Select a Color\r\n              </p>\r\n              <div style={{margin: \"0px 0px 0px 115px\"}}>\r\n                <CirclePicker onChangeComplete={this.handleChangeComplete} />\r\n              </div>\r\n            </Modal.Body>\r\n\r\n            <Modal.Footer style={{ backgroundColor: \"#82100d\" }}>\r\n              <Button\r\n                  variant=\"primary\"\r\n                  onClick={this.colourRubiatC}\r\n                  text=\"Close\"\r\n              />\r\n            </Modal.Footer>\r\n          </Modal>\r\n\r\n          <Modal show={this.state.showUpload} onHide={this.closeUpload}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Add Via Upload</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body style={{ textAlign: \"center\" }}>\r\n              <div>\r\n                <input\r\n                    type=\"file\"\r\n                    name=\"filename\"\r\n                    className=\"btn btn-dark\"\r\n                    onChange={this.handleSelectedFile}\r\n                />\r\n                <button\r\n                    className=\"btn btn-dark\"\r\n                    value=\"upload\"\r\n                    onClick={this.handleUpload}\r\n                >\r\n                  Upload\r\n                </button>\r\n              </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"primary\" onClick={this.closeUpload} text=\"Close\" />\r\n            </Modal.Footer>\r\n          </Modal>\r\n        </div>\r\n    );\r\n  }\r\n}\r\nexport default CourseSelectionMenu;\r\n"]},"metadata":{},"sourceType":"module"}