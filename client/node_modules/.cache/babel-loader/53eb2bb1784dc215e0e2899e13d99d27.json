{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\MonPC\\\\Desktop\\\\School\\\\SOEN\\\\SOEN 341 Software Process'\\\\Project\\\\cssd\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\MonPC\\\\Desktop\\\\School\\\\SOEN\\\\SOEN 341 Software Process'\\\\Project\\\\cssd\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\MonPC\\\\Desktop\\\\School\\\\SOEN\\\\SOEN 341 Software Process'\\\\Project\\\\cssd\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\MonPC\\\\Desktop\\\\School\\\\SOEN\\\\SOEN 341 Software Process'\\\\Project\\\\cssd\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\MonPC\\\\Desktop\\\\School\\\\SOEN\\\\SOEN 341 Software Process'\\\\Project\\\\cssd\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\MonPC\\\\Desktop\\\\School\\\\SOEN\\\\SOEN 341 Software Process'\\\\Project\\\\cssd\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\MonPC\\\\Desktop\\\\School\\\\SOEN\\\\SOEN 341 Software Process'\\\\Project\\\\cssd\\\\client\\\\src\\\\CourseSelectionMenu.js\";\nimport React from \"react\";\nimport Button from \"./components/Button\";\nimport { Link } from \"react-router-dom\";\nimport { Modal, Form, FormControl, Table } from \"react-bootstrap\";\nimport * as times from \"./data/calendar.json\";\nimport * as data from \"./data/courses.json\";\nimport * as data1 from \"./data/courses2.json\";\nimport { CirclePicker } from \"react-color\";\nimport reactCSS from \"reactcss\";\nimport LoadingScreen from 'react-loading-screen';\nimport JsonLecture from \"./JsonLecture\";\nimport JsonClass from \"./JsonClass\";\nimport JsonTut from \"./JsonTut\";\nimport Course from \"./Course\";\n\nvar CourseSelectionMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CourseSelectionMenu, _React$Component);\n\n  function CourseSelectionMenu(props, context) {\n    var _this;\n\n    _classCallCheck(this, CourseSelectionMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CourseSelectionMenu).call(this, props, context));\n\n    _this.timeToNum = function (time) {\n      // time parameter represents start time or end time of a class\n      // algo for rounding since table is jumps of 15 mins\n      var time1, time2;\n      var time1Minute, time2Minute;\n      var timeHour = time.substring(0, time.indexOf(\":\"));\n      var timeMinute = time.substring(time.indexOf(\":\") + 1);\n      timeMinute = parseInt(timeMinute);\n      time1Minute = timeMinute - 5;\n      time2Minute = timeMinute + 5;\n\n      if (time1Minute == -5) {\n        time2 = timeHour + \":0\" + time2Minute; // @@:05\n\n        timeHour = parseInt(timeHour);\n        timeHour--;\n        time1 = timeHour + \":\" + \"55\";\n      } else if (time2Minute == 60) {\n        time1 = timeHour + \":\" + time1Minute; // @@:50\n\n        timeHour = parseInt(timeHour);\n        timeHour++;\n        time2 = timeHour + \":\" + \"00\";\n      } else if (time1Minute == 0) {\n        time1 = timeHour + \":00\"; // @@:00 instead of @@:0\n\n        time2 = timeHour + \":\" + time2Minute; // @@:10\n      } else {\n        time1 = timeHour + \":\" + time1Minute;\n        time2 = timeHour + \":\" + time2Minute;\n      }\n\n      for (var i = 0; i < 61; i++) {\n        if (time1 === times.time[i].startTime || time === times.time[i].startTime || time2 === times.time[i].startTime) return times.time[i].num;\n      }\n\n      return null;\n    };\n\n    _this.handleSelectedFile = function (event) {\n      _this.setState({\n        uploadedFile: event.target.files[0]\n      });\n    };\n\n    _this.handleUpload = function () {\n      var file = _this.state.uploadedFile;\n      var reader = new FileReader();\n      reader.readAsText(file);\n\n      reader.onload = function () {\n        //console.log(reader.result);\n        var JSONified = JSON.parse(reader.result);\n\n        for (var i = 0; i < JSONified.length; i++) {\n          // document.getElementById(\"add-class1\").value = JSONified[i].course;\n          // this.addClass();\n          var array = _this.state.selectedCourses; //Keep track of user selected classes\n\n          var input = JSONified[i][0].course;\n          var classList = _this.state.courses2; //Gets the whole list of courses of concordia\n\n          var addedClass = void 0;\n          var classExists = false;\n\n          for (var _i = 0; _i < classList.length; _i++) {\n            if (classList[_i].course === input) {\n              for (var j = 0; j < _this.state.selectedCourses.length; j++) {\n                if (_this.state.selectedCourses[j][0].course === input) {\n                  document.getElementById(\"addStatus1\").innerHTML = \"This class is already added.\";\n\n                  _this.setState({\n                    show2: \"visible\"\n                  });\n\n                  return;\n                }\n              }\n\n              addedClass = classList[_i];\n              classExists = true;\n\n              _this.setState({\n                show2: \"hidden\"\n              });\n\n              break;\n            }\n          }\n\n          if (classExists === false) {\n            document.getElementById(\"addStatus1\").innerHTML = \"Invalid Class/Class Not Found\";\n\n            _this.setState({\n              show2: \"visible\"\n            });\n\n            return;\n          }\n\n          var colorChosen = void 0;\n\n          for (var _j = 0; _j < _this.state.colors.length; _j++) {\n            if (_this.state.colors[_j][1] == 0) {\n              colorChosen = _this.state.colors[_j][0];\n              _this.state.colors[_j][1] = 1;\n              break;\n            }\n          }\n\n          if (colorChosen === null || colorChosen === undefined) {\n            return;\n          }\n\n          var lectureIndex = JSONified[i][1];\n          var tutorialIndex = JSONified[i][2];\n          var labIndex = JSONified[i][3];\n\n          for (var _j2 = 0; _j2 < addedClass.lecture[lectureIndex].days.length; _j2++) {\n            // add lecture\n            var initial = _this.timeToNum(addedClass.lecture[lectureIndex].startTime);\n\n            var final = _this.timeToNum(addedClass.lecture[lectureIndex].endTime) - 1;\n            var middle = parseInt((initial + final) / 2);\n\n            for (var _i2 = 0; _i2 < 61; _i2++) {\n              if (initial <= _i2 && final >= _i2) {\n                var dayOfTheWeek = addedClass.lecture[lectureIndex].days[_j2] + \"-\";\n                document.getElementById(dayOfTheWeek + _i2).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                if (_i2 === middle - 1) {\n                  document.getElementById(dayOfTheWeek + _i2).innerHTML = addedClass.course;\n                } else if (_i2 === middle) {\n                  document.getElementById(dayOfTheWeek + _i2).innerHTML = addedClass.lecture[lectureIndex].startTime;\n                } else if (_i2 === middle + 1) {\n                  document.getElementById(dayOfTheWeek + _i2).innerHTML = \"to\";\n                } else if (_i2 === middle + 2) {\n                  document.getElementById(dayOfTheWeek + _i2).innerHTML = addedClass.lecture[lectureIndex].endTime;\n                } else {\n                  document.getElementById(dayOfTheWeek + _i2).innerHTML = \"<br />\";\n                }\n              }\n            }\n          }\n\n          for (var k = 0; k < addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days.length; k++) {\n            // add tutorial\n            var _initial = _this.timeToNum(addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime);\n\n            var _final = _this.timeToNum(addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime) - 1;\n\n            var _middle = parseInt((_initial + _final) / 2);\n\n            if (_final - _initial <= 3) {\n              for (var _i3 = 0; _i3 < 61; _i3++) {\n                if (_initial <= _i3 && _final >= _i3) {\n                  var _dayOfTheWeek = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days[k] + \"-\";\n\n                  document.getElementById(_dayOfTheWeek + _i3).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                  if (_i3 === _middle - 1) {\n                    document.getElementById(_dayOfTheWeek + _i3).innerHTML = addedClass.course;\n                  } else if (_i3 === _middle) {\n                    document.getElementById(_dayOfTheWeek + _i3).innerHTML = \"Tutorial\";\n                  } else if (_i3 === _middle + 1) {\n                    document.getElementById(_dayOfTheWeek + _i3).innerHTML = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime + \"-\" + addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime;\n                  } else {\n                    document.getElementById(_dayOfTheWeek + _i3).innerHTML = \"<br />\";\n                  }\n                }\n              }\n            } else {\n              for (var _i4 = 0; _i4 < 61; _i4++) {\n                if (_initial <= _i4 && _final >= _i4) {\n                  var _dayOfTheWeek2 = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days[k] + \"-\";\n\n                  document.getElementById(_dayOfTheWeek2 + _i4).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                  if (_i4 === _middle - 2) {\n                    document.getElementById(_dayOfTheWeek2 + _i4).innerHTML = addedClass.course;\n                  } else if (_i4 === _middle - 1) {\n                    document.getElementById(_dayOfTheWeek2 + _i4).innerHTML = \"Tutorial\";\n                  } else if (_i4 === _middle) {\n                    document.getElementById(_dayOfTheWeek2 + _i4).innerHTML = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime;\n                  } else if (_i4 === _middle + 1) {\n                    document.getElementById(_dayOfTheWeek2 + _i4).innerHTML = \"to\";\n                  } else if (_i4 === _middle + 2) {\n                    document.getElementById(_dayOfTheWeek2 + _i4).innerHTML = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime;\n                  } else {\n                    document.getElementById(_dayOfTheWeek2 + _i4).innerHTML = \"<br />\";\n                  }\n                }\n              }\n            }\n          }\n\n          if (addedClass.lab.length != 0) {\n            for (var l = 0; l < addedClass.lab[labIndex].days.length; l++) {\n              // add lab\n              var _initial2 = _this.timeToNum(addedClass.lab[labIndex].startTime);\n\n              var _final2 = _this.timeToNum(addedClass.lab[labIndex].endTime) - 1;\n\n              var _middle2 = parseInt((_initial2 + _final2) / 2);\n\n              if (_final2 - _initial2 <= 3) {\n                for (var _i5 = 0; _i5 < 61; _i5++) {\n                  if (_initial2 <= _i5 && _final2 >= _i5) {\n                    var _dayOfTheWeek3 = addedClass.lab[labIndex].days[l] + \"-\";\n\n                    document.getElementById(_dayOfTheWeek3 + _i5).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                    if (_i5 === _middle2 - 1) {\n                      document.getElementById(_dayOfTheWeek3 + _i5).innerHTML = addedClass.course;\n                    } else if (_i5 === _middle2) {\n                      document.getElementById(_dayOfTheWeek3 + _i5).innerHTML = \"Lab\";\n                    } else if (_i5 === _middle2 + 1) {\n                      document.getElementById(_dayOfTheWeek3 + _i5).innerHTML = addedClass.lab[labIndex].startTime + \"-\" + addedClass.lab[labIndex].endTime;\n                    } else {\n                      document.getElementById(_dayOfTheWeek3 + _i5).innerHTML = \"<br />\";\n                    }\n                  }\n                }\n              } else {\n                for (var _i6 = 0; _i6 < 61; _i6++) {\n                  if (_initial2 <= _i6 && _final2 >= _i6) {\n                    var _dayOfTheWeek4 = addedClass.lab[labIndex].days[l] + \"-\";\n\n                    document.getElementById(_dayOfTheWeek4 + _i6).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                    if (_i6 === _middle2 - 2) {\n                      document.getElementById(_dayOfTheWeek4 + _i6).innerHTML = addedClass.course;\n                    } else if (_i6 === _middle2 - 1) {\n                      document.getElementById(_dayOfTheWeek4 + _i6).innerHTML = \"Lab\";\n                    } else if (_i6 === _middle2) {\n                      document.getElementById(_dayOfTheWeek4 + _i6).innerHTML = addedClass.lab[labIndex].startTime;\n                    } else if (_i6 === _middle2 + 1) {\n                      document.getElementById(_dayOfTheWeek4 + _i6).innerHTML = \"to\";\n                    } else if (_i6 === _middle2 + 2) {\n                      document.getElementById(_dayOfTheWeek4 + _i6).innerHTML = addedClass.lab[labIndex].endTime;\n                    } else {\n                      document.getElementById(_dayOfTheWeek4 + _i6).innerHTML = \"<br />\";\n                    }\n                  }\n                }\n              }\n            }\n          }\n\n          var oldColors = [];\n\n          for (var o = 0; o < _this.state.selectedCourses.length; o++) {\n            // get list of all the colors in the selection menu before change\n            oldColors[o] = document.getElementById(_this.state.selectedCourses[o][0].course).style.backgroundColor;\n          }\n\n          oldColors.push(colorChosen); // add the color of new course to the list also\n\n          _this.setState({\n            colorOfNewClass: oldColors\n          }); // when rendering the selection menu it will render it with all the old colors + the newly added color\n\n\n          var defaultValue1 = addedClass.lecture[lectureIndex].section + \"-\" + addedClass.lecture[lectureIndex].tutorial[tutorialIndex].section;\n          var defaultValue2 = \"\";\n\n          if (addedClass.lab.length != 0) {\n            defaultValue2 = addedClass.lab[labIndex].section + \"\";\n          }\n\n          _this.setState({\n            defaultValueLectureTutorial: defaultValue1,\n            defaultValueLab: defaultValue2\n          });\n\n          var array1 = [];\n          array1[0] = addedClass;\n          array1[1] = lectureIndex; //addedClass.lecture[0].section;\n\n          array1[2] = tutorialIndex; //addedClass.lecture[0].tutorial[0].section;\n\n          array1[3] = labIndex; //addedClass.lab[0].section;\n\n          array.push(array1);\n\n          _this.setState({\n            selectedCourses: array\n          });\n        }\n      };\n\n      _this.setState({\n        showUpload: false\n      });\n    };\n\n    _this.downloadJson = function () {\n      var courseArray = _this.state.selectedCourses;\n      var filename = \"schedule.json\";\n      var contentType = \"application/json;charset=utf-8;\";\n\n      if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n        var blob = new Blob([decodeURIComponent(encodeURI(JSON.stringify(courseArray)))], {\n          type: contentType\n        });\n        navigator.msSaveOrOpenBlob(blob, filename);\n      } else {\n        var file = document.createElement('a');\n        file.download = filename;\n        file.href = 'data:' + contentType + ',' + encodeURIComponent(JSON.stringify(courseArray));\n        file.target = '_blank';\n        document.body.appendChild(file);\n        file.click();\n        document.body.removeChild(file);\n      }\n    };\n\n    _this.handleChangeComplete = function (color) {\n      var courseNameInput = document.getElementById(\"colorChanger\").value; //Get user input comp248\n\n      var chosenClass; //class object\n      // instead of 'selectedCourses' it looped through 'classes' before\n\n      for (var i = 0; i < _this.state.selectedCourses.length; i++) {\n        if (courseNameInput === _this.state.selectedCourses[i][0].course) {\n          chosenClass = _this.state.selectedCourses[i];\n          break;\n        }\n      }\n\n      var lectureSection = chosenClass[1];\n      var tutorialSection = chosenClass[2];\n      var labSection = chosenClass[3];\n      document.getElementById(chosenClass[0].course).style.backgroundColor = color.hex;\n      var color1; // for (let j = 0; j < this.state.colors.length; j++) { wtf is this\n      //   if (this.state.colors[j][0] == color) {\n      //     this.state.colors[j][1] = 0;\n      //     break;\n      //   }\n      // }\n\n      for (var j = 0; j < chosenClass[0].lecture[lectureSection].days.length; j++) {\n        //added\n        for (var _i7 = 0; _i7 < 61; _i7++) {\n          var dayOfTheWeek = chosenClass[0].lecture[lectureSection].days[j] + \"-\";\n\n          if (_this.timeToNum(chosenClass[0].lecture[lectureSection].startTime) <= _i7 && _this.timeToNum(chosenClass[0].lecture[lectureSection].endTime) - 1 >= _i7) {\n            color1 = document.getElementById(dayOfTheWeek + _i7).style.backgroundColor;\n            document.getElementById(dayOfTheWeek + _i7).style.backgroundColor = color.hex; // (you can choose to select the return of a function)\n          }\n        }\n      }\n\n      for (var _j3 = 0; _j3 < chosenClass[0].lecture[lectureSection].tutorial[tutorialSection].days.length; _j3++) {\n        //added\n        for (var _i8 = 0; _i8 < 61; _i8++) {\n          var _dayOfTheWeek5 = chosenClass[0].lecture[lectureSection].tutorial[tutorialSection].days[_j3] + \"-\";\n\n          if (_this.timeToNum(chosenClass[0].lecture[lectureSection].tutorial[tutorialSection].startTime) <= _i8 && _this.timeToNum(chosenClass[0].lecture[lectureSection].tutorial[tutorialSection].endTime) - 1 >= _i8) {\n            //color1 = document.getElementById(dayOfTheWeek + i).style.backgroundColor;\n            document.getElementById(_dayOfTheWeek5 + _i8).style.backgroundColor = color.hex; // (you can choose to select the return of a function)\n          }\n        }\n      }\n\n      if (chosenClass[0].lab.length != 0) {\n        for (var _j4 = 0; _j4 < chosenClass[0].lab[labSection].days.length; _j4++) {\n          //added\n          for (var _i9 = 0; _i9 < 61; _i9++) {\n            var _dayOfTheWeek6 = chosenClass[0].lab[labSection].days[_j4] + \"-\";\n\n            if (_this.timeToNum(chosenClass[0].lab[labSection].startTime) <= _i9 && _this.timeToNum(chosenClass[0].lab[labSection].endTime) - 1 >= _i9) {\n              //color1 = document.getElementById(dayOfTheWeek + i).style.backgroundColor;\n              document.getElementById(_dayOfTheWeek6 + _i9).style.backgroundColor = color.hex; // (you can choose to select the return of a function)\n            }\n          }\n        }\n      }\n\n      for (var _j5 = 0; _j5 < _this.state.colors.length; _j5++) {\n        if (_this.state.colors[_j5][0] == color1) {\n          _this.state.colors[_j5][1] = 0;\n          break;\n        }\n      }\n    };\n\n    _this.addClass = function () {\n      var array = _this.state.selectedCourses; //Keep track of user selected classes\n\n      var input = document.getElementById(\"add-class1\").value; //Get user input (Course Code)\n\n      var classList = _this.state.courses; //Gets the whole list of courses of concordia\n\n      var addedClass;\n      var classExists = false;\n\n      for (var i = 0; i < classList.length; i++) {\n        if (classList[i].course === input) {\n          for (var j = 0; j < _this.state.selectedCourses.length; j++) {\n            if (_this.state.selectedCourses[j].course === input) {\n              document.getElementById(\"addStatus1\").innerHTML = \"This class is already added.\";\n\n              _this.setState({\n                show2: \"visible\"\n              });\n\n              return;\n            }\n          }\n\n          addedClass = classList[i];\n          classExists = true;\n\n          _this.setState({\n            show2: \"hidden\"\n          });\n\n          break;\n        }\n      }\n\n      if (classExists === false) {\n        document.getElementById(\"addStatus1\").innerHTML = \"Invalid Class/Class Not Found\";\n\n        _this.setState({\n          show2: \"visible\"\n        });\n\n        return;\n      }\n\n      var n = 1;\n\n      var initial = _this.timeToNum(addedClass.startTime);\n\n      var final = _this.timeToNum(addedClass.endTime);\n\n      var middle = (initial + final) / 2;\n      var colorChosen;\n\n      for (var _j6 = 0; _j6 < _this.state.colors.length; _j6++) {\n        if (_this.state.colors[_j6][1] == 0) {\n          colorChosen = _this.state.colors[_j6][0];\n          _this.state.colors[_j6][1] = 1;\n          break;\n        }\n      }\n\n      if (colorChosen === null || colorChosen === undefined) {\n        return;\n      }\n\n      for (var k = 0; k < addedClass.ta.length; k++) {\n        for (var _j7 = 0; _j7 < addedClass.ta[k].days.length; _j7++) {\n          var dayOfTheWeek = addedClass.ta[k].days[_j7] + \"-\";\n          var _n = 1;\n\n          var _initial3 = _this.timeToNum(addedClass.ta[k].startTime);\n\n          var _final3 = _this.timeToNum(addedClass.ta[k].endTime);\n\n          var _middle3 = (_initial3 + _final3) / 2;\n\n          for (var _i10 = 0; _i10 < 61; _i10++) {\n            if (_this.timeToNum(addedClass.ta[k].startTime) <= _i10 && _this.timeToNum(addedClass.ta[k].endTime) >= _i10) {\n              document.getElementById(dayOfTheWeek + _i10).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n              if (_i10 === _middle3 - 2) {\n                document.getElementById(dayOfTheWeek + _i10).innerHTML = addedClass.course;\n                _n++;\n              } else if (_i10 === _middle3 - 1) {\n                document.getElementById(dayOfTheWeek + _i10).innerHTML = addedClass.ta[k].type;\n                _n++;\n              } else if (_i10 === _middle3) {\n                document.getElementById(dayOfTheWeek + _i10).innerHTML = addedClass.ta[k].startTime;\n                _n++;\n              } else if (_i10 === _middle3 + 1) {\n                document.getElementById(dayOfTheWeek + _i10).innerHTML = \"to\";\n                _n++;\n              } else if (_i10 === _middle3 + 2) {\n                document.getElementById(dayOfTheWeek + _i10).innerHTML = addedClass.ta[k].endTime;\n                _n++;\n              } else {\n                document.getElementById(dayOfTheWeek + _i10).innerHTML = \"<br />\";\n              }\n            }\n          }\n        }\n      }\n\n      for (var _j8 = 0; _j8 < addedClass.days.length; _j8++) {\n        for (var _i11 = 0; _i11 < 61; _i11++) {\n          if (initial <= _i11 && final >= _i11) {\n            var _dayOfTheWeek7 = addedClass.days[_j8] + \"-\";\n\n            document.getElementById(_dayOfTheWeek7 + _i11).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n            if (_i11 === middle - 1) {\n              document.getElementById(_dayOfTheWeek7 + _i11).innerHTML = addedClass.course;\n              n++;\n            } else if (_i11 === middle) {\n              document.getElementById(_dayOfTheWeek7 + _i11).innerHTML = addedClass.startTime;\n              n++;\n            } else if (_i11 === middle + 1) {\n              document.getElementById(_dayOfTheWeek7 + _i11).innerHTML = \"to\";\n              n++;\n            } else if (_i11 === middle + 2) {\n              document.getElementById(_dayOfTheWeek7 + _i11).innerHTML = addedClass.endTime;\n              n++;\n            } else {\n              document.getElementById(_dayOfTheWeek7 + _i11).innerHTML = \"<br />\";\n            }\n          }\n        }\n      }\n\n      var oldColors = [];\n\n      for (var o = 0; o < _this.state.selectedCourses.length; o++) {\n        // get list of all the colors in the selection menu before change\n        oldColors[o] = document.getElementById(_this.state.selectedCourses[o].course).style.backgroundColor;\n      }\n\n      oldColors.push(colorChosen); // add the color of new course to the list also\n\n      _this.setState({\n        colorOfNewClass: oldColors\n      }); // when rendering the selection menu it will render it with all the old colors + the newly added color\n\n\n      array.push(addedClass);\n\n      _this.setState({\n        selectedCourses: array\n      });\n    };\n\n    _this.addClass1 = function () {\n      var array = _this.state.selectedCourses; //Keep track of user selected classes\n\n      var input = document.getElementById(\"add-class1\").value; //Get user input (Course Code)\n\n      var classList = _this.state.courses2; //Gets the whole list of courses of concordia\n\n      var addedClass;\n      var classExists = false;\n\n      for (var i = 0; i < classList.length; i++) {\n        if (classList[i].course === input) {\n          for (var j = 0; j < _this.state.selectedCourses.length; j++) {\n            if (_this.state.selectedCourses[j][0].course === input) {\n              document.getElementById(\"addStatus1\").innerHTML = \"This class is already added.\";\n\n              _this.setState({\n                show2: \"visible\"\n              });\n\n              return;\n            }\n          }\n\n          addedClass = classList[i];\n          classExists = true;\n\n          _this.setState({\n            show2: \"hidden\"\n          });\n\n          break;\n        }\n      }\n\n      if (classExists === false) {\n        document.getElementById(\"addStatus1\").innerHTML = \"Invalid Class/Class Not Found\";\n\n        _this.setState({\n          show2: \"visible\"\n        });\n\n        return;\n      }\n\n      var colorChosen;\n\n      for (var _j9 = 0; _j9 < _this.state.colors.length; _j9++) {\n        if (_this.state.colors[_j9][1] == 0) {\n          colorChosen = _this.state.colors[_j9][0];\n          _this.state.colors[_j9][1] = 1;\n          break;\n        }\n      }\n\n      if (colorChosen === null || colorChosen === undefined) {\n        return;\n      } // right now it's hardcoded to always add the first lecture section of a new class \"[0]\"\n      // it doesn't verify if that section can actually fit in the table\n\n\n      for (var _j10 = 0; _j10 < addedClass.lecture[0].days.length; _j10++) {\n        // add lecture\n        var initial = _this.timeToNum(addedClass.lecture[0].startTime);\n\n        var final = _this.timeToNum(addedClass.lecture[0].endTime) - 1;\n        var middle = parseInt((initial + final) / 2);\n\n        for (var _i12 = 0; _i12 < 61; _i12++) {\n          if (initial <= _i12 && final >= _i12) {\n            var dayOfTheWeek = addedClass.lecture[0].days[_j10] + \"-\";\n            document.getElementById(dayOfTheWeek + _i12).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n            if (_i12 === middle - 2) {\n              document.getElementById(dayOfTheWeek + _i12).innerHTML = addedClass.course;\n            } else if (_i12 === middle - 1) {\n              document.getElementById(dayOfTheWeek + _i12).innerHTML = \"Lecture\";\n            } else if (_i12 === middle) {\n              document.getElementById(dayOfTheWeek + _i12).innerHTML = addedClass.lecture[0].startTime;\n            } else if (_i12 === middle + 1) {\n              document.getElementById(dayOfTheWeek + _i12).innerHTML = \"to\";\n            } else if (_i12 === middle + 2) {\n              document.getElementById(dayOfTheWeek + _i12).innerHTML = addedClass.lecture[0].endTime;\n            } else {\n              document.getElementById(dayOfTheWeek + _i12).innerHTML = \"<br />\";\n            }\n          }\n        }\n      }\n\n      for (var k = 0; k < addedClass.lecture[0].tutorial[0].days.length; k++) {\n        // add tutorial\n        var _initial4 = _this.timeToNum(addedClass.lecture[0].tutorial[0].startTime);\n\n        var _final4 = _this.timeToNum(addedClass.lecture[0].tutorial[0].endTime) - 1;\n\n        var _middle4 = parseInt((_initial4 + _final4) / 2);\n\n        if (_final4 - _initial4 <= 3) {\n          for (var _i13 = 0; _i13 < 61; _i13++) {\n            if (_initial4 <= _i13 && _final4 >= _i13) {\n              var _dayOfTheWeek8 = addedClass.lecture[0].tutorial[0].days[k] + \"-\";\n\n              document.getElementById(_dayOfTheWeek8 + _i13).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n              if (_i13 === _middle4 - 1) {\n                document.getElementById(_dayOfTheWeek8 + _i13).innerHTML = addedClass.course;\n              } else if (_i13 === _middle4) {\n                document.getElementById(_dayOfTheWeek8 + _i13).innerHTML = \"Tutorial\";\n              } else if (_i13 === _middle4 + 1) {\n                document.getElementById(_dayOfTheWeek8 + _i13).innerHTML = addedClass.lecture[0].tutorial[0].startTime + \"-\" + addedClass.lecture[0].tutorial[0].endTime;\n              } else {\n                document.getElementById(_dayOfTheWeek8 + _i13).innerHTML = \"<br />\";\n              }\n            }\n          }\n        } else {\n          for (var _i14 = 0; _i14 < 61; _i14++) {\n            if (_initial4 <= _i14 && _final4 >= _i14) {\n              var _dayOfTheWeek9 = addedClass.lecture[0].tutorial[0].days[k] + \"-\";\n\n              document.getElementById(_dayOfTheWeek9 + _i14).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n              if (_i14 === _middle4 - 2) {\n                document.getElementById(_dayOfTheWeek9 + _i14).innerHTML = addedClass.course;\n              } else if (_i14 === _middle4 - 1) {\n                document.getElementById(_dayOfTheWeek9 + _i14).innerHTML = \"Tutorial\";\n              } else if (_i14 === _middle4) {\n                document.getElementById(_dayOfTheWeek9 + _i14).innerHTML = addedClass.lecture[0].tutorial[0].startTime;\n              } else if (_i14 === _middle4 + 1) {\n                document.getElementById(_dayOfTheWeek9 + _i14).innerHTML = \"to\";\n              } else if (_i14 === _middle4 + 2) {\n                document.getElementById(_dayOfTheWeek9 + _i14).innerHTML = addedClass.lecture[0].tutorial[0].endTime;\n              } else {\n                document.getElementById(_dayOfTheWeek9 + _i14).innerHTML = \"<br />\";\n              }\n            }\n          }\n        }\n      }\n\n      if (addedClass.lab.length != 0) {\n        for (var l = 0; l < addedClass.lab[0].days.length; l++) {\n          // add lab\n          var _initial5 = _this.timeToNum(addedClass.lab[0].startTime);\n\n          var _final5 = _this.timeToNum(addedClass.lab[0].endTime) - 1;\n\n          var _middle5 = parseInt((_initial5 + _final5) / 2);\n\n          if (_final5 - _initial5 <= 3) {\n            for (var _i15 = 0; _i15 < 61; _i15++) {\n              if (_initial5 <= _i15 && _final5 >= _i15) {\n                var _dayOfTheWeek10 = addedClass.lab[0].days[l] + \"-\";\n\n                document.getElementById(_dayOfTheWeek10 + _i15).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                if (_i15 === _middle5 - 1) {\n                  document.getElementById(_dayOfTheWeek10 + _i15).innerHTML = addedClass.course;\n                } else if (_i15 === _middle5) {\n                  document.getElementById(_dayOfTheWeek10 + _i15).innerHTML = \"Lab\";\n                } else if (_i15 === _middle5 + 1) {\n                  document.getElementById(_dayOfTheWeek10 + _i15).innerHTML = addedClass.lab[0].startTime + \"-\" + addedClass.lab[0].endTime;\n                } else {\n                  document.getElementById(_dayOfTheWeek10 + _i15).innerHTML = \"<br />\";\n                }\n              }\n            }\n          } else {\n            for (var _i16 = 0; _i16 < 61; _i16++) {\n              if (_initial5 <= _i16 && _final5 >= _i16) {\n                var _dayOfTheWeek11 = addedClass.lab[0].days[l] + \"-\";\n\n                document.getElementById(_dayOfTheWeek11 + _i16).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                if (_i16 === _middle5 - 2) {\n                  document.getElementById(_dayOfTheWeek11 + _i16).innerHTML = addedClass.course;\n                } else if (_i16 === _middle5 - 1) {\n                  document.getElementById(_dayOfTheWeek11 + _i16).innerHTML = \"Lab\";\n                } else if (_i16 === _middle5) {\n                  document.getElementById(_dayOfTheWeek11 + _i16).innerHTML = addedClass.lab[0].startTime;\n                } else if (_i16 === _middle5 + 1) {\n                  document.getElementById(_dayOfTheWeek11 + _i16).innerHTML = \"to\";\n                } else if (_i16 === _middle5 + 2) {\n                  document.getElementById(_dayOfTheWeek11 + _i16).innerHTML = addedClass.lab[0].endTime;\n                } else {\n                  document.getElementById(_dayOfTheWeek11 + _i16).innerHTML = \"<br />\";\n                }\n              }\n            }\n          }\n        }\n      }\n\n      var oldColors = [];\n\n      for (var o = 0; o < _this.state.selectedCourses.length; o++) {\n        // get list of all the colors in the selection menu before change\n        oldColors[o] = document.getElementById(_this.state.selectedCourses[o][0].course).style.backgroundColor;\n      }\n\n      oldColors.push(colorChosen); // add the color of new course to the list also\n\n      _this.setState({\n        colorOfNewClass: oldColors\n      }); // when rendering the selection menu it will render it with all the old colors + the newly added color\n\n\n      var array1 = [];\n      array1[0] = addedClass;\n      array1[1] = 0; //addedClass.lecture[0].section;\n\n      array1[2] = 0; //addedClass.lecture[0].tutorial[0].section;\n\n      array1[3] = 0; //addedClass.lab[0].section;\n\n      array.push(array1);\n\n      _this.setState({\n        selectedCourses: array\n      });\n    };\n\n    _this.remove = function () {\n      var coursecode = document.getElementById(\"add-class1\").value;\n      var courseToRemove;\n\n      for (var i = 0; i < _this.state.selectedCourses.length; i++) {\n        if (_this.state.selectedCourses[i].course === coursecode) {\n          courseToRemove = _this.state.selectedCourses[i];\n          break;\n        }\n      }\n\n      if (courseToRemove === undefined || courseToRemove === null) {\n        document.getElementById(\"addStatus1\").innerHTML = \"Invalid Course / Course Not Found\";\n\n        _this.setState({\n          show2: \"visible\"\n        });\n\n        return;\n      }\n\n      var color;\n\n      for (var j = 0; j < courseToRemove.days.length; j++) {\n        for (var _i17 = 0; _i17 < 61; _i17++) {\n          var dayOfTheWeek = courseToRemove.days[j] + \"-\";\n\n          if (_this.timeToNum(courseToRemove.startTime) <= _i17 && _this.timeToNum(courseToRemove.endTime) >= _i17) {\n            color = document.getElementById(dayOfTheWeek + _i17).style.backgroundColor;\n            document.getElementById(dayOfTheWeek + _i17).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\n\n            document.getElementById(dayOfTheWeek + _i17).innerHTML = \"-----------------\";\n          }\n        }\n      }\n\n      for (var k = 0; k < courseToRemove.ta.length; k++) {\n        for (var _j11 = 0; _j11 < courseToRemove.ta[k].days.length; _j11++) {\n          var _dayOfTheWeek12 = courseToRemove.ta[k].days[_j11] + \"-\";\n\n          for (var _i18 = 0; _i18 < 61; _i18++) {\n            if (_this.timeToNum(courseToRemove.ta[k].startTime) <= _i18 && _this.timeToNum(courseToRemove.ta[k].endTime) >= _i18) {\n              document.getElementById(_dayOfTheWeek12 + _i18).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\n\n              document.getElementById(_dayOfTheWeek12 + _i18).innerHTML = \"-----------------\";\n            }\n          }\n        }\n      }\n\n      for (var _j12 = 0; _j12 < _this.state.colors.length; _j12++) {\n        if (_this.state.colors[_j12][0] == color) {\n          _this.state.colors[_j12][1] = 0;\n          break;\n        }\n      }\n\n      var oldColors = [];\n\n      for (var o = 0; o < _this.state.selectedCourses.length; o++) {\n        // get list of all the colors before change\n        oldColors[o] = document.getElementById(_this.state.selectedCourses[o].course).style.backgroundColor;\n      }\n\n      var oldColorsFiltered = oldColors.filter(function (data) {\n        return color !== data;\n      }); // filter out the color of the course that we just removed\n\n      var array = _this.state.selectedCourses.filter(function (data) {\n        return coursecode !== data.course;\n      });\n\n      _this.setState({\n        selectedCourses: array,\n        show2: \"hidden\"\n      });\n\n      for (var p = 0; p < _this.state.selectedCourses.length; p++) {\n        // re-assign the old colors to the new table\n        document.getElementById(_this.state.selectedCourses[p].course).style.backgroundColor = oldColorsFiltered[p];\n      }\n    };\n\n    _this.remove1 = function () {\n      var coursecode = document.getElementById(\"add-class1\").value;\n      var courseToRemove, lectureSection, tutorialSection, labSection, lectureIndex, tutorialIndex, labIndex;\n\n      for (var i = 0; i < _this.state.selectedCourses.length; i++) {\n        if (_this.state.selectedCourses[i][0].course === coursecode) {\n          courseToRemove = _this.state.selectedCourses[i][0];\n          lectureIndex = _this.state.selectedCourses[i][1];\n          tutorialIndex = _this.state.selectedCourses[i][2];\n          labIndex = _this.state.selectedCourses[i][3];\n          break;\n        }\n      }\n\n      if (courseToRemove === undefined || courseToRemove === null) {\n        document.getElementById(\"addStatus1\").innerHTML = \"Invalid Course / Course Not Found\";\n\n        _this.setState({\n          show2: \"visible\"\n        });\n\n        return;\n      }\n\n      var color; // for (let i = 0; i < courseToRemove.lecture.length; i++) {\n      //   if (courseToRemove.lecture[i].section === lectureSection) {\n      //     lectureIndex = i;\n      //   }\n      // }\n      // for (let i = 0; i < courseToRemove.lecture[lectureIndex].tutorial.length; i++) {\n      //   if (courseToRemove.lecture[lectureIndex].tutorial[i].section === tutorialSection) {\n      //     tutorialIndex = i;\n      //   }\n      // }\n      // for (let i = 0; i < courseToRemove.lab.length; i++) {\n      //   if (courseToRemove.lab[i].section === labSection) {\n      //     labIndex = i;\n      //   }\n      // }\n      // lectureIndex = courseArray[1];\n      // tutorialIndex = courseArray[2];\n      // labIndex = courseArray[3];\n\n      for (var j = 0; j < courseToRemove.lecture[lectureIndex].days.length; j++) {\n        for (var _i19 = 0; _i19 < 61; _i19++) {\n          var dayOfTheWeek = courseToRemove.lecture[lectureIndex].days[j] + \"-\";\n\n          if (_this.timeToNum(courseToRemove.lecture[lectureIndex].startTime) <= _i19 && _this.timeToNum(courseToRemove.lecture[lectureIndex].endTime) - 1 >= _i19) {\n            color = document.getElementById(dayOfTheWeek + _i19).style.backgroundColor;\n            document.getElementById(dayOfTheWeek + _i19).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\n\n            document.getElementById(dayOfTheWeek + _i19).innerHTML = \"-----------------\";\n          }\n        }\n      }\n\n      for (var _j13 = 0; _j13 < courseToRemove.lecture[lectureIndex].tutorial[tutorialIndex].days.length; _j13++) {\n        var _dayOfTheWeek13 = courseToRemove.lecture[lectureIndex].tutorial[tutorialIndex].days[_j13] + \"-\";\n\n        for (var _i20 = 0; _i20 < 61; _i20++) {\n          if (_this.timeToNum(courseToRemove.lecture[lectureIndex].tutorial[tutorialIndex].startTime) <= _i20 && _this.timeToNum(courseToRemove.lecture[lectureIndex].tutorial[tutorialIndex].endTime) - 1 >= _i20) {\n            document.getElementById(_dayOfTheWeek13 + _i20).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\n\n            document.getElementById(_dayOfTheWeek13 + _i20).innerHTML = \"-----------------\";\n          }\n        }\n      }\n\n      if (courseToRemove.lab.length != 0) {\n        for (var _j14 = 0; _j14 < courseToRemove.lab[labIndex].days.length; _j14++) {\n          var _dayOfTheWeek14 = courseToRemove.lab[labIndex].days[_j14] + \"-\";\n\n          for (var _i21 = 0; _i21 < 61; _i21++) {\n            if (_this.timeToNum(courseToRemove.lab[labIndex].startTime) <= _i21 && _this.timeToNum(courseToRemove.lab[labIndex].endTime) - 1 >= _i21) {\n              document.getElementById(_dayOfTheWeek14 + _i21).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\n\n              document.getElementById(_dayOfTheWeek14 + _i21).innerHTML = \"-----------------\";\n            }\n          }\n        }\n      }\n\n      for (var _j15 = 0; _j15 < _this.state.colors.length; _j15++) {\n        if (_this.state.colors[_j15][0] == color) {\n          _this.state.colors[_j15][1] = 0;\n          break;\n        }\n      }\n\n      var oldColors = [];\n\n      for (var o = 0; o < _this.state.selectedCourses.length; o++) {\n        // get list of all the colors before change\n        oldColors[o] = document.getElementById(_this.state.selectedCourses[o][0].course).style.backgroundColor;\n      }\n\n      var oldColorsFiltered = oldColors.filter(function (data) {\n        return color !== data;\n      }); // filter out the color of the course that we just removed\n\n      var array = _this.state.selectedCourses.filter(function (data) {\n        return coursecode !== data[0].course;\n      });\n\n      _this.setState({\n        selectedCourses: array,\n        show2: \"hidden\"\n      }); // this.setState({\n      //   colorOfNewClass: oldColorsFiltered\n      // })\n\n\n      for (var p = 0; p < _this.state.selectedCourses.length; p++) {\n        // re-assign the old colors to the new table\n        document.getElementById(_this.state.selectedCourses[p][0].course).style.backgroundColor = oldColorsFiltered[p];\n      }\n    };\n\n    _this.handleShow = _this.handleShow.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleShow1 = _this.handleShow1.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClose1 = _this.handleClose1.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.openRubiat = _this.openRubiat.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeRubiat = _this.closeRubiat.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.colourRubiatC = _this.colourRubiatC.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.colourRubiatO = _this.colourRubiatO.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.openUpload = _this.openUpload.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeUpload = _this.closeUpload.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleLoading = _this.toggleLoading.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setCourses = _this.setCourses.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.regEx = _this.regEx.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.regEx2 = _this.regEx2.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.changeSection = _this.changeSection.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    var year;\n    var semester;\n\n    if (document.getElementById(\"semester-year\") === null || document.getElementById(\"semester\") === null) {\n      year = new Date().getFullYear();\n      semester = \"Fall\";\n    } else {\n      year = document.getElementById(\"semester-year\").value;\n      semester = document.getElementById(\"semester\").value;\n    }\n\n    _this.state = {\n      show: false,\n      show1: false,\n      rubiat: false,\n      colorS: false,\n      isLoading: true,\n      lectures: null,\n      labs: null,\n      tutorials: null,\n      dataCourses: null,\n      Courses: null,\n      semester: semester,\n      year: year,\n      weekdays: [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n      //classes: JSON.parse(JSON.stringify(data.sequence)),\n      colors: [[\"red\", 0], [\"pink\", 0], [\"green\", 0], [\"yellow\", 0], [\"orange\", 0], [\"blue\", 0], [\"black\", 0]],\n      color1: \"red\",\n      color2: \"pink\",\n      color3: \"green\",\n      color4: \"yellow\",\n      color5: \"orange\",\n      color6: \"blue\",\n      color7: \"black\",\n      addedClasses: [],\n      courses: JSON.parse(JSON.stringify(data.default.sequence)),\n      courses2: JSON.parse(JSON.stringify(data1.default.sequence)),\n      selectedCourses: [],\n      show2: \"hidden\",\n      colorOfNewClass: [],\n      showUpload: false,\n      uploadedFile: null,\n      defaultValueLectureTutorial: \"\",\n      defaultValueLab: \"\"\n    }; //console.log(\"data.sequence: \" + JSON.stringify(data.sequence));\n    //console.log(\"courses: \" + JSON.stringify(data.default.sequence));\n\n    return _this;\n  }\n\n  _createClass(CourseSelectionMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"/semQuery\").then(function (res) {\n        return res.json();\n      }).then(function (users2) {\n        return _this2.setState({\n          users2: users2\n        }, function () {\n          return _this2.setCourses(users2);\n        });\n      }).then(function () {\n        _this2.regEx();\n      }).then(function () {\n        _this2.toggleLoading();\n      });\n    }\n  }, {\n    key: \"setCourses\",\n    value: function setCourses(stringy) {\n      stringy = \"\" + stringy;\n      var lecStartPosition = stringy.indexOf(\"\\\"lectures\\\":[\");\n      var tutStartPosition = stringy.indexOf(\"\\\"tutorials\\\":[\");\n      this.state.lectures = stringy.substring(lecStartPosition + 12, tutStartPosition);\n      var labStartPosition = stringy.indexOf(\"\\\"labs\\\":[\");\n      this.state.tutorials = stringy.substring(tutStartPosition + 13, labStartPosition);\n      var sequenceStartPos = stringy.indexOf(\"\\\"result2\\\":[\");\n      this.state.labs = stringy.substring(labStartPosition + 8, sequenceStartPos);\n      this.state.Courses = stringy.substring(sequenceStartPos + 11);\n    }\n  }, {\n    key: \"regEx\",\n    value: function regEx() {\n      var courses31 = [];\n      var totaldatabaseEntriesLec = 0;\n      var totaldatabaseEntriesTut = 0;\n      var totaldatabaseEntriesLab = 0; // Gathering Info from Lectures\n\n      while (this.state.lectures.length > 1) {\n        var subjectStart = this.state.lectures.indexOf(\"\\\"subject\\\":\\\"\");\n        this.state.lectures = this.state.lectures.substring(subjectStart + 11);\n        var endQuote1 = this.state.lectures.indexOf(\"\\\"\");\n        var subject = this.state.lectures.substring(0, endQuote1);\n        var classnumbertStart = this.state.lectures.indexOf(\"\\\"classNumber\\\":\\\"\");\n        this.state.lectures = this.state.lectures.substring(classnumbertStart + 15);\n        var endQuote2 = this.state.lectures.indexOf(\"\\\"\");\n        var classNumber = this.state.lectures.substring(0, endQuote2);\n        subject = subject + classNumber;\n        var lectureSectionNumber = this.state.lectures.indexOf(\"\\\"lectureSectionNumber\\\":\\\"\\\\\\\"\");\n        this.state.lectures = this.state.lectures.substring(lectureSectionNumber + 26);\n        var endQuote3 = this.state.lectures.indexOf(\"\\\"\");\n        var sectionNumber = this.state.lectures.substring(0, endQuote3 - 1);\n        var locationNumber = this.state.lectures.indexOf(\"\\\"location\\\":\\\"\\\\\\\"\");\n        this.state.lectures = this.state.lectures.substring(locationNumber + 14);\n        var endQuote4 = this.state.lectures.indexOf(\"\\\"\");\n        var location = this.state.lectures.substring(0, endQuote4 - 1);\n        var daysWasOne = false;\n        var daysNumber = this.state.lectures.indexOf(\"\\\"days\\\":\\\"\");\n        this.state.lectures = this.state.lectures.substring(daysNumber + 8);\n        var endQuote5 = this.state.lectures.indexOf(\"\\\"\");\n        var days = this.state.lectures.substring(0, endQuote5);\n\n        if (days.match(/day/) != null) {\n          if (days.match(/day/g).length > 1) {\n            days = days.substring(0, days.indexOf(\",\")) + \",\" + days.substring(days.indexOf(\",\") + 2, days.length - 2);\n            var index = days.indexOf(\",\");\n            var day1 = days.substring(0, index);\n            var day2 = days.substring(index + 1);\n            days = [day1, day2];\n          } else {\n            days = \"\\\"\" + days.substring(0, days.indexOf(\",\")) + \"\\\",\" + days.substring(days.indexOf(\",\") + 1, days.length - 2) + \"\\\"\";\n            days = days.substring(0, days.length - 3);\n            days = days.substring(1, days.length - 1);\n            days = [days];\n            daysWasOne = true;\n          }\n        }\n\n        var startNumber = this.state.lectures.indexOf(\"\\\"startTime\\\":\\\"\");\n        this.state.lectures = this.state.lectures.substring(startNumber + 13);\n        var endQuote6 = this.state.lectures.indexOf(\"\\\"\");\n        var startTime = this.state.lectures.substring(0, endQuote6 - 3);\n        if (startTime.charAt(0) == \" \") startTime = startTime.substring(1);\n        startTime = parseFloat(startTime).toFixed(2);\n        var endNumber = this.state.lectures.indexOf(\"\\\"endTime\\\":\\\"\");\n        this.state.lectures = this.state.lectures.substring(endNumber + 11);\n        var endQuote7 = this.state.lectures.indexOf(\"\\\"\");\n        var endTime = this.state.lectures.substring(0, endQuote7 - 3);\n        endTime = parseFloat(endTime).toFixed(2);\n\n        if (daysWasOne) {\n          if (endTime - startTime < 2.00) {\n            days.push(\"Thursday\");\n          }\n        }\n\n        startTime = \"\" + startTime.substring(0, startTime.indexOf(\".\")) + \":\" + startTime.substring(startTime.indexOf(\".\") + 1);\n        endTime = \"\" + endTime.substring(0, endTime.indexOf(\".\")) + \":\" + endTime.substring(endTime.indexOf(\".\") + 1);\n        var semNumber = this.state.lectures.indexOf(\"\\\"semester\\\":\\\"\");\n        this.state.lectures = this.state.lectures.substring(semNumber + 12);\n        var endQuote8 = this.state.lectures.indexOf(\"\\\"\");\n        var semester = this.state.lectures.substring(0, endQuote8); // Adding all the different Courses to an arraylist \"courses\"\n\n        var newCourse = new JsonClass(subject, semester);\n        var inThere = false;\n        var indexOfCourse = 0;\n        var i;\n\n        for (i = 0; i < courses31.length; i++) {\n          var boolean1 = courses31[i].equals2(newCourse);\n\n          if (boolean1 == true) {\n            inThere = true;\n            indexOfCourse = i;\n          }\n        }\n\n        if (!inThere) {\n          courses31.push(newCourse);\n          indexOfCourse = courses31.length - 1;\n        } // Adding The Lecture to the Course\n\n\n        var lecture = new JsonLecture(sectionNumber, days, startTime, endTime, location);\n        courses31[indexOfCourse].addLecture(lecture); //console.log(subject + \" \" + sectionNumber + \" \" + location + \" \" + days + \" \" + startTime + \" \" + endTime);\n\n        totaldatabaseEntriesLec++;\n      } // Adding Tutorial Entries\n\n\n      while (this.state.tutorials.length > 1) {\n        var subjectStart = this.state.tutorials.indexOf(\"\\\"subject\\\":\\\"\");\n        this.state.tutorials = this.state.tutorials.substring(subjectStart + 11);\n        var endQuote1 = this.state.tutorials.indexOf(\"\\\"\");\n        var subject = this.state.tutorials.substring(0, endQuote1);\n        var classnumbertStart = this.state.tutorials.indexOf(\"\\\"classNumber\\\":\\\"\");\n        this.state.tutorials = this.state.tutorials.substring(classnumbertStart + 15);\n        var endQuote2 = this.state.tutorials.indexOf(\"\\\"\");\n        var classNumber = this.state.tutorials.substring(0, endQuote2);\n        subject = subject + classNumber;\n        var tutorialSectionNumber = this.state.tutorials.indexOf(\"\\\"tutorialSectionNumber\\\":\\\"\\\\\\\"\");\n        this.state.tutorials = this.state.tutorials.substring(tutorialSectionNumber + 27);\n        var endQuote3 = this.state.tutorials.indexOf(\"\\\"\");\n        var sectionNumber = this.state.tutorials.substring(0, endQuote3 - 1);\n\n        if (sectionNumber.indexOf(\" \") > -1) {\n          sectionNumber = sectionNumber.substring(0, sectionNumber.indexOf(\" \")) + sectionNumber.substring(sectionNumber.indexOf(\" \") + 1);\n        }\n\n        var locationNumber = this.state.tutorials.indexOf(\"\\\"location\\\":\\\"\\\\\\\"\");\n        this.state.tutorials = this.state.tutorials.substring(locationNumber + 14);\n        var endQuote4 = this.state.tutorials.indexOf(\"\\\"\");\n        var location = this.state.tutorials.substring(0, endQuote4 - 1);\n        var daysNumber = this.state.tutorials.indexOf(\"\\\"days\\\":\\\"\");\n        this.state.tutorials = this.state.tutorials.substring(daysNumber + 8);\n        var endQuote5 = this.state.tutorials.indexOf(\"\\\"\");\n        var days = this.state.tutorials.substring(0, endQuote5);\n\n        if (days.match(/day/) != null) {\n          if (days.match(/day/g).length == 1) {\n            days = \"\\\"\" + days.substring(0, days.indexOf(\",\")) + \"\\\",\" + days.substring(days.indexOf(\",\") + 1, days.length - 2) + \"\\\"\";\n            days = days.substring(0, days.length - 3);\n            days = days.substring(1, days.length - 1);\n            days = [days];\n          }\n        }\n\n        var startNumber = this.state.tutorials.indexOf(\"\\\"startTime\\\":\\\"\");\n        this.state.tutorials = this.state.tutorials.substring(startNumber + 13);\n        var endQuote6 = this.state.tutorials.indexOf(\"\\\"\");\n        var startTime = this.state.tutorials.substring(0, endQuote6 - 3);\n        if (startTime.charAt(0) == \" \") startTime = startTime.substring(1);\n        startTime = parseFloat(startTime).toFixed(2);\n        var endNumber = this.state.tutorials.indexOf(\"\\\"endTime\\\":\\\"\");\n        this.state.tutorials = this.state.tutorials.substring(endNumber + 11);\n        var endQuote7 = this.state.tutorials.indexOf(\"\\\"\");\n        var endTime = this.state.tutorials.substring(0, endQuote7 - 3);\n        endTime = parseFloat(endTime).toFixed(2);\n        startTime = \"\" + startTime.substring(0, startTime.indexOf(\".\")) + \":\" + startTime.substring(startTime.indexOf(\".\") + 1);\n        endTime = \"\" + endTime.substring(0, endTime.indexOf(\".\")) + \":\" + endTime.substring(endTime.indexOf(\".\") + 1);\n        var semNumber = this.state.tutorials.indexOf(\"\\\"semester\\\":\\\"\");\n        this.state.tutorials = this.state.tutorials.substring(semNumber + 12);\n        var endQuote8 = this.state.tutorials.indexOf(\"\\\"\");\n        var semester = this.state.tutorials.substring(0, endQuote8);\n        if (days.length == 0) days = [\"Thursday\"];else if (days[0] == \"\" || days[0] == \" \" || days[0] == null) days = [\"Thursday\"];\n        var newCourse = new JsonClass(subject, semester);\n        var foundCourse = false;\n        var indexOfCourse = 0;\n        var i;\n\n        for (i = 0; i < courses31.length; i++) {\n          var boolean1 = courses31[i].equals2(newCourse);\n\n          if (boolean1 == true) {\n            foundCourse = true;\n            indexOfCourse = i;\n          }\n        }\n\n        if (!foundCourse) {\n          courses31.push(newCourse);\n          indexOfCourse = courses31.length - 1;\n        } // Adding The Tutorial to the Lecture in the Course --> Find Right Lecture --> Add Tut\n\n\n        var lectureExists = false;\n        var tut = new JsonTut(sectionNumber, days, startTime, endTime, location);\n        var correctCourse = courses31[indexOfCourse];\n        var lectureSection = sectionNumber.substring(0, sectionNumber.length - 2);\n\n        for (i = 0; i < correctCourse.lecture.length; i++) {\n          if (correctCourse.lecture[i].section == lectureSection) {\n            lectureExists = true;\n            correctCourse.lecture[i].addTut(tut);\n          }\n        }\n\n        if (!lectureExists) {\n          var noLec = new JsonLecture();\n          noLec.addTut(tut);\n          correctCourse.addLecture(noLec);\n        } //console.log(subject + \" \" + sectionNumber + \" \" + location + \" \" + days + \" \" + startTime + \" \" + endTime);\n\n\n        totaldatabaseEntriesTut++; //console.log(subject + \" \" + sectionNumber + \" \" + location + \" \" + days + \" \" + startTime + \" \" + endTime);\n      } // Gathering Info from Labs\n\n\n      while (this.state.labs.length > 1) {\n        var subjectStart = this.state.labs.indexOf(\"\\\"subject\\\":\\\"\");\n        this.state.labs = this.state.labs.substring(subjectStart + 11);\n        var endQuote1 = this.state.labs.indexOf(\"\\\"\");\n        var subject = this.state.labs.substring(0, endQuote1);\n        var classnumbertStart = this.state.labs.indexOf(\"\\\"classNumber\\\":\\\"\");\n        this.state.labs = this.state.labs.substring(classnumbertStart + 15);\n        var endQuote2 = this.state.labs.indexOf(\"\\\"\");\n        var classNumber = this.state.labs.substring(0, endQuote2);\n        subject = subject + classNumber;\n        var labSectionNumber = this.state.labs.indexOf(\"\\\"labSectionNumber\\\":\\\"\\\\\\\"\");\n        this.state.labs = this.state.labs.substring(labSectionNumber + 22);\n        var endQuote3 = this.state.labs.indexOf(\"\\\"\");\n        var sectionNumber = this.state.labs.substring(0, endQuote3 - 1);\n        var locationNumber = this.state.labs.indexOf(\"\\\"location\\\":\\\"\\\\\\\"\");\n        this.state.labs = this.state.labs.substring(locationNumber + 14);\n        var endQuote4 = this.state.labs.indexOf(\"\\\"\");\n        var location = this.state.labs.substring(0, endQuote4 - 1);\n        var daysWasOne = false;\n        var daysNumber = this.state.labs.indexOf(\"\\\"days\\\":\\\"\");\n        this.state.labs = this.state.labs.substring(daysNumber + 8);\n        var endQuote5 = this.state.labs.indexOf(\"\\\"\");\n        var days = this.state.labs.substring(0, endQuote5);\n\n        if (days.match(/day/) != null) {\n          if (days.match(/day/g).length > 1) {\n            days = days.substring(0, days.indexOf(\",\")) + \",\" + days.substring(days.indexOf(\",\") + 2, days.length - 2);\n            var index = days.indexOf(\",\");\n            var day1 = days.substring(0, index);\n            var day2 = days.substring(index + 1);\n            days = [day1, day2];\n          } else {\n            days = \"\\\"\" + days.substring(0, days.indexOf(\",\")) + \"\\\",\" + days.substring(days.indexOf(\",\") + 1, days.length - 2) + \"\\\"\";\n            days = days.substring(0, days.length - 3);\n            days = days.substring(1, days.length - 1);\n            days = [days];\n            daysWasOne = true;\n          }\n        }\n\n        var startNumber = this.state.labs.indexOf(\"\\\"startTime\\\":\\\"\");\n        this.state.labs = this.state.labs.substring(startNumber + 13);\n        var endQuote6 = this.state.labs.indexOf(\"\\\"\");\n        var startTime = this.state.labs.substring(0, endQuote6 - 3);\n        if (startTime.charAt(0) == \" \") startTime = startTime.substring(1);\n        startTime = parseFloat(startTime).toFixed(2);\n        var endNumber = this.state.labs.indexOf(\"\\\"endTime\\\":\\\"\");\n        this.state.labs = this.state.labs.substring(endNumber + 11);\n        var endQuote7 = this.state.labs.indexOf(\"\\\"\");\n        var endTime = this.state.labs.substring(0, endQuote7 - 3);\n        endTime = parseFloat(endTime).toFixed(2);\n        if (days.length == 0) days = [\"Thursday\"];else if (days[0] == \"\" || days[0] == \" \" || days[0] == null) days = [\"Thursday\"];\n        startTime = \"\" + startTime.substring(0, startTime.indexOf(\".\")) + \":\" + startTime.substring(startTime.indexOf(\".\") + 1);\n        endTime = \"\" + endTime.substring(0, endTime.indexOf(\".\")) + \":\" + endTime.substring(endTime.indexOf(\".\") + 1);\n        var semNumber = this.state.labs.indexOf(\"\\\"semester\\\":\\\"\");\n        this.state.labs = this.state.labs.substring(semNumber + 12);\n        var endQuote8 = this.state.labs.indexOf(\"\\\"\");\n        var semester = this.state.labs.substring(0, endQuote8); // Adding all the different Courses to an arraylist \"courses\"\n\n        var newCourse = new JsonClass(subject, semester);\n        var indexOfCourse = 0;\n        var i;\n\n        for (i = 0; i < courses31.length; i++) {\n          var boolean1 = courses31[i].equals2(newCourse);\n\n          if (boolean1 == true) {\n            indexOfCourse = i;\n          }\n        } // Adding The Lecture to the Course\n\n\n        var labby = new JsonLecture(sectionNumber, days, startTime, endTime, location);\n        courses31[indexOfCourse].addLab(labby); //console.log(subject + \" \" + sectionNumber + \" \" + location + \" \" + days + \" \" + startTime + \" \" + endTime);\n\n        totaldatabaseEntriesLab++;\n      } // Displaying Results\n\n\n      courses31.pop();\n      console.log(\"Got #\" + totaldatabaseEntriesLec + \" Lecture entries from database\");\n      console.log(\"Got #\" + totaldatabaseEntriesTut + \" Tutorial entries from database\");\n      console.log(\"Got #\" + totaldatabaseEntriesLab + \" Lab entries from database\");\n      this.state.dataCourses = courses31;\n      this.regEx2();\n      console.log(this.state.dataCourses);\n      console.log(data1.sequence);\n      this.state.courses2 = courses31; //CHANGE TO GET PROPER COURSES\n    }\n  }, {\n    key: \"regEx2\",\n    value: function regEx2() {\n      //console.log(this.state.dataCourses);\n      //console.log(data1.sequence);\n      while (this.state.Courses.length > 1) {\n        var titleStart = this.state.Courses.indexOf(\"\\\"courseTitle\\\":\\\"\");\n        this.state.Courses = this.state.Courses.substring(titleStart + 15);\n        var endQuote1 = this.state.Courses.indexOf(\"\\\"\");\n        var title = this.state.Courses.substring(0, endQuote1);\n        var subjectStart = this.state.Courses.indexOf(\"\\\"subject\\\":\\\"\");\n        this.state.Courses = this.state.Courses.substring(subjectStart + 11);\n        var endQuote2 = this.state.Courses.indexOf(\"\\\"\");\n        var subject = this.state.Courses.substring(0, endQuote2);\n        var numberStart = this.state.Courses.indexOf(\"\\\"classNumber\\\":\\\"\");\n        this.state.Courses = this.state.Courses.substring(numberStart + 15);\n        var endQuote3 = this.state.Courses.indexOf(\"\\\"\");\n        var courseNumber = this.state.Courses.substring(0, endQuote3);\n        var creditsStart = this.state.Courses.indexOf(\"\\\"credits\\\":\\\"\");\n        this.state.Courses = this.state.Courses.substring(creditsStart + 11);\n        var endQuote4 = this.state.Courses.indexOf(\"\\\"\");\n        var creditNumber = this.state.Courses.substring(0, endQuote4);\n        var prereqStart = this.state.Courses.search(\"\\\"prerequisites\\\":\\\"\");\n        this.state.Courses = this.state.Courses.substring(prereqStart + 17);\n        var endQuote5 = this.state.Courses.search(\"\\\"\");\n        var prereqs = this.state.Courses.substring(0, endQuote5);\n        var potentialSPace = prereqs.charAt(0);\n        if (potentialSPace == ' ') prereqs = prereqs.substring(1);\n\n        while (prereqs.indexOf(\"<==>\") > -1) {\n          var weirdshi = prereqs.indexOf(\"<==>\");\n          prereqs = prereqs.substring(0, weirdshi) + \" or \" + prereqs.substring(weirdshi + 4);\n        }\n\n        while (prereqs.search(/\\d COMP/) > -1) {\n          var starter = prereqs.search(/\\d COMP/);\n          prereqs = prereqs.substring(0, starter + 1) + \" and COMP\" + prereqs.substring(starter + 6);\n        }\n\n        while (prereqs.search(/\\d SOEN/) > -1) {\n          var starter = prereqs.search(/\\d SOEN/);\n          prereqs = prereqs.substring(0, starter + 1) + \" and SOEN\" + prereqs.substring(starter + 6);\n        }\n\n        while (prereqs.search(/\\d MATH/) > -1) {\n          var starter = prereqs.search(/\\d MATH/);\n          prereqs = prereqs.substring(0, starter + 1) + \" and MATH\" + prereqs.substring(starter + 6);\n        }\n\n        while (prereqs.search(/\\d ENGR/) > -1) {\n          var starter = prereqs.search(/\\d ENGR/);\n          prereqs = prereqs.substring(0, starter + 1) + \" and ENGR\" + prereqs.substring(starter + 6);\n        }\n\n        while (prereqs.search(/\\d ENCS/) > -1) {\n          var starter = prereqs.search(/\\d ENCS/);\n          prereqs = prereqs.substring(0, starter + 1) + \" and ENCS\" + prereqs.substring(starter + 6);\n        }\n\n        var coreqStart = this.state.Courses.search(\"\\\"corequisites\\\":\\\"\");\n        this.state.Courses = this.state.Courses.substring(coreqStart + 16);\n        var endQuote6 = this.state.Courses.search(\"\\\"\");\n        var coreqs = this.state.Courses.substring(0, endQuote6);\n        var potentialSPace2 = coreqs.charAt(0);\n        if (potentialSPace2 == ' ') coreqs = coreqs.substring(1);\n\n        while (coreqs.indexOf(\"<==>\") > -1) {\n          var weirdshi = coreqs.indexOf(\"<==>\");\n          coreqs = coreqs.substring(0, weirdshi) + \" or \" + coreqs.substring(weirdshi + 4);\n        }\n\n        while (coreqs.search(/\\d COMP/) > -1) {\n          var starter = coreqs.search(/\\d COMP/);\n          coreqs = coreqs.substring(0, starter + 1) + \" and COMP\" + coreqs.substring(starter + 6);\n        }\n\n        while (coreqs.search(/\\d SOEN/) > -1) {\n          var starter = coreqs.search(/\\d SOEN/);\n          coreqs = coreqs.substring(0, starter + 1) + \" and SOEN\" + coreqs.substring(starter + 6);\n        }\n\n        while (coreqs.search(/\\d MATH/) > -1) {\n          var starter = coreqs.search(/\\d MATH/);\n          coreqs = coreqs.substring(0, starter + 1) + \" and MATH\" + coreqs.substring(starter + 6);\n        }\n\n        while (prereqs.search(/\\d ENGR/) > -1) {\n          var starter = coreqs.search(/\\d ENGR/);\n          coreqs = coreqs.substring(0, starter + 1) + \" and ENGR\" + coreqs.substring(starter + 6);\n        }\n\n        while (coreqs.search(/\\d ENCS/) > -1) {\n          var starter = coreqs.search(/\\d ENCS/);\n          coreqs = coreqs.substring(0, starter + 1) + \" and ENCS\" + coreqs.substring(starter + 6);\n        }\n\n        if (prereqs.indexOf(\",\") > -1) prereqs = \"\";\n\n        if (title != \"\") {\n          subject = subject + courseNumber; //var cc = new Course(title, subject, courseNumber, creditNumber, prereqs, coreqs);\n\n          var i;\n\n          for (i = 0; i < this.state.dataCourses.length; i++) {\n            if (this.state.dataCourses[i].course == subject) {\n              this.state.dataCourses[i].name = title;\n              this.state.dataCourses[i].credit = parseFloat(creditNumber);\n            }\n          } //console.log(title + \" \" + subject + \" \" + creditNumber + \" Pre: \" + prereqs + \" Co: \" + coreqs);\n\n        }\n      }\n    }\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        show: false\n      });\n    }\n  }, {\n    key: \"handleShow\",\n    value: function handleShow() {\n      this.setState({\n        show: true\n      });\n    }\n  }, {\n    key: \"handleClose1\",\n    value: function handleClose1() {\n      this.setState({\n        show1: false\n      });\n    }\n  }, {\n    key: \"handleShow1\",\n    value: function handleShow1() {\n      this.setState({\n        show1: true\n      });\n    }\n  }, {\n    key: \"openRubiat\",\n    value: function openRubiat() {\n      this.setState({\n        rubiat: true\n      });\n    }\n  }, {\n    key: \"closeRubiat\",\n    value: function closeRubiat() {\n      this.setState({\n        rubiat: false\n      });\n    }\n  }, {\n    key: \"colourRubiatO\",\n    value: function colourRubiatO() {\n      this.setState({\n        colorS: true\n      });\n    }\n  }, {\n    key: \"colourRubiatC\",\n    value: function colourRubiatC() {\n      this.setState({\n        colorS: false\n      });\n    }\n  }, {\n    key: \"openUpload\",\n    value: function openUpload() {\n      this.setState({\n        showUpload: true\n      });\n    }\n  }, {\n    key: \"closeUpload\",\n    value: function closeUpload() {\n      this.setState({\n        showUpload: false\n      });\n    }\n  }, {\n    key: \"toggleLoading\",\n\n    /*addClass(days_array) {\r\n      document.getElementById(\"id\");\r\n    }*/\n    value: function toggleLoading() {\n      this.setState({\n        isLoading: !this.state.isLoading\n      });\n    }\n  }, {\n    key: \"changeSection\",\n    value: function changeSection(courseName) {\n      var regEx = document.getElementById(courseName + \"section\").value;\n      var lectureSection = regEx.substring(0, regEx.indexOf(\"-\"));\n      var tutorialSection = regEx.substring(regEx.indexOf(\"-\") + 1);\n      var labSection = document.getElementById(courseName + \"labSection\").value;\n      var lectureIndex, tutorialIndex, labIndex;\n      var courseToChange, colorChosen, courseArray;\n\n      for (var i = 0; i < this.state.selectedCourses.length; i++) {\n        if (this.state.selectedCourses[i][0].course === courseName) {\n          courseArray = this.state.selectedCourses[i];\n          courseToChange = this.state.selectedCourses[i][0];\n          lectureIndex = this.state.selectedCourses[i][1];\n          tutorialIndex = this.state.selectedCourses[i][2];\n          labIndex = this.state.selectedCourses[i][3];\n        }\n      }\n\n      for (var j = 0; j < courseToChange.lecture[lectureIndex].days.length; j++) {\n        for (var _i22 = 0; _i22 < 61; _i22++) {\n          var dayOfTheWeek = courseToChange.lecture[lectureIndex].days[j] + \"-\";\n\n          if (this.timeToNum(courseToChange.lecture[lectureIndex].startTime) <= _i22 && this.timeToNum(courseToChange.lecture[lectureIndex].endTime) - 1 >= _i22) {\n            colorChosen = document.getElementById(dayOfTheWeek + _i22).style.backgroundColor;\n            document.getElementById(dayOfTheWeek + _i22).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\n\n            document.getElementById(dayOfTheWeek + _i22).innerHTML = \"-----------------\";\n          }\n        }\n      }\n\n      for (var _j16 = 0; _j16 < courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days.length; _j16++) {\n        var _dayOfTheWeek15 = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days[_j16] + \"-\";\n\n        for (var _i23 = 0; _i23 < 61; _i23++) {\n          if (this.timeToNum(courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].startTime) <= _i23 && this.timeToNum(courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].endTime) - 1 >= _i23) {\n            document.getElementById(_dayOfTheWeek15 + _i23).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\n\n            document.getElementById(_dayOfTheWeek15 + _i23).innerHTML = \"-----------------\";\n          }\n        }\n      }\n\n      if (courseToChange.lab.length != 0) {\n        for (var _j17 = 0; _j17 < courseToChange.lab[labIndex].days.length; _j17++) {\n          var _dayOfTheWeek16 = courseToChange.lab[labIndex].days[_j17] + \"-\";\n\n          for (var _i24 = 0; _i24 < 61; _i24++) {\n            if (this.timeToNum(courseToChange.lab[labIndex].startTime) <= _i24 && this.timeToNum(courseToChange.lab[labIndex].endTime) - 1 >= _i24) {\n              document.getElementById(_dayOfTheWeek16 + _i24).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\n\n              document.getElementById(_dayOfTheWeek16 + _i24).innerHTML = \"-----------------\";\n            }\n          }\n        }\n      } // add part\n\n\n      for (var _i25 = 0; _i25 < courseToChange.lecture.length; _i25++) {\n        if (courseToChange.lecture[_i25].section === lectureSection) {\n          lectureIndex = _i25;\n        }\n      }\n\n      for (var _i26 = 0; _i26 < courseToChange.lecture[lectureIndex].tutorial.length; _i26++) {\n        if (courseToChange.lecture[lectureIndex].tutorial[_i26].section === tutorialSection) {\n          tutorialIndex = _i26;\n        }\n      }\n\n      if (courseToChange.lab.length != 0) {\n        for (var _i27 = 0; _i27 < courseToChange.lab.length; _i27++) {\n          if (courseToChange.lab[_i27].section === labSection) {\n            labIndex = _i27;\n          }\n        }\n      }\n\n      for (var _j18 = 0; _j18 < courseToChange.lecture[lectureIndex].days.length; _j18++) {\n        // add lecture\n        var initial = this.timeToNum(courseToChange.lecture[lectureIndex].startTime);\n        var final = this.timeToNum(courseToChange.lecture[lectureIndex].endTime) - 1;\n        var middle = parseInt((initial + final) / 2);\n\n        for (var _i28 = 0; _i28 < 61; _i28++) {\n          if (initial <= _i28 && final >= _i28) {\n            var _dayOfTheWeek17 = courseToChange.lecture[lectureIndex].days[_j18] + \"-\";\n\n            document.getElementById(_dayOfTheWeek17 + _i28).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n            if (_i28 === middle - 2) {\n              document.getElementById(_dayOfTheWeek17 + _i28).innerHTML = courseToChange.course;\n            } else if (_i28 === middle - 1) {\n              document.getElementById(_dayOfTheWeek17 + _i28).innerHTML = \"Lecture\";\n            } else if (_i28 === middle) {\n              document.getElementById(_dayOfTheWeek17 + _i28).innerHTML = courseToChange.lecture[lectureIndex].startTime;\n            } else if (_i28 === middle + 1) {\n              document.getElementById(_dayOfTheWeek17 + _i28).innerHTML = \"to\";\n            } else if (_i28 === middle + 2) {\n              document.getElementById(_dayOfTheWeek17 + _i28).innerHTML = courseToChange.lecture[lectureIndex].endTime;\n            } else {\n              document.getElementById(_dayOfTheWeek17 + _i28).innerHTML = \"<br />\";\n            }\n          }\n        }\n      }\n\n      for (var k = 0; k < courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days.length; k++) {\n        // add tutorial\n        var _initial6 = this.timeToNum(courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].startTime);\n\n        var _final6 = this.timeToNum(courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].endTime) - 1;\n\n        var _middle6 = parseInt((_initial6 + _final6) / 2);\n\n        if (_final6 - _initial6 <= 3) {\n          for (var _i29 = 0; _i29 < 61; _i29++) {\n            if (_initial6 <= _i29 && _final6 >= _i29) {\n              var _dayOfTheWeek18 = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days[k] + \"-\";\n\n              document.getElementById(_dayOfTheWeek18 + _i29).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n              if (_i29 === _middle6 - 1) {\n                document.getElementById(_dayOfTheWeek18 + _i29).innerHTML = courseToChange.course;\n              } else if (_i29 === _middle6) {\n                document.getElementById(_dayOfTheWeek18 + _i29).innerHTML = \"Tutorial\";\n              } else if (_i29 === _middle6 + 1) {\n                document.getElementById(_dayOfTheWeek18 + _i29).innerHTML = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].startTime + \"-\" + courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].endTime;\n              } else {\n                document.getElementById(_dayOfTheWeek18 + _i29).innerHTML = \"<br />\";\n              }\n            }\n          }\n        } else {\n          for (var _i30 = 0; _i30 < 61; _i30++) {\n            if (_initial6 <= _i30 && _final6 >= _i30) {\n              var _dayOfTheWeek19 = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days[k] + \"-\";\n\n              document.getElementById(_dayOfTheWeek19 + _i30).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n              if (_i30 === _middle6 - 2) {\n                document.getElementById(_dayOfTheWeek19 + _i30).innerHTML = courseToChange.course;\n              } else if (_i30 === _middle6 - 1) {\n                document.getElementById(_dayOfTheWeek19 + _i30).innerHTML = \"Tutorial\";\n              } else if (_i30 === _middle6) {\n                document.getElementById(_dayOfTheWeek19 + _i30).innerHTML = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].startTime;\n              } else if (_i30 === _middle6 + 1) {\n                document.getElementById(_dayOfTheWeek19 + _i30).innerHTML = \"to\";\n              } else if (_i30 === _middle6 + 2) {\n                document.getElementById(_dayOfTheWeek19 + _i30).innerHTML = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].endTime;\n              } else {\n                document.getElementById(_dayOfTheWeek19 + _i30).innerHTML = \"<br />\";\n              }\n            }\n          }\n        }\n      }\n\n      if (courseToChange.lab.length != 0) {\n        for (var l = 0; l < courseToChange.lab[labIndex].days.length; l++) {\n          // add lab\n          var _initial7 = this.timeToNum(courseToChange.lab[labIndex].startTime);\n\n          var _final7 = this.timeToNum(courseToChange.lab[labIndex].endTime) - 1;\n\n          var _middle7 = parseInt((_initial7 + _final7) / 2);\n\n          if (_final7 - _initial7 <= 3) {\n            for (var _i31 = 0; _i31 < 61; _i31++) {\n              if (_initial7 <= _i31 && _final7 >= _i31) {\n                var _dayOfTheWeek20 = courseToChange.lab[labIndex].days[l] + \"-\";\n\n                document.getElementById(_dayOfTheWeek20 + _i31).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                if (_i31 === _middle7 - 1) {\n                  document.getElementById(_dayOfTheWeek20 + _i31).innerHTML = courseToChange.course;\n                } else if (_i31 === _middle7) {\n                  document.getElementById(_dayOfTheWeek20 + _i31).innerHTML = \"Lab\";\n                } else if (_i31 === _middle7 + 1) {\n                  document.getElementById(_dayOfTheWeek20 + _i31).innerHTML = courseToChange.lab[labIndex].startTime + \"-\" + courseToChange.lab[labIndex].endTime;\n                } else {\n                  document.getElementById(_dayOfTheWeek20 + _i31).innerHTML = \"<br />\";\n                }\n              }\n            }\n          } else {\n            for (var _i32 = 0; _i32 < 61; _i32++) {\n              if (_initial7 <= _i32 && _final7 >= _i32) {\n                var _dayOfTheWeek21 = courseToChange.lab[labIndex].days[l] + \"-\";\n\n                document.getElementById(_dayOfTheWeek21 + _i32).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\n\n                if (_i32 === _middle7 - 2) {\n                  document.getElementById(_dayOfTheWeek21 + _i32).innerHTML = courseToChange.course;\n                } else if (_i32 === _middle7 - 1) {\n                  document.getElementById(_dayOfTheWeek21 + _i32).innerHTML = \"Lab\";\n                } else if (_i32 === _middle7) {\n                  document.getElementById(_dayOfTheWeek21 + _i32).innerHTML = courseToChange.lab[labIndex].startTime;\n                } else if (_i32 === _middle7 + 1) {\n                  document.getElementById(_dayOfTheWeek21 + _i32).innerHTML = \"to\";\n                } else if (_i32 === _middle7 + 2) {\n                  document.getElementById(_dayOfTheWeek21 + _i32).innerHTML = courseToChange.lab[labIndex].endTime;\n                } else {\n                  document.getElementById(_dayOfTheWeek21 + _i32).innerHTML = \"<br />\";\n                }\n              }\n            }\n          }\n        }\n      }\n\n      courseArray[1] = lectureIndex; //addedClass.lecture[0].section;\n\n      courseArray[2] = tutorialIndex; //addedClass.lecture[0].tutorial[0].section;\n\n      courseArray[3] = labIndex; //addedClass.lab[0].section;\n      // for (let i = 0; i < courseToRemove.lecture.length; i++) {\n      //   if (courseToRemove.lecture[i].section === lectureSection) {\n      //     lectureIndex = i;\n      //   }\n      // }\n      // for (let i = 0; i < courseToRemove.lecture[lectureIndex].tutorial.length; i++) {\n      //   if (courseToRemove.lecture[lectureIndex].tutorial[i].section === tutorialSection) {\n      //     tutorialIndex = i;\n      //   }\n      // }\n      // for (let i = 0; i < courseToRemove.lab.length; i++) {\n      //   if (courseToRemove.lab[i].section === labSection) {\n      //     labIndex = i;\n      //   }\n      // }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var styles = reactCSS({\n        default: {\n          popover: {\n            position: \"fixed\",\n            top: \"23%\",\n            left: \"38%\",\n            zIndex: \"2\"\n          },\n          cover: {\n            position: \"fixed\",\n            top: \"0px\",\n            right: \"0px\",\n            bottom: \"0px\",\n            left: \"0px\"\n          }\n        }\n      });\n      var myAddedClasses = this.state.selectedCourses.map(function (theClass) {\n        return React.createElement(\"option\", {\n          value: theClass[0].course,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1837\n          },\n          __self: this\n        }, theClass[0].course);\n      });\n      var i = 0;\n      var x = this.state.selectedCourses.map(function (element) {\n        return React.createElement(\"tr\", {\n          id: element[0].course,\n          style: {\n            backgroundColor: _this3.state.colorOfNewClass[i++]\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1845\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1847\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1848\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"checkbox\",\n          checked: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1849\n          },\n          __self: this\n        }), \" \\xA0\", React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1850\n          },\n          __self: this\n        }, element[0].course), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1851\n          },\n          __self: this\n        }), React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1852\n          },\n          __self: this\n        }, element[0].name), \" \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1853\n          },\n          __self: this\n        }), React.createElement(\"select\", {\n          defaultValue: _this3.state.defaultValueLectureTutorial,\n          id: element[0].course + \"section\",\n          name: \"course-section\"\n          /*onChange={this.changeSection(element.course)}*/\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1854\n          },\n          __self: this\n        }, element[0].lecture.map(function (element1) {\n          return element1.tutorial.map(function (element2) {\n            return React.createElement(\"option\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1857\n              },\n              __self: this\n            }, element1.section + \"-\" + element2.section);\n          });\n        })), \" \\xA0\", React.createElement(\"select\", {\n          defaultValue: _this3.state.defaultValueLab,\n          id: element[0].course + \"labSection\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1861\n          },\n          __self: this\n        }, element[0].lab.map(function (element1) {\n          return React.createElement(\"option\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1863\n            },\n            __self: this\n          }, element1.section);\n        })), \" \\xA0\", React.createElement(Button, {\n          text: \"Change Section\",\n          onClick: function onClick() {\n            return _this3.changeSection(element[0].course);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1876\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1877\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          id: \"requirements\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1878\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1879\n          },\n          __self: this\n        }, \"Requirement: \"), \" related info goes here\"))));\n      });\n      var table = React.createElement(Table, {\n        id: \"selected-course-table\",\n        className: \"rounded\",\n        striped: true,\n        bordered: true,\n        hover: true,\n        variant: \"dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1887\n        },\n        __self: this\n      }, x);\n      var allOptions = this.state.courses.map(function (choice) {\n        return React.createElement(\"option\", {\n          value: choice.course,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1900\n          },\n          __self: this\n        });\n      });\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1905\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"jumbotron j-greetings\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1907\n        },\n        __self: this\n      }, React.createElement(LoadingScreen, {\n        loading: this.state.isLoading,\n        bgColor: \"#f1f1f1\",\n        spinnerColor: \"#b30000\",\n        textColor: \"#676767\",\n        logoSrc: \"https://user-images.githubusercontent.com/36492119/52869487-bdcd5180-3113-11e9-93d4-155882376646.png\",\n        text: \"Receiving Courses\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1908\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        className: \"display-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1918\n        },\n        __self: this\n      }, \"Course Selection Menu\"), React.createElement(\"hr\", {\n        color: \"#7e1530\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1919\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1921\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row bg-secondary text-white rounded\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1922\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1923\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"add-class1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1924\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        id: \"test\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1925\n        },\n        __self: this\n      }, \"Select Course\")), React.createElement(\"input\", {\n        type: \"text\",\n        list: \"add-class2\",\n        id: \"add-class1\",\n        className: \"btn btn-dark\",\n        placeholder: \"Course Number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1927\n        },\n        __self: this\n      }), React.createElement(\"datalist\", {\n        id: \"add-class2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1934\n        },\n        __self: this\n      }, allOptions)), React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1936\n        },\n        __self: this\n      }, React.createElement(Button, {\n        text: \"Select\",\n        onClick: this.addClass1,\n        style: {\n          float: \"left\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1937\n        },\n        __self: this\n      }), React.createElement(Button, {\n        text: \"Remove\",\n        onClick: this.remove1,\n        style: {\n          float: \"left\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1942\n        },\n        __self: this\n      }), React.createElement(Button, {\n        text: \"Add by Upload\",\n        onClick: this.openUpload,\n        style: {\n          float: \"left\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1947\n        },\n        __self: this\n      })))), React.createElement(\"p\", {\n        id: \"addStatus1\",\n        style: {\n          color: \"red\",\n          visibility: this.state.show2\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1956\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1960\n        },\n        __self: this\n      }, table), React.createElement(\"hr\", {\n        color: \"#7e1530\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1961\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        className: \"display-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1962\n        },\n        __self: this\n      }, this.state.semester, \" \", this.state.year, \" Semester\"), React.createElement(\"p\", {\n        className: \"lead\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1965\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1971\n        },\n        __self: this\n      }, \" \", React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1974\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1975\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1976\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1977\n        },\n        __self: this\n      }, React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1978\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1979\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1980\n        },\n        __self: this\n      }, \"Time\"), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1982\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1983\n        },\n        __self: this\n      }, times.time.map(function (element) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1985\n          },\n          __self: this\n        }, element.startTime);\n      })))))), this.state.weekdays.map(function (days) {\n        return React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1994\n          },\n          __self: this\n        }, React.createElement(\"table\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1995\n          },\n          __self: this\n        }, React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1996\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1997\n          },\n          __self: this\n        }, days), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1998\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1999\n          },\n          __self: this\n        }, times.time.map(function (element) {\n          var myID = days + \"-\" + element.num;\n          return React.createElement(\"div\", {\n            id: myID,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2003\n            },\n            __self: this\n          }, \"-----------------\");\n        }))))));\n      }))))), React.createElement(Button, {\n        text: \"Color Selection\",\n        onClick: this.openRubiat,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2021\n        },\n        __self: this\n      }), React.createElement(Button, {\n        text: \"Download Schedule\",\n        onClick: this.downloadJson,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2022\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/finalize-export-sem\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2023\n        },\n        __self: this\n      }, React.createElement(Button, {\n        text: \"Finalize\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2024\n        },\n        __self: this\n      })), React.createElement(Link, {\n        to: \"/select-semester\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2027\n        },\n        __self: this\n      }, React.createElement(Button, {\n        text: \"Back To Select Semester\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2028\n        },\n        __self: this\n      }))), React.createElement(Modal, {\n        show: this.state.rubiat,\n        onHide: this.closeRubiat,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2080\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2081\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2082\n        },\n        __self: this\n      }, \"Course Colour Selection\")), React.createElement(Modal.Body, {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2084\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2085\n        },\n        __self: this\n      }, \"Select A Course and Color \"), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2085\n        },\n        __self: this\n      }), React.createElement(Form, {\n        inline: true,\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2086\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        style: {\n          width: \"40%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2087\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        id: \"colorChanger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2088\n        },\n        __self: this\n      }, myAddedClasses)), React.createElement(Button, {\n        text: \"Color Selection\",\n        onClick: this.colourRubiatO,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2092\n        },\n        __self: this\n      }))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2095\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.closeRubiat,\n        text: \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2096\n        },\n        __self: this\n      }))), React.createElement(Modal, {\n        show: this.state.colorS,\n        onHide: this.colourRubiatC,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2100\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        style: {\n          backgroundColor: \"#82100d\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2101\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2102\n        },\n        __self: this\n      }, \"Color Selector\")), React.createElement(Modal.Body, {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2104\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: {\n          margin: \"0px 0px 25% 0px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2105\n        },\n        __self: this\n      }, \"Select a Color for Course (replace with course name)\"), React.createElement(Form, {\n        inline: true,\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        style: {\n          width: \"40%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: styles.popover,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2110\n        },\n        __self: this\n      }, React.createElement(CirclePicker, {\n        style: {\n          margin: \"0px 0px 0px 0px\"\n        },\n        onChangeComplete: this.handleChangeComplete,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2111\n        },\n        __self: this\n      }))))), React.createElement(Modal.Footer, {\n        style: {\n          backgroundColor: \"#82100d\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2121\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.colourRubiatC,\n        text: \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2122\n        },\n        __self: this\n      }))), React.createElement(Modal, {\n        show: this.state.showUpload,\n        onHide: this.closeUpload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2130\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2131\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2132\n        },\n        __self: this\n      }, \"Add Via Upload\")), React.createElement(Modal.Body, {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2134\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2135\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        name: \"filename\",\n        className: \"btn btn-dark\",\n        onChange: this.handleSelectedFile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2136\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-dark\",\n        value: \"upload\",\n        onClick: this.handleUpload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2137\n        },\n        __self: this\n      }, \"Upload\"))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2140\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.closeUpload,\n        text: \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2141\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return CourseSelectionMenu;\n}(React.Component);\n\nexport default CourseSelectionMenu;","map":{"version":3,"sources":["C:\\Users\\MonPC\\Desktop\\School\\SOEN\\SOEN 341 Software Process'\\Project\\cssd\\client\\src\\CourseSelectionMenu.js"],"names":["React","Button","Link","Modal","Form","FormControl","Table","times","data","data1","CirclePicker","reactCSS","LoadingScreen","JsonLecture","JsonClass","JsonTut","Course","CourseSelectionMenu","props","context","timeToNum","time","time1","time2","time1Minute","time2Minute","timeHour","substring","indexOf","timeMinute","parseInt","i","startTime","num","handleSelectedFile","event","setState","uploadedFile","target","files","handleUpload","file","state","reader","FileReader","readAsText","onload","JSONified","JSON","parse","result","length","array","selectedCourses","input","course","classList","courses2","addedClass","classExists","j","document","getElementById","innerHTML","show2","colorChosen","colors","undefined","lectureIndex","tutorialIndex","labIndex","lecture","days","initial","final","endTime","middle","dayOfTheWeek","style","backgroundColor","k","tutorial","lab","l","oldColors","o","push","colorOfNewClass","defaultValue1","section","defaultValue2","defaultValueLectureTutorial","defaultValueLab","array1","showUpload","downloadJson","courseArray","filename","contentType","window","navigator","msSaveOrOpenBlob","blob","Blob","decodeURIComponent","encodeURI","stringify","type","createElement","download","href","encodeURIComponent","body","appendChild","click","removeChild","handleChangeComplete","color","courseNameInput","value","chosenClass","lectureSection","tutorialSection","labSection","hex","color1","addClass","courses","n","ta","addClass1","remove","coursecode","courseToRemove","oldColorsFiltered","filter","p","remove1","handleShow","bind","handleClose","handleShow1","handleClose1","openRubiat","closeRubiat","colourRubiatC","colourRubiatO","openUpload","closeUpload","toggleLoading","setCourses","regEx","regEx2","changeSection","year","semester","Date","getFullYear","show","show1","rubiat","colorS","isLoading","lectures","labs","tutorials","dataCourses","Courses","weekdays","color2","color3","color4","color5","color6","color7","addedClasses","default","sequence","fetch","then","res","json","users2","stringy","lecStartPosition","tutStartPosition","labStartPosition","sequenceStartPos","courses31","totaldatabaseEntriesLec","totaldatabaseEntriesTut","totaldatabaseEntriesLab","subjectStart","endQuote1","subject","classnumbertStart","endQuote2","classNumber","lectureSectionNumber","endQuote3","sectionNumber","locationNumber","endQuote4","location","daysWasOne","daysNumber","endQuote5","match","index","day1","day2","startNumber","endQuote6","charAt","parseFloat","toFixed","endNumber","endQuote7","semNumber","endQuote8","newCourse","inThere","indexOfCourse","boolean1","equals2","addLecture","tutorialSectionNumber","foundCourse","lectureExists","tut","correctCourse","addTut","noLec","labSectionNumber","labby","addLab","pop","console","log","titleStart","title","numberStart","courseNumber","creditsStart","creditNumber","prereqStart","search","prereqs","potentialSPace","weirdshi","starter","coreqStart","coreqs","potentialSPace2","name","credit","courseName","courseToChange","styles","popover","position","top","left","zIndex","cover","right","bottom","myAddedClasses","map","theClass","x","element","element1","element2","table","allOptions","choice","float","visibility","myID","textAlign","width","margin","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Button from \"./components/Button\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Modal, Form, FormControl, Table } from \"react-bootstrap\";\r\nimport * as times from \"./data/calendar.json\";\r\nimport * as data from \"./data/courses.json\";\r\nimport * as data1 from \"./data/courses2.json\";\r\nimport { CirclePicker } from \"react-color\";\r\nimport reactCSS from \"reactcss\";\r\nimport LoadingScreen from 'react-loading-screen';\r\nimport JsonLecture from \"./JsonLecture\";\r\nimport JsonClass from \"./JsonClass\";\r\nimport JsonTut from \"./JsonTut\";\r\nimport Course from \"./Course\";\r\n\r\nclass CourseSelectionMenu extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleShow1 = this.handleShow1.bind(this);\r\n    this.handleClose1 = this.handleClose1.bind(this);\r\n    this.openRubiat = this.openRubiat.bind(this);\r\n    this.closeRubiat = this.closeRubiat.bind(this);\r\n    this.colourRubiatC = this.colourRubiatC.bind(this);\r\n    this.colourRubiatO = this.colourRubiatO.bind(this);\r\n    this.openUpload = this.openUpload.bind(this);\r\n    this.closeUpload = this.closeUpload.bind(this);\r\n    this.toggleLoading = this.toggleLoading.bind(this);\r\n    this.setCourses = this.setCourses.bind(this);\r\n    this.regEx = this.regEx.bind(this);\r\n    this.regEx2 = this.regEx2.bind(this);\r\n    this.changeSection = this.changeSection.bind(this);\r\n\r\n    var year;\r\n    var semester;\r\n\r\n    if (\r\n      document.getElementById(\"semester-year\") === null ||\r\n      document.getElementById(\"semester\") === null\r\n    ) {\r\n      year = new Date().getFullYear();\r\n      semester = \"Fall\";\r\n    } else {\r\n      year = document.getElementById(\"semester-year\").value;\r\n      semester = document.getElementById(\"semester\").value;\r\n    }\r\n\r\n    this.state = {\r\n      show: false,\r\n      show1: false,\r\n      rubiat: false,\r\n      colorS: false,\r\n      isLoading: true,\r\n      lectures: null,\r\n      labs: null,\r\n      tutorials: null,\r\n      dataCourses: null,\r\n      Courses: null,\r\n      semester: semester,\r\n      year: year,\r\n      weekdays: [\r\n        \"Monday\",\r\n        \"Tuesday\",\r\n        \"Wednesday\",\r\n        \"Thursday\",\r\n        \"Friday\",\r\n        \"Saturday\",\r\n        \"Sunday\"\r\n      ],\r\n      //classes: JSON.parse(JSON.stringify(data.sequence)),\r\n\r\n      colors: [[\"red\", 0], [\"pink\", 0], [\"green\", 0], [\"yellow\", 0], [\"orange\", 0], [\"blue\", 0], [\"black\", 0]],\r\n\r\n      color1: \"red\",\r\n      color2: \"pink\",\r\n      color3: \"green\",\r\n      color4: \"yellow\",\r\n      color5: \"orange\",\r\n      color6: \"blue\",\r\n      color7: \"black\",\r\n\r\n      addedClasses: [],\r\n\r\n      courses: JSON.parse(JSON.stringify(data.default.sequence)),\r\n      courses2: JSON.parse(JSON.stringify(data1.default.sequence)),\r\n      selectedCourses: [],\r\n      show2: \"hidden\",\r\n\r\n      colorOfNewClass: [],\r\n\r\n      showUpload: false,\r\n\r\n      uploadedFile: null,\r\n\r\n      defaultValueLectureTutorial: \"\",\r\n      defaultValueLab: \"\"\r\n\r\n    };\r\n    //console.log(\"data.sequence: \" + JSON.stringify(data.sequence));\r\n    //console.log(\"courses: \" + JSON.stringify(data.default.sequence));\r\n  }\r\n  componentDidMount() {\r\n    fetch(\"/semQuery\")\r\n        .then(res => res.json())\r\n        .then(users2 =>\r\n            this.setState({ users2 }, () => this.setCourses(users2)))\r\n        .then(() => {this.regEx()})\r\n        .then(() => { this.toggleLoading(); });\r\n  }\r\n\r\n  setCourses(stringy)\r\n  {\r\n    stringy = \"\" + stringy;\r\n    var lecStartPosition = stringy.indexOf(\"\\\"lectures\\\":[\");\r\n    var tutStartPosition = stringy.indexOf(\"\\\"tutorials\\\":[\");\r\n    this.state.lectures = stringy.substring(lecStartPosition+12,tutStartPosition);\r\n    var labStartPosition = stringy.indexOf(\"\\\"labs\\\":[\");\r\n    this.state.tutorials = stringy.substring(tutStartPosition+13,labStartPosition);\r\n    var sequenceStartPos = stringy.indexOf(\"\\\"result2\\\":[\");\r\n    this.state.labs = stringy.substring(labStartPosition+8,sequenceStartPos);\r\n    this.state.Courses = stringy.substring(sequenceStartPos+11);\r\n  }\r\n\r\n  regEx()\r\n  {\r\n    var courses31 = [];\r\n    var totaldatabaseEntriesLec = 0;\r\n    var totaldatabaseEntriesTut = 0;\r\n    var totaldatabaseEntriesLab = 0;\r\n\r\n    // Gathering Info from Lectures\r\n    while (this.state.lectures.length > 1)\r\n    {\r\n      var subjectStart = this.state.lectures.indexOf(\"\\\"subject\\\":\\\"\");\r\n      this.state.lectures = this.state.lectures.substring(subjectStart + 11);\r\n      var endQuote1 = this.state.lectures.indexOf(\"\\\"\");\r\n      var subject = this.state.lectures.substring(0,endQuote1);\r\n\r\n      var classnumbertStart = this.state.lectures.indexOf(\"\\\"classNumber\\\":\\\"\");\r\n      this.state.lectures = this.state.lectures.substring(classnumbertStart + 15);\r\n      var endQuote2 = this.state.lectures.indexOf(\"\\\"\");\r\n      var classNumber = this.state.lectures.substring(0,endQuote2);\r\n      subject = subject+classNumber;\r\n\r\n      var lectureSectionNumber = this.state.lectures.indexOf(\"\\\"lectureSectionNumber\\\":\\\"\\\\\\\"\");\r\n      this.state.lectures = this.state.lectures.substring(lectureSectionNumber + 26);\r\n      var endQuote3 = this.state.lectures.indexOf(\"\\\"\");\r\n      var sectionNumber = this.state.lectures.substring(0,endQuote3 - 1);\r\n\r\n      var locationNumber = this.state.lectures.indexOf(\"\\\"location\\\":\\\"\\\\\\\"\");\r\n      this.state.lectures = this.state.lectures.substring(locationNumber + 14);\r\n      var endQuote4 = this.state.lectures.indexOf(\"\\\"\");\r\n      var location = this.state.lectures.substring(0,endQuote4 - 1);\r\n\r\n      var daysWasOne = false;\r\n      var daysNumber = this.state.lectures.indexOf(\"\\\"days\\\":\\\"\");\r\n      this.state.lectures = this.state.lectures.substring(daysNumber + 8);\r\n      var endQuote5 = this.state.lectures.indexOf(\"\\\"\");\r\n      var days = this.state.lectures.substring(0,endQuote5);\r\n      if (days.match(/day/) != null)\r\n      {\r\n        if (days.match(/day/g).length > 1)\r\n        {\r\n          days = days.substring(0,days.indexOf(\",\")) + \",\" + days.substring(days.indexOf(\",\")+2, days.length-2);\r\n          var index = days.indexOf(\",\");\r\n          var day1 = days.substring(0,index);\r\n          var day2 = days.substring(index+1);\r\n          days = [day1, day2];\r\n        }\r\n        else\r\n        {\r\n          days = \"\\\"\" + days.substring(0,days.indexOf(\",\")) + \"\\\",\" + days.substring(days.indexOf(\",\")+1, days.length - 2) + \"\\\"\";\r\n          days = days.substring(0,days.length-3);\r\n          days = days.substring(1,days.length-1);\r\n          days = [days];\r\n          daysWasOne = true;\r\n        }\r\n      }\r\n\r\n      var startNumber = this.state.lectures.indexOf(\"\\\"startTime\\\":\\\"\");\r\n      this.state.lectures = this.state.lectures.substring(startNumber + 13);\r\n      var endQuote6 = this.state.lectures.indexOf(\"\\\"\");\r\n      var startTime = this.state.lectures.substring(0,endQuote6-3);\r\n      if (startTime.charAt(0) == \" \")\r\n        startTime = startTime.substring(1);\r\n      startTime = parseFloat(startTime).toFixed(2);\r\n\r\n      var endNumber = this.state.lectures.indexOf(\"\\\"endTime\\\":\\\"\");\r\n      this.state.lectures = this.state.lectures.substring(endNumber + 11);\r\n      var endQuote7 = this.state.lectures.indexOf(\"\\\"\");\r\n      var endTime = this.state.lectures.substring(0,endQuote7-3);\r\n      endTime = parseFloat(endTime).toFixed(2);\r\n\r\n      if (daysWasOne)\r\n      {\r\n        if (endTime - startTime < 2.00)\r\n        {\r\n          days.push(\"Thursday\");\r\n        }\r\n      }\r\n      startTime = \"\" + startTime.substring(0,startTime.indexOf(\".\")) + \":\" +startTime.substring(startTime.indexOf(\".\")+1);\r\n      endTime = \"\" + endTime.substring(0,endTime.indexOf(\".\")) + \":\" + endTime.substring(endTime.indexOf(\".\")+1);\r\n\r\n      var semNumber = this.state.lectures.indexOf(\"\\\"semester\\\":\\\"\");\r\n      this.state.lectures = this.state.lectures.substring(semNumber + 12);\r\n      var endQuote8 = this.state.lectures.indexOf(\"\\\"\");\r\n      var semester = this.state.lectures.substring(0,endQuote8);\r\n\r\n      // Adding all the different Courses to an arraylist \"courses\"\r\n      var newCourse = new JsonClass(subject,semester);\r\n      var inThere = false;\r\n      var indexOfCourse = 0;\r\n      var i;\r\n      for (i = 0; i < courses31.length; i++)\r\n      {\r\n        var boolean1 = courses31[i].equals2(newCourse);\r\n        if (boolean1 == true)\r\n        {\r\n          inThere = true;\r\n          indexOfCourse = i;\r\n        }\r\n      }\r\n      if (!inThere)\r\n      {\r\n        courses31.push(newCourse);\r\n        indexOfCourse = courses31.length-1;\r\n      }\r\n      // Adding The Lecture to the Course\r\n      var lecture = new JsonLecture(sectionNumber,days,startTime,endTime,location);\r\n      courses31[indexOfCourse].addLecture(lecture);\r\n      //console.log(subject + \" \" + sectionNumber + \" \" + location + \" \" + days + \" \" + startTime + \" \" + endTime);\r\n      totaldatabaseEntriesLec++;\r\n    }\r\n\r\n    // Adding Tutorial Entries\r\n\r\n    while(this.state.tutorials.length > 1)\r\n    {\r\n      var subjectStart = this.state.tutorials.indexOf(\"\\\"subject\\\":\\\"\");\r\n      this.state.tutorials = this.state.tutorials.substring(subjectStart + 11);\r\n      var endQuote1 = this.state.tutorials.indexOf(\"\\\"\");\r\n      var subject = this.state.tutorials.substring(0,endQuote1);\r\n\r\n      var classnumbertStart = this.state.tutorials.indexOf(\"\\\"classNumber\\\":\\\"\");\r\n      this.state.tutorials = this.state.tutorials.substring(classnumbertStart + 15);\r\n      var endQuote2 = this.state.tutorials.indexOf(\"\\\"\");\r\n      var classNumber = this.state.tutorials.substring(0,endQuote2);\r\n      subject = subject+classNumber;\r\n\r\n      var tutorialSectionNumber = this.state.tutorials.indexOf(\"\\\"tutorialSectionNumber\\\":\\\"\\\\\\\"\");\r\n      this.state.tutorials = this.state.tutorials.substring(tutorialSectionNumber + 27);\r\n      var endQuote3 = this.state.tutorials.indexOf(\"\\\"\");\r\n      var sectionNumber = this.state.tutorials.substring(0,endQuote3 - 1);\r\n      if (sectionNumber.indexOf(\" \") > -1)\r\n      {\r\n        sectionNumber = sectionNumber.substring(0,sectionNumber.indexOf(\" \")) + sectionNumber.substring(sectionNumber.indexOf(\" \")+1);\r\n      }\r\n\r\n      var locationNumber = this.state.tutorials.indexOf(\"\\\"location\\\":\\\"\\\\\\\"\");\r\n      this.state.tutorials = this.state.tutorials.substring(locationNumber + 14);\r\n      var endQuote4 = this.state.tutorials.indexOf(\"\\\"\");\r\n      var location = this.state.tutorials.substring(0,endQuote4 - 1);\r\n\r\n      var daysNumber = this.state.tutorials.indexOf(\"\\\"days\\\":\\\"\");\r\n      this.state.tutorials = this.state.tutorials.substring(daysNumber + 8);\r\n      var endQuote5 = this.state.tutorials.indexOf(\"\\\"\");\r\n      var days = this.state.tutorials.substring(0,endQuote5);\r\n      if (days.match(/day/) != null)\r\n      {\r\n        if (days.match(/day/g).length == 1)\r\n        {\r\n          days = \"\\\"\" + days.substring(0,days.indexOf(\",\")) + \"\\\",\" + days.substring(days.indexOf(\",\")+1, days.length - 2) + \"\\\"\";\r\n          days = days.substring(0,days.length-3);\r\n          days = days.substring(1,days.length-1);\r\n          days = [days];\r\n        }\r\n      }\r\n\r\n      var startNumber = this.state.tutorials.indexOf(\"\\\"startTime\\\":\\\"\");\r\n      this.state.tutorials = this.state.tutorials.substring(startNumber + 13);\r\n      var endQuote6 = this.state.tutorials.indexOf(\"\\\"\");\r\n      var startTime = this.state.tutorials.substring(0,endQuote6-3);\r\n      if (startTime.charAt(0) == \" \")\r\n        startTime = startTime.substring(1);\r\n      startTime = parseFloat(startTime).toFixed(2);\r\n\r\n      var endNumber = this.state.tutorials.indexOf(\"\\\"endTime\\\":\\\"\");\r\n      this.state.tutorials = this.state.tutorials.substring(endNumber + 11);\r\n      var endQuote7 = this.state.tutorials.indexOf(\"\\\"\");\r\n      var endTime = this.state.tutorials.substring(0,endQuote7-3);\r\n      endTime = parseFloat(endTime).toFixed(2);\r\n\r\n      startTime = \"\" + startTime.substring(0,startTime.indexOf(\".\")) + \":\" +startTime.substring(startTime.indexOf(\".\")+1);\r\n      endTime = \"\" + endTime.substring(0,endTime.indexOf(\".\")) + \":\" + endTime.substring(endTime.indexOf(\".\")+1);\r\n\r\n      var semNumber = this.state.tutorials.indexOf(\"\\\"semester\\\":\\\"\");\r\n      this.state.tutorials = this.state.tutorials.substring(semNumber + 12);\r\n      var endQuote8 = this.state.tutorials.indexOf(\"\\\"\");\r\n      var semester = this.state.tutorials.substring(0,endQuote8);\r\n\r\n      if (days.length == 0)\r\n        days = [\"Thursday\"];\r\n      else if (days[0] == \"\" || days[0] == \" \" || days[0] == null)\r\n        days = [\"Thursday\"];\r\n\r\n      var newCourse = new JsonClass(subject,semester);\r\n      var foundCourse = false;\r\n      var indexOfCourse = 0;\r\n      var i;\r\n      for (i = 0; i < courses31.length; i++)\r\n      {\r\n        var boolean1 = courses31[i].equals2(newCourse);\r\n        if (boolean1 == true)\r\n        {\r\n          foundCourse = true;\r\n          indexOfCourse = i;\r\n        }\r\n      }\r\n      if (!foundCourse)\r\n      {\r\n        courses31.push(newCourse);\r\n        indexOfCourse = courses31.length - 1;\r\n      }\r\n\r\n      // Adding The Tutorial to the Lecture in the Course --> Find Right Lecture --> Add Tut\r\n      var lectureExists = false;\r\n      var tut = new JsonTut(sectionNumber,days,startTime,endTime,location);\r\n      var correctCourse = courses31[indexOfCourse];\r\n      var lectureSection = sectionNumber.substring(0,sectionNumber.length-2);\r\n      for (i = 0; i < correctCourse.lecture.length; i++)\r\n      {\r\n        if (correctCourse.lecture[i].section == lectureSection)\r\n        {\r\n          lectureExists = true;\r\n          correctCourse.lecture[i].addTut(tut);\r\n        }\r\n      }\r\n      if (!lectureExists)\r\n      {\r\n        var noLec = new JsonLecture();\r\n        noLec.addTut(tut);\r\n        correctCourse.addLecture(noLec);\r\n      }\r\n      //console.log(subject + \" \" + sectionNumber + \" \" + location + \" \" + days + \" \" + startTime + \" \" + endTime);\r\n      totaldatabaseEntriesTut++;\r\n      //console.log(subject + \" \" + sectionNumber + \" \" + location + \" \" + days + \" \" + startTime + \" \" + endTime);\r\n    }\r\n\r\n    // Gathering Info from Labs\r\n    while (this.state.labs.length > 1)\r\n    {\r\n      var subjectStart = this.state.labs.indexOf(\"\\\"subject\\\":\\\"\");\r\n      this.state.labs = this.state.labs.substring(subjectStart + 11);\r\n      var endQuote1 = this.state.labs.indexOf(\"\\\"\");\r\n      var subject = this.state.labs.substring(0,endQuote1);\r\n\r\n      var classnumbertStart = this.state.labs.indexOf(\"\\\"classNumber\\\":\\\"\");\r\n      this.state.labs = this.state.labs.substring(classnumbertStart + 15);\r\n      var endQuote2 = this.state.labs.indexOf(\"\\\"\");\r\n      var classNumber = this.state.labs.substring(0,endQuote2);\r\n      subject = subject+classNumber;\r\n\r\n      var labSectionNumber = this.state.labs.indexOf(\"\\\"labSectionNumber\\\":\\\"\\\\\\\"\");\r\n      this.state.labs = this.state.labs.substring(labSectionNumber + 22);\r\n      var endQuote3 = this.state.labs.indexOf(\"\\\"\");\r\n      var sectionNumber = this.state.labs.substring(0,endQuote3 - 1);\r\n\r\n      var locationNumber = this.state.labs.indexOf(\"\\\"location\\\":\\\"\\\\\\\"\");\r\n      this.state.labs = this.state.labs.substring(locationNumber + 14);\r\n      var endQuote4 = this.state.labs.indexOf(\"\\\"\");\r\n      var location = this.state.labs.substring(0,endQuote4 - 1);\r\n\r\n      var daysWasOne = false;\r\n      var daysNumber = this.state.labs.indexOf(\"\\\"days\\\":\\\"\");\r\n      this.state.labs = this.state.labs.substring(daysNumber + 8);\r\n      var endQuote5 = this.state.labs.indexOf(\"\\\"\");\r\n      var days = this.state.labs.substring(0,endQuote5);\r\n      if (days.match(/day/) != null)\r\n      {\r\n        if (days.match(/day/g).length > 1)\r\n        {\r\n          days = days.substring(0,days.indexOf(\",\")) + \",\" + days.substring(days.indexOf(\",\")+2, days.length-2);\r\n          var index = days.indexOf(\",\");\r\n          var day1 = days.substring(0,index);\r\n          var day2 = days.substring(index+1);\r\n          days = [day1, day2];\r\n        }\r\n        else\r\n        {\r\n          days = \"\\\"\" + days.substring(0,days.indexOf(\",\")) + \"\\\",\" + days.substring(days.indexOf(\",\")+1, days.length - 2) + \"\\\"\";\r\n          days = days.substring(0,days.length-3);\r\n          days = days.substring(1,days.length-1);\r\n          days = [days];\r\n          daysWasOne = true;\r\n        }\r\n      }\r\n\r\n      var startNumber = this.state.labs.indexOf(\"\\\"startTime\\\":\\\"\");\r\n      this.state.labs = this.state.labs.substring(startNumber + 13);\r\n      var endQuote6 = this.state.labs.indexOf(\"\\\"\");\r\n      var startTime = this.state.labs.substring(0,endQuote6-3);\r\n      if (startTime.charAt(0) == \" \")\r\n        startTime = startTime.substring(1);\r\n      startTime = parseFloat(startTime).toFixed(2);\r\n\r\n      var endNumber = this.state.labs.indexOf(\"\\\"endTime\\\":\\\"\");\r\n      this.state.labs = this.state.labs.substring(endNumber + 11);\r\n      var endQuote7 = this.state.labs.indexOf(\"\\\"\");\r\n      var endTime = this.state.labs.substring(0,endQuote7-3);\r\n      endTime = parseFloat(endTime).toFixed(2);\r\n\r\n      if (days.length == 0)\r\n        days = [\"Thursday\"];\r\n      else if (days[0] == \"\" || days[0] == \" \" || days[0] == null)\r\n        days = [\"Thursday\"];\r\n      startTime = \"\" + startTime.substring(0,startTime.indexOf(\".\")) + \":\" +startTime.substring(startTime.indexOf(\".\")+1);\r\n      endTime = \"\" + endTime.substring(0,endTime.indexOf(\".\")) + \":\" + endTime.substring(endTime.indexOf(\".\")+1);\r\n\r\n      var semNumber = this.state.labs.indexOf(\"\\\"semester\\\":\\\"\");\r\n      this.state.labs = this.state.labs.substring(semNumber + 12);\r\n      var endQuote8 = this.state.labs.indexOf(\"\\\"\");\r\n      var semester = this.state.labs.substring(0,endQuote8);\r\n\r\n      // Adding all the different Courses to an arraylist \"courses\"\r\n      var newCourse = new JsonClass(subject,semester);\r\n      var indexOfCourse = 0;\r\n      var i;\r\n      for (i = 0; i < courses31.length; i++)\r\n      {\r\n        var boolean1 = courses31[i].equals2(newCourse);\r\n        if (boolean1 == true)\r\n        {\r\n          indexOfCourse = i;\r\n        }\r\n      }\r\n      // Adding The Lecture to the Course\r\n      var labby = new JsonLecture(sectionNumber,days,startTime,endTime,location);\r\n      courses31[indexOfCourse].addLab(labby);\r\n      //console.log(subject + \" \" + sectionNumber + \" \" + location + \" \" + days + \" \" + startTime + \" \" + endTime);\r\n      totaldatabaseEntriesLab++;\r\n    }\r\n\r\n    // Displaying Results\r\n    courses31.pop();\r\n    console.log(\"Got #\" + totaldatabaseEntriesLec + \" Lecture entries from database\");\r\n    console.log(\"Got #\" + totaldatabaseEntriesTut + \" Tutorial entries from database\");\r\n    console.log(\"Got #\" + totaldatabaseEntriesLab + \" Lab entries from database\");\r\n    this.state.dataCourses = courses31;\r\n    this.regEx2();\r\n    console.log(this.state.dataCourses);\r\n    console.log(data1.sequence);\r\n    this.state.courses2 = courses31; //CHANGE TO GET PROPER COURSES\r\n  }\r\n\r\n  regEx2()\r\n  {\r\n    //console.log(this.state.dataCourses);\r\n    //console.log(data1.sequence);\r\n    while (this.state.Courses.length > 1)\r\n    {\r\n      var titleStart = this.state.Courses.indexOf(\"\\\"courseTitle\\\":\\\"\");\r\n      this.state.Courses = this.state.Courses.substring(titleStart + 15);\r\n      var endQuote1 = this.state.Courses.indexOf(\"\\\"\");\r\n      var title = this.state.Courses.substring(0,endQuote1);\r\n\r\n      var subjectStart = this.state.Courses.indexOf(\"\\\"subject\\\":\\\"\");\r\n      this.state.Courses = this.state.Courses.substring(subjectStart + 11);\r\n      var endQuote2 = this.state.Courses.indexOf(\"\\\"\");\r\n      var subject = this.state.Courses.substring(0,endQuote2);\r\n\r\n      var numberStart = this.state.Courses.indexOf(\"\\\"classNumber\\\":\\\"\");\r\n      this.state.Courses = this.state.Courses.substring(numberStart + 15);\r\n      var endQuote3 = this.state.Courses.indexOf(\"\\\"\");\r\n      var courseNumber = this.state.Courses.substring(0,endQuote3);\r\n\r\n      var creditsStart = this.state.Courses.indexOf(\"\\\"credits\\\":\\\"\");\r\n      this.state.Courses = this.state.Courses.substring(creditsStart + 11);\r\n      var endQuote4 = this.state.Courses.indexOf(\"\\\"\");\r\n      var creditNumber = this.state.Courses.substring(0,endQuote4);\r\n\r\n      var prereqStart = this.state.Courses.search(\"\\\"prerequisites\\\":\\\"\");\r\n      this.state.Courses = this.state.Courses.substring(prereqStart + 17);\r\n      var endQuote5 = this.state.Courses.search(\"\\\"\");\r\n      var prereqs = this.state.Courses.substring(0,endQuote5);\r\n      var potentialSPace = prereqs.charAt(0);\r\n      if (potentialSPace == ' ')\r\n        prereqs = prereqs.substring(1);\r\n      while (prereqs.indexOf(\"<==>\") > -1)\r\n      {\r\n        var weirdshi = prereqs.indexOf(\"<==>\");\r\n        prereqs = prereqs.substring(0,weirdshi) +  \" or \" + prereqs.substring(weirdshi+4);\r\n      }\r\n      while (prereqs.search(/\\d COMP/) > -1)\r\n      {\r\n        var starter = prereqs.search(/\\d COMP/);\r\n        prereqs = prereqs.substring(0,starter+1) + \" and COMP\" + prereqs.substring(starter+6);\r\n      }\r\n      while (prereqs.search(/\\d SOEN/) > -1)\r\n      {\r\n        var starter = prereqs.search(/\\d SOEN/);\r\n        prereqs = prereqs.substring(0,starter+1) + \" and SOEN\" + prereqs.substring(starter+6);\r\n      }\r\n      while (prereqs.search(/\\d MATH/) > -1)\r\n      {\r\n        var starter = prereqs.search(/\\d MATH/);\r\n        prereqs = prereqs.substring(0,starter+1) + \" and MATH\" + prereqs.substring(starter+6);\r\n      }\r\n      while (prereqs.search(/\\d ENGR/) > -1)\r\n      {\r\n        var starter = prereqs.search(/\\d ENGR/);\r\n        prereqs = prereqs.substring(0,starter+1) + \" and ENGR\" + prereqs.substring(starter+6);\r\n      }\r\n      while (prereqs.search(/\\d ENCS/) > -1)\r\n      {\r\n        var starter = prereqs.search(/\\d ENCS/);\r\n        prereqs = prereqs.substring(0,starter+1) + \" and ENCS\" + prereqs.substring(starter+6);\r\n      }\r\n\r\n      var coreqStart = this.state.Courses.search(\"\\\"corequisites\\\":\\\"\");\r\n      this.state.Courses = this.state.Courses.substring(coreqStart + 16);\r\n      var endQuote6 = this.state.Courses.search(\"\\\"\");\r\n      var coreqs = this.state.Courses.substring(0,endQuote6);\r\n      var potentialSPace2 = coreqs.charAt(0);\r\n      if (potentialSPace2 == ' ')\r\n        coreqs = coreqs.substring(1);\r\n      while (coreqs.indexOf(\"<==>\") > -1)\r\n      {\r\n        var weirdshi = coreqs.indexOf(\"<==>\");\r\n        coreqs = coreqs.substring(0,weirdshi) +  \" or \" + coreqs.substring(weirdshi+4);\r\n      }\r\n      while (coreqs.search(/\\d COMP/) > -1)\r\n      {\r\n        var starter = coreqs.search(/\\d COMP/);\r\n        coreqs = coreqs.substring(0,starter+1) + \" and COMP\" + coreqs.substring(starter+6);\r\n      }\r\n      while (coreqs.search(/\\d SOEN/) > -1)\r\n      {\r\n        var starter = coreqs.search(/\\d SOEN/);\r\n        coreqs = coreqs.substring(0,starter+1) + \" and SOEN\" + coreqs.substring(starter+6);\r\n      }\r\n      while (coreqs.search(/\\d MATH/) > -1)\r\n      {\r\n        var starter = coreqs.search(/\\d MATH/);\r\n        coreqs = coreqs.substring(0,starter+1) + \" and MATH\" + coreqs.substring(starter+6);\r\n      }\r\n      while (prereqs.search(/\\d ENGR/) > -1)\r\n      {\r\n        var starter = coreqs.search(/\\d ENGR/);\r\n        coreqs = coreqs.substring(0,starter+1) + \" and ENGR\" + coreqs.substring(starter+6);\r\n      }\r\n      while (coreqs.search(/\\d ENCS/) > -1)\r\n      {\r\n        var starter = coreqs.search(/\\d ENCS/);\r\n        coreqs = coreqs.substring(0,starter+1) + \" and ENCS\" + coreqs.substring(starter+6);\r\n      }\r\n      if (prereqs.indexOf(\",\") > -1)\r\n        prereqs = \"\";\r\n      if (title != \"\")\r\n      {\r\n        subject = subject + courseNumber;\r\n        //var cc = new Course(title, subject, courseNumber, creditNumber, prereqs, coreqs);\r\n        var i;\r\n        for (i = 0; i < this.state.dataCourses.length; i++)\r\n        {\r\n          if (this.state.dataCourses[i].course == subject)\r\n          {\r\n            this.state.dataCourses[i].name = title;\r\n            this.state.dataCourses[i].credit = parseFloat(creditNumber);\r\n          }\r\n        }\r\n        //console.log(title + \" \" + subject + \" \" + creditNumber + \" Pre: \" + prereqs + \" Co: \" + coreqs);\r\n      }\r\n    }\r\n  }\r\n\r\n  timeToNum = time => {\r\n    // time parameter represents start time or end time of a class\r\n\r\n    // algo for rounding since table is jumps of 15 mins\r\n    let time1, time2;\r\n    let time1Minute, time2Minute;\r\n    let timeHour = time.substring(0, time.indexOf(\":\"));\r\n    let timeMinute = time.substring(time.indexOf(\":\")+1);\r\n\r\n    timeMinute = parseInt(timeMinute);\r\n    time1Minute = timeMinute - 5;\r\n    time2Minute = timeMinute + 5;\r\n\r\n    if (time1Minute == -5) {\r\n      time2 = timeHour + \":0\" + time2Minute; // @@:05\r\n      timeHour = parseInt(timeHour);\r\n      timeHour--;\r\n      time1 = timeHour + \":\" + \"55\";\r\n    }\r\n    else if (time2Minute == 60) {\r\n      time1 = timeHour + \":\" + time1Minute; // @@:50\r\n      timeHour = parseInt(timeHour);\r\n      timeHour++;\r\n      time2 = timeHour + \":\" + \"00\";\r\n    }\r\n    else if (time1Minute == 0) {\r\n      time1 = timeHour + \":00\"; // @@:00 instead of @@:0\r\n      time2 = timeHour + \":\" + time2Minute; // @@:10\r\n    }\r\n    else {\r\n      time1 = timeHour + \":\" + time1Minute;\r\n      time2 = timeHour + \":\" + time2Minute;\r\n    }\r\n\r\n    for (let i = 0; i < 61; i++)\r\n      if ((time1 === times.time[i].startTime) || \r\n          (time === times.time[i].startTime) || \r\n          (time2 === times.time[i].startTime)) return times.time[i].num;\r\n    return null;\r\n  };\r\n\r\n  handleClose() {\r\n    this.setState({ show: false });\r\n  }\r\n\r\n  handleShow() {\r\n    this.setState({ show: true });\r\n  }\r\n\r\n  handleClose1() {\r\n    this.setState({ show1: false });\r\n  }\r\n\r\n  handleShow1() {\r\n    this.setState({ show1: true });\r\n  }\r\n\r\n  openRubiat() {\r\n    this.setState({\r\n      rubiat: true\r\n    });\r\n  }\r\n\r\n  closeRubiat() {\r\n    this.setState({\r\n      rubiat: false\r\n    });\r\n  }\r\n\r\n  colourRubiatO() {\r\n    this.setState({\r\n      colorS: true\r\n    });\r\n  }\r\n\r\n  colourRubiatC() {\r\n    this.setState({\r\n      colorS: false\r\n    });\r\n  }\r\n\r\n  openUpload() {\r\n    this.setState({\r\n      showUpload: true\r\n    })\r\n  }\r\n\r\n  closeUpload() {\r\n    this.setState({\r\n      showUpload: false\r\n    })\r\n  }\r\n\r\n  handleSelectedFile = event => {\r\n    this.setState({\r\n      uploadedFile: event.target.files[0]\r\n    })\r\n  }\r\n\r\n  handleUpload = () => {\r\n    var file = this.state.uploadedFile;\r\n    var reader = new FileReader();\r\n    reader.readAsText(file);\r\n\r\n    reader.onload = () => {\r\n      //console.log(reader.result);\r\n      var JSONified = JSON.parse(reader.result);\r\n\r\n      for (let i = 0; i < JSONified.length; i++) {\r\n        // document.getElementById(\"add-class1\").value = JSONified[i].course;\r\n        // this.addClass();\r\n\r\n        let array = this.state.selectedCourses; //Keep track of user selected classes\r\n        let input = JSONified[i][0].course;\r\n        let classList = this.state.courses2; //Gets the whole list of courses of concordia\r\n        let addedClass;\r\n        let classExists = false;\r\n        for (let i = 0; i < classList.length; i++) {\r\n          if (classList[i].course === input) {\r\n            for (let j = 0; j < this.state.selectedCourses.length; j++) {\r\n              if (this.state.selectedCourses[j][0].course === input) {\r\n                document.getElementById(\"addStatus1\").innerHTML =\r\n                  \"This class is already added.\";\r\n                this.setState({ show2: \"visible\" });\r\n                return;\r\n              }\r\n            }\r\n            addedClass = classList[i];\r\n            classExists = true;\r\n            this.setState({ show2: \"hidden\" });\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (classExists === false) {\r\n          document.getElementById(\"addStatus1\").innerHTML =\r\n            \"Invalid Class/Class Not Found\";\r\n          this.setState({ show2: \"visible\" });\r\n          return;\r\n        }\r\n\r\n        let colorChosen;\r\n\r\n        for (let j = 0; j < this.state.colors.length; j++) {\r\n          if (this.state.colors[j][1] == 0) {\r\n            colorChosen = this.state.colors[j][0];\r\n            this.state.colors[j][1] = 1;\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (colorChosen === null || colorChosen === undefined) {\r\n          return;\r\n        }\r\n\r\n        let lectureIndex = JSONified[i][1];\r\n        let tutorialIndex = JSONified[i][2];\r\n        let labIndex = JSONified[i][3];\r\n\r\n        for(let j=0; j<addedClass.lecture[lectureIndex].days.length; j++){ // add lecture\r\n\r\n        let initial = this.timeToNum(addedClass.lecture[lectureIndex].startTime);\r\n        let final = this.timeToNum(addedClass.lecture[lectureIndex].endTime) - 1;\r\n        let middle = parseInt((initial + final)/2);\r\n    \r\n          for (let i = 0; i < 61; i++) {\r\n            if (\r\n              initial <= i &&\r\n              final >= i\r\n            ) {\r\n              let dayOfTheWeek = addedClass.lecture[lectureIndex].days[j] + \"-\";\r\n              document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n              if (i === middle - 1) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.course;\r\n              }else if(i === middle){\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lecture[lectureIndex].startTime;\r\n              }\r\n              else if(i === middle + 1){\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n              }\r\n              else if(i === middle + 2){\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lecture[lectureIndex].endTime;\r\n              }else{\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        for (let k = 0; k < addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days.length; k++) { // add tutorial\r\n\r\n          let initial = this.timeToNum(addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime);\r\n          let final = this.timeToNum(addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime) - 1;\r\n          let middle = parseInt((initial + final)/2);\r\n      \r\n          if ((final - initial) <= 3) {\r\n            for (let i = 0; i < 61; i++) {\r\n              if (\r\n                initial <= i &&\r\n                final >= i\r\n              ) {\r\n                let dayOfTheWeek = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days[k] + \"-\";\r\n                document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                if (i === middle - 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.course;\r\n                }else if (i === middle) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"Tutorial\";\r\n                }else if(i === middle + 1){\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime + \r\n                  \"-\" + addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime;\r\n                }else{\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n                }\r\n              }\r\n            }\r\n          }\r\n          else {\r\n            for (let i = 0; i < 61; i++) {\r\n              if (\r\n                initial <= i &&\r\n                final >= i\r\n              ) {\r\n                let dayOfTheWeek = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].days[k] + \"-\";\r\n                document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                if (i === middle - 2) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.course;\r\n                }else if (i === middle - 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"Tutorial\";\r\n                }else if(i === middle){\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].startTime;\r\n                }else if(i === middle + 1){\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n                }else if(i === middle + 2){\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lecture[lectureIndex].tutorial[tutorialIndex].endTime;\r\n                }else{\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        if (addedClass.lab.length != 0) {\r\n          for (let l = 0; l < addedClass.lab[labIndex].days.length; l++) { // add lab\r\n\r\n            let initial = this.timeToNum(addedClass.lab[labIndex].startTime);\r\n            let final = this.timeToNum(addedClass.lab[labIndex].endTime) - 1;\r\n            let middle = parseInt((initial + final)/2);\r\n        \r\n            if ((final - initial) <= 3) {\r\n              for (let i = 0; i < 61; i++) {\r\n                if (\r\n                  initial <= i &&\r\n                  final >= i\r\n                ) {\r\n                  let dayOfTheWeek = addedClass.lab[labIndex].days[l] + \"-\";\r\n                  document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                  if (i === middle - 1) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.course;\r\n                  }else if (i === middle) {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML = \"Lab\";\r\n                  }else if(i === middle + 1){\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lab[labIndex].startTime + \r\n                    \"-\" + addedClass.lab[labIndex].endTime;\r\n                  } else {\r\n                    document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n                  }\r\n                }\r\n              }\r\n            } \r\n            else {\r\n              for (let i = 0; i < 61; i++) {\r\n              if (\r\n                initial <= i &&\r\n                final >= i\r\n              ) {\r\n                let dayOfTheWeek = addedClass.lab[labIndex].days[l] + \"-\";\r\n                document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                if (i === middle - 2) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.course;\r\n                }else if (i === middle - 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"Lab\";\r\n                }else if(i === middle){\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lab[labIndex].startTime;\r\n                }\r\n                else if(i === middle + 1){\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n                }\r\n                else if(i === middle + 2){\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lab[labIndex].endTime;\r\n                }else{\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    \r\n        let oldColors = [];\r\n\r\n        for (let o = 0; o < this.state.selectedCourses.length; o++) { // get list of all the colors in the selection menu before change\r\n          oldColors[o] = document.getElementById(this.state.selectedCourses[o][0].course).style.backgroundColor;\r\n        }\r\n\r\n        oldColors.push(colorChosen); // add the color of new course to the list also\r\n        this.setState({colorOfNewClass: oldColors}) // when rendering the selection menu it will render it with all the old colors + the newly added color\r\n\r\n        let defaultValue1 = addedClass.lecture[lectureIndex].section + \"-\" + addedClass.lecture[lectureIndex].tutorial[tutorialIndex].section;\r\n        let defaultValue2 = \"\"; \r\n        \r\n        if (addedClass.lab.length != 0) {\r\n          defaultValue2 = addedClass.lab[labIndex].section + \"\";\r\n        }\r\n        \r\n        this.setState({\r\n          defaultValueLectureTutorial: defaultValue1, defaultValueLab: defaultValue2\r\n        })\r\n\r\n        let array1 = [];\r\n        array1[0] = addedClass;\r\n        array1[1] = lectureIndex; //addedClass.lecture[0].section;\r\n        array1[2] = tutorialIndex; //addedClass.lecture[0].tutorial[0].section;\r\n        array1[3] = labIndex; //addedClass.lab[0].section;\r\n        array.push(array1);\r\n        this.setState({\r\n          selectedCourses: array\r\n        });\r\n\r\n      }\r\n\r\n    }\r\n\r\n    this.setState({\r\n      showUpload: false\r\n    })\r\n\r\n  }\r\n\r\n  downloadJson = () => {\r\n    let courseArray = this.state.selectedCourses;\r\n    let filename = \"schedule.json\";\r\n    let contentType = \"application/json;charset=utf-8;\";\r\n\r\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\r\n      var blob = new Blob([decodeURIComponent(encodeURI(JSON.stringify(courseArray)))], { type: contentType });\r\n      navigator.msSaveOrOpenBlob(blob, filename);\r\n    } else {\r\n      var file = document.createElement('a');\r\n      file.download = filename;\r\n      file.href = 'data:' + contentType + ',' + encodeURIComponent(JSON.stringify(courseArray));\r\n      file.target = '_blank';\r\n      document.body.appendChild(file);\r\n      file.click();\r\n      document.body.removeChild(file);\r\n    }\r\n  }\r\n\r\n  /*addClass(days_array) {\r\n    document.getElementById(\"id\");\r\n  }*/\r\n\r\n  toggleLoading() {\r\n    this.setState({\r\n      isLoading: !this.state.isLoading\r\n    });\r\n  }\r\n\r\n  handleChangeComplete = color => {\r\n\r\n    let courseNameInput = document.getElementById(\"colorChanger\").value; //Get user input comp248\r\n    let chosenClass; //class object\r\n\r\n    // instead of 'selectedCourses' it looped through 'classes' before\r\n    for (let i = 0; i < this.state.selectedCourses.length; i++) {\r\n      if (courseNameInput === this.state.selectedCourses[i][0].course) {\r\n        chosenClass = this.state.selectedCourses[i];\r\n        break;\r\n      }\r\n    }\r\n\r\n    let lectureSection = chosenClass[1];\r\n    let tutorialSection = chosenClass[2];\r\n    let labSection = chosenClass[3];\r\n\r\n    document.getElementById(chosenClass[0].course).style.backgroundColor = color.hex;\r\n\r\n    let color1;\r\n\r\n    // for (let j = 0; j < this.state.colors.length; j++) { wtf is this\r\n    //   if (this.state.colors[j][0] == color) {\r\n    //     this.state.colors[j][1] = 0;\r\n    //     break;\r\n    //   }\r\n    // }\r\n\r\n  for(let j=0; j<chosenClass[0].lecture[lectureSection].days.length; j++) { //added\r\n    for (let i = 0; i < 61; i++) {\r\n      let dayOfTheWeek = chosenClass[0].lecture[lectureSection].days[j] + \"-\";\r\n      if (\r\n        this.timeToNum(chosenClass[0].lecture[lectureSection].startTime) <= i &&\r\n        (this.timeToNum(chosenClass[0].lecture[lectureSection].endTime) - 1) >= i\r\n      ) {\r\n        color1 = document.getElementById(dayOfTheWeek + i).style.backgroundColor;\r\n        document.getElementById(dayOfTheWeek + i).style.backgroundColor = color.hex; // (you can choose to select the return of a function)\r\n      }\r\n    }\r\n  }\r\n\r\n  for(let j=0; j<chosenClass[0].lecture[lectureSection].tutorial[tutorialSection].days.length; j++) {//added\r\n    for (let i = 0; i < 61; i++) {\r\n      let dayOfTheWeek = chosenClass[0].lecture[lectureSection].tutorial[tutorialSection].days[j] + \"-\";\r\n      if (\r\n        this.timeToNum(chosenClass[0].lecture[lectureSection].tutorial[tutorialSection].startTime) <= i &&\r\n        (this.timeToNum(chosenClass[0].lecture[lectureSection].tutorial[tutorialSection].endTime) - 1) >= i\r\n      ) {\r\n        //color1 = document.getElementById(dayOfTheWeek + i).style.backgroundColor;\r\n        document.getElementById(dayOfTheWeek + i).style.backgroundColor = color.hex; // (you can choose to select the return of a function)\r\n      }\r\n    }\r\n  }\r\n\r\n      if (chosenClass[0].lab.length != 0) {\r\n        for(let j=0; j<chosenClass[0].lab[labSection].days.length; j++) { //added\r\n          for (let i = 0; i < 61; i++) {\r\n            let dayOfTheWeek = chosenClass[0].lab[labSection].days[j] + \"-\";\r\n            if (\r\n              this.timeToNum(chosenClass[0].lab[labSection].startTime) <= i &&\r\n              (this.timeToNum(chosenClass[0].lab[labSection].endTime) - 1) >= i\r\n            ) {\r\n              //color1 = document.getElementById(dayOfTheWeek + i).style.backgroundColor;\r\n              document.getElementById(dayOfTheWeek + i).style.backgroundColor = color.hex; // (you can choose to select the return of a function)\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n    for (let j = 0; j < this.state.colors.length; j++) {\r\n      if (this.state.colors[j][0] == color1) {\r\n        this.state.colors[j][1] = 0;\r\n        break;\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n  addClass = () => {\r\n    let array = this.state.selectedCourses; //Keep track of user selected classes\r\n    let input = document.getElementById(\"add-class1\").value; //Get user input (Course Code)\r\n    let classList = this.state.courses; //Gets the whole list of courses of concordia\r\n    let addedClass;\r\n    let classExists = false;\r\n    for (let i = 0; i < classList.length; i++) {\r\n      if (classList[i].course === input) {\r\n        for (let j = 0; j < this.state.selectedCourses.length; j++) {\r\n          if (this.state.selectedCourses[j].course === input) {\r\n            document.getElementById(\"addStatus1\").innerHTML =\r\n              \"This class is already added.\";\r\n            this.setState({ show2: \"visible\" });\r\n            return;\r\n          }\r\n        }\r\n        addedClass = classList[i];\r\n        classExists = true;\r\n        this.setState({ show2: \"hidden\" });\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (classExists === false) {\r\n      document.getElementById(\"addStatus1\").innerHTML =\r\n        \"Invalid Class/Class Not Found\";\r\n      this.setState({ show2: \"visible\" });\r\n      return;\r\n    }\r\n\r\n\r\n\r\n    let n = 1;\r\n    let initial = this.timeToNum(addedClass.startTime);\r\n    let final = this.timeToNum(addedClass.endTime);\r\n    let middle = (initial + final)/2;\r\n    let colorChosen;\r\n\r\n    for (let j = 0; j < this.state.colors.length; j++) {\r\n      if (this.state.colors[j][1] == 0) {\r\n        colorChosen = this.state.colors[j][0];\r\n        this.state.colors[j][1] = 1;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (colorChosen === null || colorChosen === undefined) {\r\n      return;\r\n    }\r\n\r\n  for(let k=0; k<addedClass.ta.length; k++) {\r\n    for(let j=0; j<addedClass.ta[k].days.length; j++){\r\n      let dayOfTheWeek = addedClass.ta[k].days[j] + \"-\";\r\n      let n = 1;\r\n      let initial = this.timeToNum(addedClass.ta[k].startTime);\r\n      let final = this.timeToNum(addedClass.ta[k].endTime);\r\n      let middle = (initial + final)/2;\r\n      for (let i = 0; i < 61; i++) {\r\n        if (\r\n          this.timeToNum(addedClass.ta[k].startTime) <= i &&\r\n          this.timeToNum(addedClass.ta[k].endTime) >= i\r\n        ) {\r\n          document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n          if (i === middle - 2) {\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.course;\r\n            n++;\r\n          }else if (i === middle - 1) {\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.ta[k].type;\r\n            n++;\r\n          }else if(i === middle){\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.ta[k].startTime;\r\n            n++;\r\n          }\r\n          else if(i === middle + 1){\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n            n++;\r\n          }\r\n          else if(i === middle + 2){\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.ta[k].endTime;\r\n            n++;\r\n          }else{\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n    for(let j=0; j<addedClass.days.length; j++){\r\n      for (let i = 0; i < 61; i++) {\r\n        if (\r\n          initial <= i &&\r\n          final >= i\r\n        ) {\r\n          let dayOfTheWeek = addedClass.days[j] + \"-\";\r\n          document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n          if (i === middle - 1) {\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.course;\r\n            n++;\r\n          }else if(i === middle){\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.startTime;\r\n            n++;\r\n          }\r\n          else if(i === middle + 1){\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n            n++;\r\n          }\r\n          else if(i === middle + 2){\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.endTime;\r\n            n++;\r\n          }else{\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    let oldColors = [];\r\n\r\n    for (let o = 0; o < this.state.selectedCourses.length; o++) { // get list of all the colors in the selection menu before change\r\n      oldColors[o] = document.getElementById(this.state.selectedCourses[o].course).style.backgroundColor;\r\n    }\r\n\r\n    oldColors.push(colorChosen); // add the color of new course to the list also\r\n    this.setState({colorOfNewClass: oldColors}) // when rendering the selection menu it will render it with all the old colors + the newly added color\r\n\r\n    array.push(addedClass);\r\n    this.setState({\r\n      selectedCourses: array\r\n    });\r\n  };\r\n\r\n  addClass1 = () => {\r\n    let array = this.state.selectedCourses; //Keep track of user selected classes\r\n    let input = document.getElementById(\"add-class1\").value; //Get user input (Course Code)\r\n    let classList = this.state.courses2; //Gets the whole list of courses of concordia\r\n    let addedClass;\r\n    let classExists = false;\r\n    for (let i = 0; i < classList.length; i++) {\r\n      if (classList[i].course === input) {\r\n        for (let j = 0; j < this.state.selectedCourses.length; j++) {\r\n          if (this.state.selectedCourses[j][0].course === input) {\r\n            document.getElementById(\"addStatus1\").innerHTML =\r\n              \"This class is already added.\";\r\n            this.setState({ show2: \"visible\" });\r\n            return;\r\n          }\r\n        }\r\n        addedClass = classList[i];\r\n        classExists = true;\r\n        this.setState({ show2: \"hidden\" });\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (classExists === false) {\r\n      document.getElementById(\"addStatus1\").innerHTML =\r\n        \"Invalid Class/Class Not Found\";\r\n      this.setState({ show2: \"visible\" });\r\n      return;\r\n    }\r\n\r\n    let colorChosen;\r\n\r\n    for (let j = 0; j < this.state.colors.length; j++) {\r\n      if (this.state.colors[j][1] == 0) {\r\n        colorChosen = this.state.colors[j][0];\r\n        this.state.colors[j][1] = 1;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (colorChosen === null || colorChosen === undefined) {\r\n      return;\r\n    }\r\n\r\n// right now it's hardcoded to always add the first lecture section of a new class \"[0]\"\r\n// it doesn't verify if that section can actually fit in the table\r\n\r\n    for(let j=0; j<addedClass.lecture[0].days.length; j++){ // add lecture\r\n\r\n    let initial = this.timeToNum(addedClass.lecture[0].startTime);\r\n    let final = this.timeToNum(addedClass.lecture[0].endTime) - 1;\r\n    let middle = parseInt((initial + final)/2);\r\n\r\n      for (let i = 0; i < 61; i++) {\r\n        if (\r\n          initial <= i &&\r\n          final >= i\r\n        ) {\r\n          let dayOfTheWeek = addedClass.lecture[0].days[j] + \"-\";\r\n          document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n          if (i === middle - 2) {\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.course;\r\n          }else if (i === middle - 1) {\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = \"Lecture\";\r\n          }else if(i === middle){\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lecture[0].startTime;\r\n          }\r\n          else if(i === middle + 1){\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n          }\r\n          else if(i === middle + 2){\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lecture[0].endTime;\r\n          }else{\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    for (let k = 0; k < addedClass.lecture[0].tutorial[0].days.length; k++) { // add tutorial\r\n\r\n      let initial = this.timeToNum(addedClass.lecture[0].tutorial[0].startTime);\r\n      let final = this.timeToNum(addedClass.lecture[0].tutorial[0].endTime) - 1;\r\n      let middle = parseInt((initial + final)/2);\r\n  \r\n      if ((final - initial) <= 3) {\r\n        for (let i = 0; i < 61; i++) {\r\n          if (\r\n            initial <= i &&\r\n            final >= i\r\n          ) {\r\n            let dayOfTheWeek = addedClass.lecture[0].tutorial[0].days[k] + \"-\";\r\n            document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n            if (i === middle - 1) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.course;\r\n            }else if (i === middle) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"Tutorial\";\r\n            }else if(i === middle + 1){\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lecture[0].tutorial[0].startTime + \r\n              \"-\" + addedClass.lecture[0].tutorial[0].endTime;\r\n            }else{\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        for (let i = 0; i < 61; i++) {\r\n          if (\r\n            initial <= i &&\r\n            final >= i\r\n          ) {\r\n            let dayOfTheWeek = addedClass.lecture[0].tutorial[0].days[k] + \"-\";\r\n            document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n            if (i === middle - 2) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.course;\r\n            }else if (i === middle - 1) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"Tutorial\";\r\n            }else if(i === middle){\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lecture[0].tutorial[0].startTime;\r\n            }\r\n            else if(i === middle + 1){\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n            }\r\n            else if(i === middle + 2){\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lecture[0].tutorial[0].endTime;\r\n            }else{\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (addedClass.lab.length != 0) {\r\n      for (let l = 0; l < addedClass.lab[0].days.length; l++) { // add lab\r\n    \r\n        let initial = this.timeToNum(addedClass.lab[0].startTime);\r\n        let final = this.timeToNum(addedClass.lab[0].endTime) - 1;\r\n        let middle = parseInt((initial + final)/2);\r\n    \r\n      if ((final - initial) <= 3) {\r\n        for (let i = 0; i < 61; i++) {\r\n          if (\r\n            initial <= i &&\r\n            final >= i\r\n          ) {\r\n            let dayOfTheWeek = addedClass.lab[0].days[l] + \"-\";\r\n            document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n            if (i === middle - 1) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.course;\r\n            }else if (i === middle) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"Lab\";\r\n            }else if(i === middle + 1){\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lab[0].startTime + \r\n              \"-\" + addedClass.lab[0].endTime;\r\n            } else {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n            }\r\n          }\r\n        }\r\n      } \r\n      else {\r\n        for (let i = 0; i < 61; i++) {\r\n          if (\r\n            initial <= i &&\r\n            final >= i\r\n          ) {\r\n            let dayOfTheWeek = addedClass.lab[0].days[l] + \"-\";\r\n            document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n            if (i === middle - 2) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.course;\r\n            }else if (i === middle - 1) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"Lab\";\r\n            }else if(i === middle){\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lab[0].startTime;\r\n            }else if(i === middle + 1){\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n            }else if(i === middle + 2){\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = addedClass.lab[0].endTime;\r\n            }else{\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n    let oldColors = [];\r\n\r\n    for (let o = 0; o < this.state.selectedCourses.length; o++) { // get list of all the colors in the selection menu before change\r\n      oldColors[o] = document.getElementById(this.state.selectedCourses[o][0].course).style.backgroundColor;\r\n    }\r\n\r\n    oldColors.push(colorChosen); // add the color of new course to the list also\r\n    this.setState({colorOfNewClass: oldColors}) // when rendering the selection menu it will render it with all the old colors + the newly added color\r\n\r\n    let array1 = [];\r\n    array1[0] = addedClass;\r\n    array1[1] = 0; //addedClass.lecture[0].section;\r\n    array1[2] = 0; //addedClass.lecture[0].tutorial[0].section;\r\n    array1[3] = 0; //addedClass.lab[0].section;\r\n    array.push(array1);\r\n    this.setState({\r\n      selectedCourses: array\r\n    });\r\n  };\r\n\r\n  remove = () => {\r\n    let coursecode = document.getElementById(\"add-class1\").value;\r\n    let courseToRemove;\r\n\r\n    for (let i = 0; i < this.state.selectedCourses.length; i++) {\r\n      if (this.state.selectedCourses[i].course === coursecode) {\r\n        courseToRemove = this.state.selectedCourses[i];\r\n        break;\r\n      }\r\n    }\r\n\r\n\r\n\r\n    if (courseToRemove === undefined || courseToRemove === null) {\r\n      document.getElementById(\"addStatus1\").innerHTML = \"Invalid Course / Course Not Found\";\r\n      this.setState({show2: \"visible\"})\r\n      return;\r\n    }\r\n\r\n    let color;\r\n\r\n  for(let j=0; j<courseToRemove.days.length; j++)\r\n    for (let i = 0; i < 61; i++) {\r\n      let dayOfTheWeek = courseToRemove.days[j] + \"-\";\r\n      if (\r\n        this.timeToNum(courseToRemove.startTime) <= i &&\r\n        this.timeToNum(courseToRemove.endTime) >= i\r\n      ) {\r\n        color = document.getElementById(dayOfTheWeek + i).style.backgroundColor;\r\n        document.getElementById(dayOfTheWeek + i).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\r\n        document.getElementById(dayOfTheWeek + i).innerHTML = \"-----------------\";\r\n      }\r\n    }\r\n\r\n    for(let k=0; k<courseToRemove.ta.length; k++)\r\n      for(let j=0; j<courseToRemove.ta[k].days.length; j++){\r\n        let dayOfTheWeek = courseToRemove.ta[k].days[j] + \"-\";\r\n        for (let i = 0; i < 61; i++) {\r\n          if (\r\n            this.timeToNum(courseToRemove.ta[k].startTime) <= i &&\r\n            this.timeToNum(courseToRemove.ta[k].endTime) >= i\r\n          ) {\r\n            document.getElementById(dayOfTheWeek + i).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = \"-----------------\";\r\n          }\r\n        }\r\n      }\r\n\r\n    for (let j = 0; j < this.state.colors.length; j++) {\r\n      if (this.state.colors[j][0] == color) {\r\n        this.state.colors[j][1] = 0;\r\n        break;\r\n      }\r\n    }\r\n\r\n    let oldColors = [];\r\n\r\n    for (let o = 0; o < this.state.selectedCourses.length; o++) { // get list of all the colors before change\r\n      oldColors[o] = document.getElementById(this.state.selectedCourses[o].course).style.backgroundColor;\r\n    }\r\n\r\n    let oldColorsFiltered = oldColors.filter(data => color !== data); // filter out the color of the course that we just removed\r\n\r\n    let array = this.state.selectedCourses.filter(\r\n      data => coursecode !== data.course\r\n    );\r\n    this.setState({\r\n      selectedCourses: array, show2: \"hidden\"\r\n    });\r\n\r\n    for (let p = 0; p < this.state.selectedCourses.length; p++) {// re-assign the old colors to the new table\r\n      document.getElementById(this.state.selectedCourses[p].course).style.backgroundColor = oldColorsFiltered[p];\r\n    }\r\n\r\n  };\r\n\r\n  remove1 = () => {\r\n    let coursecode = document.getElementById(\"add-class1\").value;\r\n    let courseToRemove, lectureSection, tutorialSection, labSection,\r\n    lectureIndex, tutorialIndex, labIndex;\r\n\r\n    for (let i = 0; i < this.state.selectedCourses.length; i++) {\r\n      if (this.state.selectedCourses[i][0].course === coursecode) {\r\n        courseToRemove = this.state.selectedCourses[i][0];\r\n        lectureIndex = this.state.selectedCourses[i][1];\r\n        tutorialIndex = this.state.selectedCourses[i][2];\r\n        labIndex = this.state.selectedCourses[i][3];\r\n        break;\r\n      }\r\n    }\r\n\r\n\r\n\r\n    if (courseToRemove === undefined || courseToRemove === null) {\r\n      document.getElementById(\"addStatus1\").innerHTML = \"Invalid Course / Course Not Found\";\r\n      this.setState({show2: \"visible\"})\r\n      return;\r\n    }\r\n\r\n    let color;\r\n\r\n    // for (let i = 0; i < courseToRemove.lecture.length; i++) {\r\n    //   if (courseToRemove.lecture[i].section === lectureSection) {\r\n    //     lectureIndex = i;\r\n    //   }\r\n    // }\r\n\r\n    // for (let i = 0; i < courseToRemove.lecture[lectureIndex].tutorial.length; i++) {\r\n    //   if (courseToRemove.lecture[lectureIndex].tutorial[i].section === tutorialSection) {\r\n    //     tutorialIndex = i;\r\n    //   }\r\n    // }\r\n\r\n    // for (let i = 0; i < courseToRemove.lab.length; i++) {\r\n    //   if (courseToRemove.lab[i].section === labSection) {\r\n    //     labIndex = i;\r\n    //   }\r\n    // }\r\n\r\n    // lectureIndex = courseArray[1];\r\n    // tutorialIndex = courseArray[2];\r\n    // labIndex = courseArray[3];\r\n\r\n  for(let j=0; j<courseToRemove.lecture[lectureIndex].days.length; j++) {\r\n    for (let i = 0; i < 61; i++) {\r\n      let dayOfTheWeek = courseToRemove.lecture[lectureIndex].days[j] + \"-\";\r\n      if (\r\n        this.timeToNum(courseToRemove.lecture[lectureIndex].startTime) <= i &&\r\n        (this.timeToNum(courseToRemove.lecture[lectureIndex].endTime)-1) >= i\r\n      ) {\r\n        color = document.getElementById(dayOfTheWeek + i).style.backgroundColor;\r\n        document.getElementById(dayOfTheWeek + i).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\r\n        document.getElementById(dayOfTheWeek + i).innerHTML = \"-----------------\";\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n      for(let j=0; j<courseToRemove.lecture[lectureIndex].tutorial[tutorialIndex].days.length; j++){\r\n        let dayOfTheWeek = courseToRemove.lecture[lectureIndex].tutorial[tutorialIndex].days[j] + \"-\";\r\n        for (let i = 0; i < 61; i++) {\r\n          if (\r\n            this.timeToNum(courseToRemove.lecture[lectureIndex].tutorial[tutorialIndex].startTime) <= i &&\r\n            (this.timeToNum(courseToRemove.lecture[lectureIndex].tutorial[tutorialIndex].endTime)-1) >= i\r\n          ) {\r\n            document.getElementById(dayOfTheWeek + i).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = \"-----------------\";\r\n          }\r\n        }\r\n      }\r\n\r\n      if (courseToRemove.lab.length != 0) {\r\n        for(let j=0; j<courseToRemove.lab[labIndex].days.length; j++){\r\n          let dayOfTheWeek = courseToRemove.lab[labIndex].days[j] + \"-\";\r\n          for (let i = 0; i < 61; i++) {\r\n            if (\r\n              this.timeToNum(courseToRemove.lab[labIndex].startTime) <= i &&\r\n              (this.timeToNum(courseToRemove.lab[labIndex].endTime)-1) >= i\r\n            ) {\r\n              document.getElementById(dayOfTheWeek + i).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"-----------------\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n    for (let j = 0; j < this.state.colors.length; j++) {\r\n      if (this.state.colors[j][0] == color) {\r\n        this.state.colors[j][1] = 0;\r\n        break;\r\n      }\r\n    }\r\n\r\n    let oldColors = [];\r\n\r\n    for (let o = 0; o < this.state.selectedCourses.length; o++) { // get list of all the colors before change\r\n      oldColors[o] = document.getElementById(this.state.selectedCourses[o][0].course).style.backgroundColor;\r\n    }\r\n\r\n    let oldColorsFiltered = oldColors.filter(data => color !== data); // filter out the color of the course that we just removed\r\n\r\n    let array = this.state.selectedCourses.filter(\r\n      data => coursecode !== data[0].course\r\n    );\r\n    this.setState({\r\n      selectedCourses: array, show2: \"hidden\"\r\n    });\r\n\r\n    // this.setState({\r\n    //   colorOfNewClass: oldColorsFiltered\r\n    // })\r\n    for (let p = 0; p < this.state.selectedCourses.length; p++) {// re-assign the old colors to the new table\r\n      document.getElementById(this.state.selectedCourses[p][0].course).style.backgroundColor = oldColorsFiltered[p];\r\n    }\r\n\r\n  };\r\n\r\n  changeSection(courseName) {\r\n    let regEx = document.getElementById(courseName + \"section\").value;\r\n\r\n    let lectureSection = regEx.substring(0,regEx.indexOf(\"-\"));\r\n    let tutorialSection = regEx.substring(regEx.indexOf(\"-\")+1);\r\n\r\n    let labSection = document.getElementById(courseName + \"labSection\").value;\r\n\r\n    let lectureIndex, tutorialIndex, labIndex;\r\n\r\n    let courseToChange, colorChosen, courseArray;\r\n\r\n    for (let i = 0; i < this.state.selectedCourses.length; i++) {\r\n      if (this.state.selectedCourses[i][0].course === courseName) {\r\n        courseArray = this.state.selectedCourses[i];\r\n        courseToChange = this.state.selectedCourses[i][0];\r\n        lectureIndex = this.state.selectedCourses[i][1];\r\n        tutorialIndex = this.state.selectedCourses[i][2];\r\n        labIndex = this.state.selectedCourses[i][3];\r\n      }\r\n    }\r\n\r\n    for(let j=0; j<courseToChange.lecture[lectureIndex].days.length; j++) {\r\n      for (let i = 0; i < 61; i++) {\r\n        let dayOfTheWeek = courseToChange.lecture[lectureIndex].days[j] + \"-\";\r\n        if (\r\n          this.timeToNum(courseToChange.lecture[lectureIndex].startTime) <= i &&\r\n          (this.timeToNum(courseToChange.lecture[lectureIndex].endTime) - 1) >= i\r\n        ) {\r\n          colorChosen = document.getElementById(dayOfTheWeek + i).style.backgroundColor;\r\n          document.getElementById(dayOfTheWeek + i).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\r\n          document.getElementById(dayOfTheWeek + i).innerHTML = \"-----------------\";\r\n        }\r\n      }\r\n    }\r\n\r\n    for(let j=0; j<courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days.length; j++){\r\n      let dayOfTheWeek = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days[j] + \"-\";\r\n      for (let i = 0; i < 61; i++) {\r\n        if (\r\n          this.timeToNum(courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].startTime) <= i &&\r\n          (this.timeToNum(courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].endTime) - 1) >= i\r\n        ) {\r\n          document.getElementById(dayOfTheWeek + i).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\r\n          document.getElementById(dayOfTheWeek + i).innerHTML = \"-----------------\";\r\n        }\r\n      }\r\n    }\r\n\r\n    if (courseToChange.lab.length != 0) {\r\n      for(let j=0; j<courseToChange.lab[labIndex].days.length; j++){\r\n        let dayOfTheWeek = courseToChange.lab[labIndex].days[j] + \"-\";\r\n        for (let i = 0; i < 61; i++) {\r\n          if (\r\n            this.timeToNum(courseToChange.lab[labIndex].startTime) <= i &&\r\n            (this.timeToNum(courseToChange.lab[labIndex].endTime) - 1) >= i\r\n          ) {\r\n            document.getElementById(dayOfTheWeek + i).style.backgroundColor = \"\"; // (you can choose to select the return of a function)\r\n            document.getElementById(dayOfTheWeek + i).innerHTML = \"-----------------\";\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // add part\r\n\r\n    for (let i = 0; i < courseToChange.lecture.length; i++) {\r\n      if (courseToChange.lecture[i].section === lectureSection) {\r\n        lectureIndex = i;\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < courseToChange.lecture[lectureIndex].tutorial.length; i++) {\r\n      if (courseToChange.lecture[lectureIndex].tutorial[i].section === tutorialSection) {\r\n        tutorialIndex = i;\r\n      }\r\n    }\r\n\r\n    if (courseToChange.lab.length != 0) {\r\n      for (let i = 0; i < courseToChange.lab.length; i++) {\r\n        if (courseToChange.lab[i].section === labSection) {\r\n          labIndex = i;\r\n        }\r\n      }\r\n    }\r\n\r\n    for(let j=0; j<courseToChange.lecture[lectureIndex].days.length; j++){ // add lecture\r\n\r\n      let initial = this.timeToNum(courseToChange.lecture[lectureIndex].startTime);\r\n      let final = this.timeToNum(courseToChange.lecture[lectureIndex].endTime) - 1;\r\n      let middle = parseInt((initial + final)/2);\r\n  \r\n        for (let i = 0; i < 61; i++) {\r\n          if (\r\n            initial <= i &&\r\n            final >= i\r\n          ) {\r\n            let dayOfTheWeek = courseToChange.lecture[lectureIndex].days[j] + \"-\";\r\n            document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n            if (i === middle - 2) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = courseToChange.course;\r\n            }else if (i === middle - 1) {\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"Lecture\";\r\n            }else if(i === middle){\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = courseToChange.lecture[lectureIndex].startTime;\r\n            }\r\n            else if(i === middle + 1){\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n            }\r\n            else if(i === middle + 2){\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = courseToChange.lecture[lectureIndex].endTime;\r\n            }else{\r\n              document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      for (let k = 0; k < courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days.length; k++) { // add tutorial\r\n\r\n        let initial = this.timeToNum(courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].startTime);\r\n        let final = this.timeToNum(courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].endTime) - 1;\r\n        let middle = parseInt((initial + final)/2);\r\n        if ((final - initial) <= 3) {\r\n          for (let i = 0; i < 61; i++) {\r\n            if (\r\n              initial <= i &&\r\n              final >= i\r\n            ) {\r\n              let dayOfTheWeek = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days[k] + \"-\";\r\n              document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n              if (i === middle - 1) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = courseToChange.course;\r\n              }else if (i === middle) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"Tutorial\";\r\n              }else if(i === middle + 1){\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].startTime + \r\n                \"-\" + courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].endTime;\r\n              }else{\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n              }\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          for (let i = 0; i < 61; i++) {\r\n            if (\r\n              initial <= i &&\r\n              final >= i\r\n            ) {\r\n              let dayOfTheWeek = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].days[k] + \"-\";\r\n              document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n              if (i === middle - 2) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = courseToChange.course;\r\n              }else if (i === middle - 1) {\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"Tutorial\";\r\n              }else if(i === middle){\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].startTime;\r\n              }\r\n              else if(i === middle + 1){\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n              }\r\n              else if(i === middle + 2){\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = courseToChange.lecture[lectureIndex].tutorial[tutorialIndex].endTime;\r\n              }else{\r\n                document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    \r\n      if (courseToChange.lab.length != 0) {\r\n        for (let l = 0; l < courseToChange.lab[labIndex].days.length; l++) { // add lab\r\n\r\n          let initial = this.timeToNum(courseToChange.lab[labIndex].startTime);\r\n          let final = this.timeToNum(courseToChange.lab[labIndex].endTime) - 1;\r\n          let middle = parseInt((initial + final)/2);\r\n      \r\n          if ((final - initial) <= 3) {\r\n            for (let i = 0; i < 61; i++) {\r\n              if (\r\n                initial <= i &&\r\n                final >= i\r\n              ) {\r\n                let dayOfTheWeek = courseToChange.lab[labIndex].days[l] + \"-\";\r\n                document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                if (i === middle - 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = courseToChange.course;\r\n                }else if (i === middle) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"Lab\";\r\n                }else if(i === middle + 1){\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = courseToChange.lab[labIndex].startTime + \r\n                  \"-\" + courseToChange.lab[labIndex].endTime;\r\n                } else {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n                }\r\n              }\r\n            }\r\n          } \r\n          else {\r\n            for (let i = 0; i < 61; i++) {\r\n              if (\r\n                initial <= i &&\r\n                final >= i\r\n              ) {\r\n                let dayOfTheWeek = courseToChange.lab[labIndex].days[l] + \"-\";\r\n                document.getElementById(dayOfTheWeek + i).style.backgroundColor = colorChosen; // (you can choose to select the return of a function)\r\n                if (i === middle - 2) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = courseToChange.course;\r\n                }else if (i === middle - 1) {\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"Lab\";\r\n                }else if(i === middle){\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = courseToChange.lab[labIndex].startTime;\r\n                }\r\n                else if(i === middle + 1){\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"to\";\r\n                }\r\n                else if(i === middle + 2){\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = courseToChange.lab[labIndex].endTime;\r\n                }else{\r\n                  document.getElementById(dayOfTheWeek + i).innerHTML = \"<br />\";\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n    courseArray[1] = lectureIndex; //addedClass.lecture[0].section;\r\n    courseArray[2] = tutorialIndex; //addedClass.lecture[0].tutorial[0].section;\r\n    courseArray[3] = labIndex; //addedClass.lab[0].section;\r\n\r\n\r\n    // for (let i = 0; i < courseToRemove.lecture.length; i++) {\r\n    //   if (courseToRemove.lecture[i].section === lectureSection) {\r\n    //     lectureIndex = i;\r\n    //   }\r\n    // }\r\n\r\n    // for (let i = 0; i < courseToRemove.lecture[lectureIndex].tutorial.length; i++) {\r\n    //   if (courseToRemove.lecture[lectureIndex].tutorial[i].section === tutorialSection) {\r\n    //     tutorialIndex = i;\r\n    //   }\r\n    // }\r\n\r\n    // for (let i = 0; i < courseToRemove.lab.length; i++) {\r\n    //   if (courseToRemove.lab[i].section === labSection) {\r\n    //     labIndex = i;\r\n    //   }\r\n    // }\r\n\r\n\r\n  }\r\n\r\n  render() {\r\n    const styles = reactCSS({\r\n      default: {\r\n        popover: {\r\n          position: \"fixed\",\r\n          top: \"23%\",\r\n          left: \"38%\",\r\n          zIndex: \"2\"\r\n        },\r\n        cover: {\r\n          position: \"fixed\",\r\n          top: \"0px\",\r\n          right: \"0px\",\r\n          bottom: \"0px\",\r\n          left: \"0px\"\r\n        }\r\n      }\r\n    });\r\n\r\n    let myAddedClasses = this.state.selectedCourses.map(theClass => (\r\n      <option value={theClass[0].course}>{theClass[0].course}</option>\r\n    ));\r\n\r\n\r\n\r\n    let i = 0;\r\n\r\n    let x = this.state.selectedCourses.map(element => (\r\n      <tr id={element[0].course} style={{backgroundColor : this.state.colorOfNewClass[i++]}}>\r\n\r\n        <td>\r\n          <div>\r\n            <input type=\"checkbox\" checked /> &nbsp;\r\n            <strong>{element[0].course}</strong>\r\n            <br />\r\n            <strong>{element[0].name}</strong>{\" \"}\r\n            <br />\r\n            <select defaultValue={this.state.defaultValueLectureTutorial} id ={element[0].course + \"section\"} name=\"course-section\" /*onChange={this.changeSection(element.course)}*/>\r\n              {element[0].lecture.map(element1 => (\r\n                element1.tutorial.map(element2 => (\r\n                <option>{element1.section + \"-\" + element2.section}</option>))\r\n                ))}\r\n            </select> &nbsp;\r\n\r\n            <select defaultValue={this.state.defaultValueLab} id={element[0].course + \"labSection\"}>\r\n              {element[0].lab.map(element1 => (\r\n                <option>{element1.section}</option>\r\n              ))}\r\n            </select> &nbsp;\r\n            {/*<select>\r\n              {element[0].lecture.map(element1 => (\r\n                <option>{element1.section}</option>\r\n              ))}\r\n            </select> &nbsp;\r\n            <select>\r\n            {element[0].lecture[0].tutorial.map(element1 => (\r\n                <option>{element1.section}</option>\r\n              ))}\r\n            </select>*/}\r\n            <Button text=\"Change Section\" onClick={() => this.changeSection(element[0].course)} />\r\n            <br />\r\n            <p id=\"requirements\">\r\n              <strong>Requirement: </strong> related info goes here\r\n            </p>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    ));\r\n\r\n    let table = (\r\n      <Table\r\n        id=\"selected-course-table\"\r\n        className=\"rounded\"\r\n        striped\r\n        bordered\r\n        hover\r\n        variant=\"dark\"\r\n      >\r\n        {x}\r\n      </Table>\r\n    );\r\n\r\n    let allOptions = this.state.courses.map(choice => (\r\n      <option value={choice.course} />\r\n    ));\r\n\r\n    return (\r\n\r\n      <div className=\"container\">\r\n\r\n        <div className=\"jumbotron j-greetings\">\r\n          <LoadingScreen\r\n              loading={this.state.isLoading}\r\n              bgColor='#f1f1f1'\r\n              spinnerColor='#b30000'\r\n              textColor='#676767'\r\n              logoSrc='https://user-images.githubusercontent.com/36492119/52869487-bdcd5180-3113-11e9-93d4-155882376646.png'\r\n              text='Receiving Courses'\r\n          >\r\n\r\n          </LoadingScreen>\r\n          <h2 className=\"display-4\">Course Selection Menu</h2>\r\n          <hr color=\"#7e1530\" />\r\n\r\n          <div className=\"container\">\r\n                <div className=\"row bg-secondary text-white rounded\">\r\n                  <div className=\"col\">\r\n                    <label for=\"add-class1\">\r\n                      <h6 id=\"test\">Select Course</h6>\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      list=\"add-class2\"\r\n                      id=\"add-class1\"\r\n                      className=\"btn btn-dark\"\r\n                      placeholder=\"Course Number\"\r\n                    />\r\n                    <datalist id=\"add-class2\">{allOptions}</datalist>\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <Button\r\n                      text=\"Select\"\r\n                      onClick={this.addClass1}\r\n                      style={{ float: \"left\" }}\r\n                    />\r\n                    <Button\r\n                      text=\"Remove\"\r\n                      onClick={this.remove1}\r\n                      style={{ float: \"left\" }}\r\n                    />\r\n                    <Button\r\n                      text=\"Add by Upload\"\r\n                      onClick={this.openUpload}\r\n                      style={{ float: \"left\" }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <p\r\n                id=\"addStatus1\"\r\n                style={{ color: \"red\", visibility: this.state.show2 }}\r\n              />\r\n              <div className=\"mt-4\">{table}</div>\r\n              <hr color=\"#7e1530\" />\r\n          <h2 className=\"display-5\">\r\n            {this.state.semester} {this.state.year} Semester\r\n          </h2>\r\n          <p className=\"lead\" />\r\n\r\n\r\n\r\n\r\n\r\n          <div>\r\n            {\" \"}\r\n            {/* Schedule */}\r\n            <Table>\r\n              <tbody>\r\n                <tr>\r\n                  <td>\r\n                    <Table>\r\n                      <tbody>\r\n                        <th>Time</th>\r\n\r\n                        <tr>\r\n                          <td>\r\n                            {times.time.map(element => (\r\n                              <div>{element.startTime}</div>\r\n                            ))}\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </Table>\r\n                  </td>\r\n\r\n                  {this.state.weekdays.map(days => (\r\n                    <td>\r\n                      <table>\r\n                        <tbody>\r\n                          <th>{days}</th>\r\n                          <tr>\r\n                            <td>\r\n                              {times.time.map(element => {\r\n                                let myID = days + \"-\" + element.num;\r\n                                return (\r\n                                  <div id={myID}>\r\n                                    -----------------\r\n                                  </div>\r\n                                );\r\n                              })}\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n              </tbody>\r\n            </Table>\r\n          </div>\r\n\r\n          {/* <Button text=\"Add A Class\" onClick={this.handleShow} />\r\n          <Button text=\"Remove A Class\" onClick={this.handleShow1} /> */}\r\n          <Button text=\"Color Selection\" onClick={this.openRubiat} />\r\n          <Button text=\"Download Schedule\" onClick={this.downloadJson} />\r\n          <Link to=\"/finalize-export-sem\">\r\n            <Button text=\"Finalize\" />\r\n          </Link>\r\n\r\n          <Link to=\"/select-semester\">\r\n            <Button text=\"Back To Select Semester\" />\r\n          </Link>\r\n        </div>\r\n\r\n        {/* <Modal show={this.state.show} onHide={this.handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Add A Course</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body style={{ textAlign: \"center\" }}>\r\n            <p>Select A Course You'd Like To Add </p> <br />\r\n            <Form inline style={{ textAlign: \"center\" }}>\r\n              <input id=\"add-class\" type=\"text\" />\r\n              <Button type=\"submit\" text=\"Add Course\" onClick={this.onAdd} />\r\n            </Form>\r\n            <p id=\"addStatus\" style={{ color: \"red\" }} />\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button\r\n              variant=\"secondary\"\r\n              onClick={this.handleClose}\r\n              text=\"Close\"\r\n            />\r\n            <Button variant=\"primary\" text=\"Save Changes\" />\r\n          </Modal.Footer>\r\n        </Modal> */}\r\n\r\n        {/* <Modal show={this.state.show1} onHide={this.handleClose1}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Remove A Course</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body style={{ textAlign: \"center\" }}>\r\n            <p>Select A Course You'd Like To Remove </p> <br />\r\n            <Form inline style={{ textAlign: \"center\" }}>\r\n              <FormControl\r\n                type=\"text\"\r\n                placeholder=\"Search\"\r\n                className=\" mr-sm-2\"\r\n                style={{ width: \"100%\", textAlign: \"center\" }}\r\n              />\r\n              <Button type=\"submit\" text=\"Remove Course\" />\r\n            </Form>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button\r\n              variant=\"secondary\"\r\n              onClick={this.handleClose1}\r\n              text=\"Close\"\r\n            />\r\n            <Button variant=\"primary\" text=\"Save Changes\" />\r\n          </Modal.Footer>\r\n      </Modal> */}\r\n\r\n        <Modal show={this.state.rubiat} onHide={this.closeRubiat}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Course Colour Selection</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body style={{ textAlign: \"center\" }}>\r\n            <p>Select A Course and Color </p> <br />\r\n            <Form inline style={{ textAlign: \"center\" }}>\r\n              <div className=\"container\" style={{ width: \"40%\" }}>\r\n                <select id=\"colorChanger\">\r\n                  {myAddedClasses}\r\n                </select>\r\n              </div>\r\n              <Button text=\"Color Selection\" onClick={this.colourRubiatO} />\r\n            </Form>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"primary\" onClick={this.closeRubiat} text=\"Close\" />\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal show={this.state.colorS} onHide={this.colourRubiatC}>\r\n          <Modal.Header closeButton style={{ backgroundColor: \"#82100d\" }} >\r\n            <Modal.Title>Color Selector</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body style={{ textAlign: \"center\" }} >\r\n            <p style={{ margin: \"0px 0px 25% 0px\" }}>\r\n              Select a Color for Course (replace with course name)\r\n            </p>\r\n            <Form inline style={{ textAlign: \"center\" }}>\r\n              <div className=\"container\" style={{ width: \"40%\" }}>\r\n                <div style={styles.popover}>\r\n                  <CirclePicker\r\n                    style={{ margin: \"0px 0px 0px 0px\" }}\r\n                    onChangeComplete={this.handleChangeComplete}\r\n\r\n                  />\r\n                </div>\r\n              </div>\r\n            </Form>\r\n          </Modal.Body>\r\n\r\n          <Modal.Footer style={{ backgroundColor: \"#82100d\" }}>\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={this.colourRubiatC}\r\n              text=\"Close\"\r\n            />\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal show={this.state.showUpload} onHide={this.closeUpload}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Add Via Upload</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body style={{ textAlign: \"center\" }}>\r\n            <div>\r\n            <input type=\"file\" name=\"filename\" className=\"btn btn-dark\" onChange={this.handleSelectedFile}/>\r\n            <button className=\"btn btn-dark\" value=\"upload\" onClick={this.handleUpload}>Upload</button>\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"primary\" onClick={this.closeUpload} text=\"Close\" />\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default CourseSelectionMenu;\r\n"]},"metadata":{},"sourceType":"module"}